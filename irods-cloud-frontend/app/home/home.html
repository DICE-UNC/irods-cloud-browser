<div ng-include="'header.html'"></div>
<div ng-include="'actions_pop_up.html'"></div>
<!--<div ng-include="'side_nav.html'"></div>-->
<div id="main_contents" class="collapsed_main_content"> 
	
	<div class="one_column tablet_disappear">
		<div class="column_content">
			<div class="light_header"><span>Virtual Collections</span></div>
			<ul >
			    <li class="light_back_option" ng-repeat="virtualCollection in virtualCollections" ng-click="selectVirtualCollection(virtualCollection.uniqueName, '')">
			            <span><span class="{{virtualCollection.i18icon|iconic}}"></span><span>{{virtualCollection.uniqueName}}</span></span>
			    </li>
			</ul>
		</div>
	</div>
	<div class="four_column main_list">
		<div class="green_toggle_container tablet_appear">
			<div class="green_title" ng-click="green_action_toggle($event)">
				Virtual Collections
				<div class="dark_toggle_button right">
					 <img src="images/arrow_down.png">
				</div>
			</div>
			<div class="green_content" >
				<ul >
				    <li ng-class-odd="'light_back_option'" ng-class-even="'light_back_option_even'" ng-repeat="virtualCollection in virtualCollections" ng-click="selectVirtualCollection(virtualCollection.uniqueName, '')">
				            <img src="images/saved_search_icon.png"><span>{{virtualCollection.uniqueName}}</span>
				    </li>
				</ul>
			</div>
		</div>
		<div class="column_content">
			<div class="collection_header"> 					
				<div class="collection_actions_container" ng-show="selectedVc.data.type == 'COLLECTION'">
					<div class="desktop_collection_actions" >
						<div class="upload_button" title="Upload files to this collection" ng-click="upload_pop_up_open()"> 
							<img src="images/upload_icon.png"><span>&nbsp;Upload</span>	
						</div>
						<div class="small_vertical_divider" ></div>
						<div class="create_subcollection_button" title="Go to Profile page of this collection" ng-click="selectProfile(pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath)"> 
							<img src="images/info_icon.png"><span>&nbsp;Collection Info</span>	
						</div>
						<div class="small_vertical_divider"></div>
						<div class="create_subcollection_button" title="Create a new sub-collection inside this collection" ng-click="create_pop_up_open()">
							<img src="images/add_icon.png"><span>&nbsp;Add sub-collection</span>	
						</div>
					</div>
					<div class="right btn-group tablet_collection_actions" >
					  <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					    Collection Actions <span class="caret"></span>
					  </button>
					  <ul class="dropdown-menu dropdown-menu-right">
					    <li><a title="Upload files to this collection" ng-click="upload_pop_up_open()"><img src="images/upload_icon_dark.png"><span>&nbsp;Upload</span></a></li>
					    <li><a title="Go to Profile page of this collection" ng-click="selectProfile(pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath)"><img src="images/dark_info_icon.png"><span>&nbsp;Collection Info</span></a></li>
					    <li><a title="Create a new sub-collection inside this collection" ng-click="create_pop_up_open()"><img src="images/dark_add_icon.png"><span>&nbsp;Add sub-collection</span></a></li>
					  </ul>
					</div>
				</div>	
				<div class="breadcrumbs_container" ng-hide="pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.lengh == 0">
					<div class="breadcrumbs_sub_container" >
						 <div ng-mouseleave="hide_breadcrumbs()" ng-show=" breadcrumb_compressed_array.length > 0 " class="dark_back_option_double">
						   <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						     ... 
						   </button>
						   <ul class="dropdown-menu">
							   	<li title="{{breadcrumb.b}}" ng-repeat="breadcrumb in breadcrumb_compressed_array">
							   		<a ng-click="goToBreadcrumb(breadcrumb.path)">
							   			>&nbsp;{{breadcrumb.b}}
							   		</a>
							   	</li>							     
						   </ul>
						 </div>
						<div class="dark_back_option_double" title="{{breadcrumb.b}}" ng-click="goToBreadcrumb(breadcrumb.path)" ng-repeat="breadcrumb in breadcrumb_full_array_paths | limitTo:-5">							
							 >&nbsp;{{breadcrumb.b}}				
						</div>		
					</div>			
				</div>		
			</div>
			<hr class="light_hr">
			<div class="dark_header">				
				<div class="selection_actions_container">
					<div class="desktop_collection_actions">
						<div class="download_button" title="Delete selected file(s) " ng-click='delete_pop_up_open()' > 
							<img src="images/delete_icon.png"><span>&nbsp;Delete</span>	
						</div>
						<div class="rename_divider small_vertical_divider"></div>
						<div class="rename_button" title="Rename selected file/collection" ng-click='rename_pop_up_open()' > 
							<img src="images/edit_icon.png"><span>&nbsp;Rename</span>	
						</div>
						<div class="rename_divider small_vertical_divider"></div>
						<div class="rename_button" title="Copy selected file" ng-click='copy_pop_up_open()' > 
							<img src="images/copy_icon.png"><span>&nbsp;Copy</span>	
						</div>
						<div class="rename_divider small_vertical_divider"></div>
						<div class="rename_button" title="Move selected file" ng-click='move_pop_up_open()' > 
							<img src="images/move_icon.png"><span>&nbsp;Move</span>	
						</div>
						<div class="download_divider small_vertical_divider"></div>
						<div class="download_button" title="Download selected file(s) " ng-click='getDownloadLink()' > 
							<img src="images/download_icon.png"><span>&nbsp;Download</span>	
						</div>
						<div class="rename_divider small_vertical_divider"></div>
						<div class="rename_button" title="Info" ng-click='selectProfile(selected_target)'> 
							<img src="images/info_icon.png"><span>&nbsp;Info</span>	
						</div>
					</div>
					<div class="right btn-group tablet_collection_actions">
					  <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					    Selection Actions <span class="caret"></span>
					  </button>
					  <ul class="dropdown-menu dropdown-menu-right">
					  	<li class="empty_selection">Nothing is selected</li>
					    <li class="tablet_download_button"><div title="Download selected file(s) " ng-click='getDownloadLink()'><img src="images/dark_download_icon.png"><span>&nbsp;Download</span></div></li>
					    <li class="tablet_rename_button"><div title="Copy selected file" ng-click='copy_pop_up_open()'><img src="images/dark_copy_icon.png"><span>&nbsp;Copy</span></div></li>
					    <li class="tablet_rename_button"><div title="Move selected file" ng-click='move_pop_up_open()'><img src="images/dark_move_icon.png"><span>&nbsp;Move</span></div></li>
					  	<li class="tablet_rename_button"><div title="Rename selected file/collection" ng-click='rename_pop_up_open()'><img src="images/dark_edit_icon.png"><span>&nbsp;Rename</span></div></li>
					    <li class="tablet_download_button"><div title="Delete selected file(s) " ng-click='delete_pop_up_open()'><img src="images/dark_delete_icon.png"><span>&nbsp;Delete</span></div></li>
					  </ul>
					</div>
				</div>
				<div class="breadcrumbs_container">
					<div class="breadcrumbs_sub_container" >
						<span id="select-result">Nothing has been selected</span>
					</div>
				</div>
			</div>
			<ul context-menu data-target="main_list_menu" ng-class="{ 'highlight': highlight, 'expanded' : expanded }" class="selectable general_list_item">
			    <div class="list_header">
			    	<div class="col-xs-10 col-sm-10 col-md-7 col-lg-7 list_content">        
		            	<span><b>Name</b></span>
		            </div>
		            <div class="col-xs-3 list_content text-right tablet_disappear">
		            	<b>Last Modified</b>
		            </div>
		            <div class="col-xs-2 list_content text-right">
		            	<b>Size</b>
		            </div>
			    </div>

			    <li class="ui-widget-content data_{{collectionAndDataObject.dataObject}} ui-selectee " ng-dblclick="selectVirtualCollection(selectedVc.data.uniqueName,collectionAndDataObject.formattedAbsolutePath)" ng-class-odd="'light_back_option'" ng-class-even="'light_back_option_even'" ng-repeat="collectionAndDataObject in pagingAwareCollectionListing.collectionAndDataObjectListingEntries" id='{{collectionAndDataObject.formattedAbsolutePath}}' on-last-repeat>
		            <div class="col-xs-10 col-sm-10 col-md-7 col-lg-7 list_content">
			            <img ng-show="{{collectionAndDataObject.dataObject}} == true" src="images/data_object_icon.png">
			            <img ng-show="{{collectionAndDataObject.dataObject}} == false" src="images/collection_icon.png">        
		            	<span class="data_object">{{collectionAndDataObject.nodeLabelDisplayValue}}</span>
		            </div>
		            <div class="col-xs-3 list_content text-right tablet_disappear">
		            	<p>{{collectionAndDataObject.modifiedAt | date:"short"}}</p>
		            </div>
		            <div ng-show="{{collectionAndDataObject.dataObject}} == true" class="col-xs-2 list_content text-right">
		            	<p >{{collectionAndDataObject.displayDataSize}}</p>
		            </div>
		            <div ng-show="{{collectionAndDataObject.dataObject}} == false" class="col-xs-2 list_content text-right">
		            	<p >--</p>
		            </div>
			    </li>

			</ul>
		</div>
	</div>	
</div>

<div context-menu class="panel panel-default position-fixed"
     data-target="menu-{{ $index }}"
     ng-class="{ 'highlight': highlight, 'expanded' : expanded }">
  ...
</div>

<div class="dropdown position-fixed" id="main_list_menu">
  <ul class="dropdown-menu" role="menu">
    <li>
      <div class="rename_button context_button" title="Info" ng-click='selectProfile(selected_target)'> 
      	<img src="images/dark_info_icon.png"><span>&nbsp;Info</span>	
      </div>
    </li>
    <li>
      <div class="download_button context_button" title="Download selected file(s) " ng-click='getDownloadLink()' > 
      	<img src="images/dark_download_icon.png"><span>&nbsp;Download</span>	
      </div>
    </li>
    <li>
      <div class="rename_button context_button" title="Move selected file" ng-click='move_pop_up_open()' > 
      	<img src="images/dark_move_icon.png"><span>&nbsp;Move</span>	
      </div>
    </li>
    <li>
      <div class="rename_button context_button" title="Copy selected file" ng-click='copy_pop_up_open()' > 
		<img src="images/dark_copy_icon.png"><span>&nbsp;Copy</span>	
	</div>
    </li>
    <li>
      <div class="rename_button context_button" title="Rename selected file/collection" ng-click='rename_pop_up_open()' > 
      	<img src="images/dark_edit_icon.png"><span>&nbsp;Rename</span>	
      </div>
    </li>
    <li>
      <div class="download_button context_button" title="Delete selected file(s) " ng-click='delete_pop_up_open()' > 
      	<img src="images/dark_delete_icon.png"><span>&nbsp;Delete</span>	
      </div>
    </li>
  </ul>
</div>





















