function uiCodemirrorDirective(e,t){function i(e,i,a,l){var c=angular.extend({value:i.text()},t.codemirror||{},e.$eval(a.uiCodemirror),e.$eval(a.uiCodemirrorOpts)),u=n(i,c);o(u,a.uiCodemirror||a.uiCodemirrorOpts,e),r(u,l,e),s(u,a.uiRefresh,e),e.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(u)}),angular.isFunction(c.onLoad)&&c.onLoad(u)}function n(e,t){var i;return"TEXTAREA"===e[0].tagName?i=window.CodeMirror.fromTextArea(e[0],t):(e.html(""),i=new window.CodeMirror(function(t){e.append(t)},t)),i}function o(e,t,i){function n(t,i){angular.isObject(t)&&o.forEach(function(n){if(t.hasOwnProperty(n)){if(i&&t[n]===i[n])return;e.setOption(n,t[n])}})}if(t){var o=Object.keys(window.CodeMirror.defaults);i.$watch(t,n,!0)}}function r(e,t,i){t&&(t.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),t.$render=function(){var i=t.$viewValue||"";e.setValue(i)},e.on("change",function(e){var n=e.getValue();n!==t.$viewValue&&i.$evalAsync(function(){t.$setViewValue(n)})}))}function s(t,i,n){i&&n.$watch(i,function(i,n){i!==n&&e(function(){t.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return i}}}if(function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(i,n){if(!(this instanceof e))return new e(i,n);this.options=n=n?Fo(n):{},Fo(es,n,!1),p(n);var o=n.value;"string"==typeof o&&(o=new $s(o,n.mode,null,n.lineSeparator)),this.doc=o;var r=new e.inputStyles[n.inputStyle](this),s=this.display=new t(i,o,r);s.wrapper.CodeMirror=this,c(this),a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Pr&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Eo,keySeq:null,specialChars:null};var l=this;_r&&yr<11&&setTimeout(function(){l.display.input.reset(!0)},20),zt(this),Xo(),yt(this),this.curOp.forceUpdate=!0,Xn(this,o),n.autofocus&&!Pr||l.hasFocus()?setTimeout(jo(gi,this),20):vi(this);for(var u in ts)ts.hasOwnProperty(u)&&ts[u](this,n[u],is);x(this),n.finishInit&&n.finishInit(this);for(var h=0;h<ss.length;++h)ss[h](this);xt(this),wr&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,i){var n=this;this.input=i,n.scrollbarFiller=Bo("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Bo("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Bo("div",null,"CodeMirror-code"),n.selectionDiv=Bo("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Bo("div",null,"CodeMirror-cursors"),n.measure=Bo("div",null,"CodeMirror-measure"),n.lineMeasure=Bo("div",null,"CodeMirror-measure"),n.lineSpace=Bo("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Bo("div",[Bo("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Bo("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Bo("div",null,null,"position: absolute; height: "+Ms+"px; width: 1px;"),n.gutters=Bo("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Bo("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Bo("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),_r&&yr<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),wr||gr&&Pr||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function i(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,je(e,100),e.state.modeGen++,e.curOp&&Mt(e)}function o(e){e.options.lineWrapping?(Zs(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Qs(e.display.wrapper,"CodeMirror-wrap"),d(e)),s(e),Mt(e),at(e),setTimeout(function(){b(e)},100)}function r(e){var t=bt(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/_t(e.display)-3);return function(o){if(xn(e.doc,o))return 0;var r=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(r+=o.widgets[s].height);return i?r+(Math.ceil(o.text.length/n)||1)*t:r+t}}function s(e){var t=e.doc,i=r(e);t.iter(function(e){var t=i(e);t!=e.height&&eo(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function l(e){c(e),Mt(e),setTimeout(function(){w(e)},20)}function c(e){var t=e.display.gutters,i=e.options.gutters;qo(t);for(var n=0;n<i.length;++n){var o=i[n],r=t.appendChild(Bo("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(e.display.lineGutter=r,r.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function h(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=mn(n);){var o=t.find(0,!0);n=o.from.line,i+=o.from.ch-o.to.ch}for(n=e;t=gn(n);){var o=t.find(0,!0);i-=n.text.length-o.from.ch,n=o.to.line,i+=n.text.length-o.to.ch}return i}function d(e){var t=e.display,i=e.doc;t.maxLine=Qn(i,i.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=h(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}function p(e){var t=No(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function f(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+qe(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Ve(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function m(e,t,i){this.cm=i;var n=this.vert=Bo("div",[Bo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=Bo("div",[Bo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(o),As(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),As(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,_r&&yr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Qs(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),As(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?oi(t,e):ni(t,e)},t),t.display.scrollbars.addClass&&Zs(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=f(e));var i=e.display.barWidth,n=e.display.barHeight;_(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&E(e),_(e,f(e)),i=e.display.barWidth,n=e.display.barHeight}function _(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function y(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Be(e));var o=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,r=io(t,n),s=io(t,o);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<r?(r=a,s=io(t,no(Qn(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(r=io(t,no(Qn(t,l))-e.wrapper.clientHeight),s=l)}return{from:r,to:Math.max(s,r+1)}}function w(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=$(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,r=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&i[s].gutter&&(i[s].gutter.style.left=r);var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=r}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function x(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=C(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(Bo("div",[Bo("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,s=o.offsetWidth-r;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(r,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",u(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function $(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function k(e,t,i){var n=e.display;this.viewport=t,this.visible=y(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ye(e),this.force=i,this.dims=O(e),this.events=[]}function T(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ve(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ve(e)+"px",t.scrollbarsClipped=!0)}function S(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Ht(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Wt(e))return!1;x(e)&&(Ht(e),t.dims=O(e));var o=n.first+n.size,r=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(o,t.visible.to+e.options.viewportMargin);i.viewFrom<r&&r-i.viewFrom<20&&(r=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(o,i.viewTo)),Hr&&(r=yn(e.doc,r),s=wn(e.doc,s));var a=r!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;Rt(e,r,s),i.viewOffset=no(Qn(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var l=Wt(e);if(!a&&0==l&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=Vo();return l>4&&(i.lineDiv.style.display="none"),N(e,i.updateLineNumbers,t.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&Vo()!=c&&c.offsetHeight&&c.focus(),qo(i.cursorDiv),qo(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,je(e,400)),i.updateLineNumbers=null,!0}function D(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Ye(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+qe(e.display)-Ge(e),i.top)}),t.visible=y(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&S(e,t);n=!1){E(e);var o=f(e);Ne(e),b(e,o),A(e,o)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function P(e,t){var i=new k(e,t);if(S(e,i)){E(e),D(e,i);var n=f(e);Ne(e),b(e,n),A(e,n),i.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ve(e)+"px"}function E(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o,r=t.view[n];if(!r.hidden){if(_r&&yr<8){var s=r.node.offsetTop+r.node.offsetHeight;o=s-i,i=s}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var l=r.line.height-o;if(o<2&&(o=bt(t)),(l>.001||l<-.001)&&(eo(r.line,o),I(r.line),r.rest))for(var c=0;c<r.rest.length;c++)I(r.rest[c])}}}function I(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function O(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,r=t.gutters.firstChild,s=0;r;r=r.nextSibling,++s)i[e.options.gutters[s]]=r.offsetLeft+r.clientLeft+o,n[e.options.gutters[s]]=r.clientWidth;return{fixedPos:$(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function N(e,t,i){function n(t){var i=t.nextSibling;return wr&&Ar&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var o=e.display,r=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,l=o.view,c=o.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=n(a);var d=r&&null!=t&&t<=c&&h.lineNumber;h.changes&&(No(h.changes,"gutter")>-1&&(d=!1),M(e,h,c,i)),d&&(qo(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(C(e.options,c)))),a=h.node.nextSibling}else{var p=B(e,h,c,i);s.insertBefore(p,a)}c+=h.size}for(;a;)a=n(a)}function M(e,t,i,n){for(var o=0;o<t.changes.length;o++){var r=t.changes[o];"text"==r?j(e,t):"gutter"==r?W(e,t,i,n):"class"==r?R(t):"widget"==r&&z(e,t,n)}t.changes=null}function L(e){return e.node==e.text&&(e.node=Bo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),_r&&yr<8&&(e.node.style.zIndex=2)),e.node}function H(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var i=L(e);e.background=i.insertBefore(Bo("div",null,t),i.firstChild)}}function F(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Fn(e,t)}function j(e,t){var i=t.text.className,n=F(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,R(t)):i&&(t.text.className=i)}function R(e){H(e),e.line.wrapClass?L(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function W(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=L(t);t.gutterBackground=Bo("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=L(t),s=t.gutter=Bo("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Bo("div",C(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&s.appendChild(Bo("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function z(e,t,i){t.alignable&&(t.alignable=null);for(var n,o=t.node.firstChild;o;o=n){var n=o.nextSibling;"CodeMirror-linewidget"==o.className&&t.node.removeChild(o)}q(e,t,i)}function B(e,t,i,n){var o=F(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),R(t),W(e,t,i,n),q(e,t,n),t.node}function q(e,t,i){if(U(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)U(e,t.rest[n],t,i,!1)}function U(e,t,i,n,o){if(t.widgets)for(var r=L(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=Bo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),V(l,c,i,n),e.display.input.setUneditable(c),o&&l.above?r.insertBefore(c,i.gutter||i.text):r.appendChild(c),ko(l,"redraw")}}function V(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Y(e){return Fr(e.line,e.ch)}function G(e,t){return jr(e,t)<0?t:e}function K(e,t){return jr(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),gi(e))}function Q(e,t,i,n,o){var r=e.doc;e.display.shift=!1,n||(n=r.sel);var s=e.state.pasteIncoming||"paste"==o,a=r.splitLines(t),l=null;if(s&&n.ranges.length>1)if(Rr&&Rr.text.join("\n")==t){if(n.ranges.length%Rr.text.length==0){l=[];for(var c=0;c<Rr.text.length;c++)l.push(r.splitLines(Rr.text[c]))}}else a.length==n.ranges.length&&(l=Mo(a,function(e){return[e]}));for(var c=n.ranges.length-1;c>=0;c--){var u=n.ranges[c],h=u.from(),d=u.to();u.empty()&&(i&&i>0?h=Fr(h.line,h.ch-i):e.state.overwrite&&!s?d=Fr(d.line,Math.min(Qn(r,d.line).text.length,d.ch+Oo(a).length)):Rr&&Rr.lineWise&&Rr.text.join("\n")==t&&(h=d=Fr(h.line,0)));var p=e.curOp.updateInput,f={from:h,to:d,text:l?l[c%l.length]:a,origin:o||(s?"paste":e.state.cutIncoming?"cut":"+input")};ki(e.doc,f),ko(e,"inputRead",e,f)}t&&!s&&J(e,t),Hi(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var i=e.clipboardData&&e.clipboardData.getData("text/plain");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Pt(t,function(){Q(t,i,0,null,"paste")}),!0}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var o=i.ranges[n];if(!(o.head.ch>100||n&&i.ranges[n-1].head.line==o.head.line)){var r=e.getModeAt(o.head),s=!1;if(r.electricChars){for(var a=0;a<r.electricChars.length;a++)if(t.indexOf(r.electricChars.charAt(a))>-1){s=ji(e,o.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(Qn(e.doc,o.head.line).text.slice(0,o.head.ch))&&(s=ji(e,o.head.line,"smart"));s&&ko(e,"electricInput",e,o.head.line)}}}function ee(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,r={anchor:Fr(o,0),head:Fr(o+1,0)};i.push(r),t.push(e.getRange(r.anchor,r.head))}return{text:t,ranges:i}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ie(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Eo,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ne(){var e=Bo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Bo("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wr?e.style.width="1000px":e.setAttribute("wrap","off"),Dr&&(e.style.border="1px solid black"),te(e),t}function oe(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Eo,this.gracePeriod=!1}function re(e,t){var i=Je(e,t.line);if(!i||i.hidden)return null;var n=Qn(e.doc,t.line),o=Xe(i,n,t.line),r=oo(n),s="left";if(r){var a=ur(r,t.ch);s=a%2?"right":"left"}var l=it(o.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function se(e,t){return t&&(e.bad=!0),e}function ae(e,t,i){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[i],!n)return se(e.clipPos(Fr(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var r=e.display.view[o];if(r.node==n)return le(r,t,i)}}function le(e,t,i){function n(t,i,n){for(var o=-1;o<(u?u.length:0);o++)for(var r=o<0?c.map:u[o],s=0;s<r.length;s+=3){var a=r[s+2];if(a==t||a==i){var l=to(o<0?e.line:e.rest[o]),h=r[s]+n;return(n<0||a!=t)&&(h=r[s+(n?1:0)]),Fr(l,h)}}}var o=e.text.firstChild,r=!1;if(!t||!Gs(o,t))return se(Fr(to(e.line),0),!0);if(t==o&&(r=!0,t=o.childNodes[i],i=0,!t)){var s=e.rest?Oo(e.rest):e.line;return se(Fr(to(s),s.text.length),r)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=o;)l=l.parentNode;var c=e.measure,u=c.maps,h=n(a,l,i);if(h)return se(h,r);for(var d=l.nextSibling,p=a?a.nodeValue.length-i:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return se(Fr(h.line,h.ch-p),r);p+=d.textContent.length}for(var f=l.previousSibling,p=i;f;f=f.previousSibling){if(h=n(f,f.firstChild,-1))return se(Fr(h.line,h.ch+p),r);p+=d.textContent.length}}function ce(e,t,i,n,o){function r(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(null!=i)return""==i&&(i=t.textContent.replace(/\u200b/g,"")),void(a+=i);var u,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(Fr(n,0),Fr(o+1,0),r(+h));return void(d.length&&(u=d[0].find())&&(a+=Zn(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)s(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=e.doc.lineSeparator();s(t),t!=i;)t=t.nextSibling;return a}function ue(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function de(e,t){var i=e[t];e.sort(function(e,t){return jr(e.from(),t.from())}),t=No(e,i);for(var n=1;n<e.length;n++){var o=e[n],r=e[n-1];if(jr(r.to(),o.from())>=0){var s=K(r.from(),o.from()),a=G(r.to(),o.to()),l=r.empty()?o.from()==o.head:r.from()==r.head;n<=t&&--t,e.splice(--n,2,new he(l?a:s,l?s:a))}}return new ue(e,t)}function pe(e,t){return new ue([new he(e,t||e)],0)}function fe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return Fr(e.first,0);var i=e.first+e.size-1;return t.line>i?Fr(i,Qn(e,i).text.length):ge(t,Qn(e,t.line).text.length)}function ge(e,t){var i=e.ch;return null==i||i>t?Fr(e.line,t):i<0?Fr(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=me(e,t[n]);return i}function _e(e,t,i,n){if(e.cm&&e.cm.display.shift||e.extend){var o=t.anchor;if(n){var r=jr(i,o)<0;r!=jr(n,o)<0?(o=i,i=n):r!=jr(i,n)<0&&(i=n)}return new he(o,i)}return new he(n||i,i)}function ye(e,t,i,n){Te(e,new ue([_e(e,e.sel.primary(),t,i)],0),n)}function we(e,t,i){for(var n=[],o=0;o<e.sel.ranges.length;o++)n[o]=_e(e,e.sel.ranges[o],t[o],null);var r=de(n,e.sel.primIndex);Te(e,r,i)}function xe(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,Te(e,de(o,e.sel.primIndex),n)}function Ce(e,t,i,n){Te(e,pe(t,i),n)}function $e(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new he(me(e,t[i].anchor),me(e,t[i].head))},origin:i&&i.origin};return Os(e,"beforeSelectionChange",e,n),e.cm&&Os(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?de(n.ranges,n.ranges.length-1):t}function ke(e,t,i){var n=e.history.done,o=Oo(n);o&&o.ranges?(n[n.length-1]=t,Se(e,t,i)):Te(e,t,i)}function Te(e,t,i){Se(e,t,i),ho(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Se(e,t,i){(Po(e,"beforeSelectionChange")||e.cm&&Po(e.cm,"beforeSelectionChange"))&&(t=$e(e,t,i));var n=i&&i.bias||(jr(t.primary().head,e.sel.primary().head)<0?-1:1);De(e,Ae(e,t,n,!0)),i&&i.scroll===!1||!e.cm||Hi(e.cm)}function De(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Do(e.cm)),ko(e,"cursorActivity",e))}function Pe(e){De(e,Ae(e,e.sel,null,!1),Hs)}function Ae(e,t,i,n){for(var o,r=0;r<t.ranges.length;r++){var s=t.ranges[r],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],l=Ie(e,s.anchor,a&&a.anchor,i,n),c=Ie(e,s.head,a&&a.head,i,n);(o||l!=s.anchor||c!=s.head)&&(o||(o=t.ranges.slice(0,r)),o[r]=new he(l,c))}return o?de(o,t.primIndex):t}function Ee(e,t,i,n,o){var r=Qn(e,t.line);if(r.markedSpans)for(var s=0;s<r.markedSpans.length;++s){var a=r.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(o&&(Os(l,"beforeCursorEnter"),l.explicitlyCleared)){if(r.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c,u=l.find(n<0?1:-1);if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Oe(e,u,-n,u&&u.line==t.line?r:null)),u&&u.line==t.line&&(c=jr(u,i))&&(n<0?c<0:c>0))return Ee(e,u,t,n,o)}var h=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(h=Oe(e,h,n,h.line==t.line?r:null)),h?Ee(e,h,t,n,o):null}}return t}function Ie(e,t,i,n,o){var r=n||1,s=Ee(e,t,i,r,o)||!o&&Ee(e,t,i,r,!0)||Ee(e,t,i,-r,o)||!o&&Ee(e,t,i,-r,!0);return s?s:(e.cantEdit=!0,Fr(e.first,0))}function Oe(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?me(e,Fr(t.line-1)):null:i>0&&t.ch==(n||Qn(e,t.line)).text.length?t.line<e.first+e.size-1?Fr(t.line+1,0):null:new Fr(t.line,t.ch+i)}function Ne(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Me(e,t){for(var i=e.doc,n={},o=n.cursors=document.createDocumentFragment(),r=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t!==!1||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Le(e,a.head,o),l||He(e,a,r)}}return n}function Le(e,t,i){var n=pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=i.appendChild(Bo("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var r=i.appendChild(Bo("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=n.other.left+"px",r.style.top=n.other.top+"px",r.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function He(e,t,i){function n(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),a.appendChild(Bo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?u-e:i)+"px; height: "+(n-t)+"px"))}function o(t,i,o){function r(i,n){return dt(e,Fr(t,i),"div",h,n)}var a,l,h=Qn(s,t),d=h.text.length;return tr(oo(h),i||0,null==o?d:o,function(e,t,s){var h,p,f,m=r(e,"left");if(e==t)h=m,p=f=m.left;else{if(h=r(t-1,"right"),"rtl"==s){var g=m;m=h,h=g}p=m.left,f=h.right}null==i&&0==e&&(p=c),h.top-m.top>3&&(n(p,m.top,null,m.bottom),p=c,m.bottom<h.top&&n(p,m.bottom,null,h.top)),null==o&&t==d&&(f=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),p<c+1&&(p=c),n(p,h.top,f-p,h.bottom)}),{start:a,end:l}}var r=e.display,s=e.doc,a=document.createDocumentFragment(),l=Ue(e.display),c=l.left,u=Math.max(r.sizerWidth,Ye(e)-r.sizer.offsetLeft)-l.right,h=t.from(),d=t.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var p=Qn(s,h.line),f=Qn(s,d.line),m=bn(p)==bn(f),g=o(h.line,h.ch,m?p.text.length+1:null).end,v=o(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(n(g.right,g.top,null,g.bottom),n(c,v.top,v.left,v.bottom)):n(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&n(c,g.bottom,null,v.top)}i.appendChild(a)}function Fe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function je(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,jo(Re,e))}function Re(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=ls(t.mode,ze(e,t.frontier)),o=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(r){if(t.frontier>=e.display.viewFrom){var s=r.styles,a=r.text.length>e.options.maxHighlightLength,l=Nn(e,r,a?ls(t.mode,n):n,!0);r.styles=l.styles;var c=r.styleClasses,u=l.classes;u?r.styleClasses=u:c&&(r.styleClasses=null);for(var h=!s||s.length!=r.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=r.styles[d];h&&o.push(t.frontier),r.stateAfter=a?n:ls(t.mode,n)}else r.text.length<=e.options.maxHighlightLength&&Ln(e,r.text,n),r.stateAfter=t.frontier%5==0?ls(t.mode,n):null;if(++t.frontier,+new Date>i)return je(e,e.options.workDelay),!0}),o.length&&Pt(e,function(){for(var t=0;t<o.length;t++)Lt(e,o[t],"text")})}}function We(e,t,i){for(var n,o,r=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=r.first)return r.first;var l=Qn(r,a-1);if(l.stateAfter&&(!i||a<=r.frontier))return a;var c=Rs(l.text,null,e.options.tabSize);(null==o||n>c)&&(o=a-1,n=c)}return o}function ze(e,t,i){var n=e.doc,o=e.display;if(!n.mode.startState)return!0;var r=We(e,t,i),s=r>n.first&&Qn(n,r-1).stateAfter;return s=s?ls(n.mode,s):cs(n.mode),n.iter(r,t,function(i){Ln(e,i.text,s);var a=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo;i.stateAfter=a?ls(n.mode,s):null,++r}),i&&(n.frontier=r),s}function Be(e){return e.lineSpace.offsetTop}function qe(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ue(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Uo(e.measure,Bo("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Ve(e){return Ms-e.display.nativeBarWidth}function Ye(e){return e.display.scroller.clientWidth-Ve(e)-e.display.barWidth}function Ge(e){return e.display.scroller.clientHeight-Ve(e)-e.display.barHeight}function Ke(e,t,i){var n=e.options.lineWrapping,o=n&&Ye(e);if(!t.measure.heights||n&&t.measure.width!=o){var r=t.measure.heights=[];if(n){t.measure.width=o;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];
Math.abs(l.bottom-c.bottom)>2&&r.push((l.bottom+c.top)/2-i.top)}}r.push(i.bottom-i.top)}}function Xe(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(to(e.rest[n])>i)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Qe(e,t){t=bn(t);var i=to(t),n=e.display.externalMeasured=new Ot(e.doc,t,i);n.lineN=i;var o=n.built=Fn(e,n);return n.text=o.pre,Uo(e.display.lineMeasure,o.pre),n}function Ze(e,t,i,n){return tt(e,et(e,t),i,n)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ft(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function et(e,t){var i=to(t),n=Je(e,i);n&&!n.text?n=null:n&&n.changes&&(M(e,n,i,O(e)),e.curOp.forceUpdate=!0),n||(n=Qe(e,t));var o=Xe(n,t,i);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function tt(e,t,i,n,o){t.before&&(i=-1);var r,s=i+(n||"");return t.cache.hasOwnProperty(s)?r=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ke(e,t.view,t.rect),t.hasHeights=!0),r=nt(e,t,i,n),r.bogus||(t.cache[s]=r)),{left:r.left,right:r.right,top:o?r.rtop:r.top,bottom:o?r.rbottom:r.bottom}}function it(e,t,i){for(var n,o,r,s,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(t<l?(o=0,r=1,s="left"):t<c?(o=t-l,r=o+1):(a==e.length-3||t==c&&e[a+3]>t)&&(r=c-l,o=r-1,t>=c&&(s="right")),null!=o){if(n=e[a+2],l==c&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==o)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)n=e[(a-=3)+2],s="left";if("right"==i&&o==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)n=e[(a+=3)+2],s="right";break}}return{node:n,start:o,end:r,collapse:s,coverStart:l,coverEnd:c}}function nt(e,t,i,n){var o,r=it(t.map,i,n),s=r.node,a=r.start,l=r.end,c=r.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&zo(t.line.text.charAt(r.coverStart+a));)--a;for(;r.coverStart+l<r.coverEnd&&zo(t.line.text.charAt(r.coverStart+l));)++l;if(_r&&yr<9&&0==a&&l==r.coverEnd-r.coverStart)o=s.parentNode.getBoundingClientRect();else if(_r&&e.options.lineWrapping){var h=qs(s,a,l).getClientRects();o=h.length?h["right"==n?h.length-1:0]:qr}else o=qs(s,a,l).getBoundingClientRect()||qr;if(o.left||o.right||0==a)break;l=a,a-=1,c="right"}_r&&yr<11&&(o=ot(e.display.measure,o))}else{a>0&&(c=n="right");var h;o=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==n?h.length-1:0]:s.getBoundingClientRect()}if(_r&&yr<9&&!a&&(!o||!o.left&&!o.right)){var d=s.parentNode.getClientRects()[0];o=d?{left:d.left,right:d.left+_t(e.display),top:d.top,bottom:d.bottom}:qr}for(var p=o.top-t.rect.top,f=o.bottom-t.rect.top,m=(p+f)/2,g=t.view.measure.heights,u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,b=g[u],_={left:("right"==c?o.right:o.left)-t.rect.left,right:("left"==c?o.left:o.right)-t.rect.left,top:v,bottom:b};return o.left||o.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=p,_.rbottom=f),_}function ot(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!er(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function rt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function st(e){e.display.externalMeasure=null,qo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)rt(e.display.view[t])}function at(e){st(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,i,n){if(t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var r=kn(t.widgets[o]);i.top+=r,i.bottom+=r}if("line"==n)return i;n||(n="local");var s=no(t);if("local"==n?s+=Be(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:ct());var l=a.left+("window"==n?0:lt());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function ht(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;if("page"==i)n-=lt(),o-=ct();else if("local"==i||!i){var r=e.display.sizer.getBoundingClientRect();n+=r.left,o+=r.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:o-s.top}}function dt(e,t,i,n,o){return n||(n=Qn(e.doc,t.line)),ut(e,n,Ze(e,n,t.ch,o),i)}function pt(e,t,i,n,o,r){function s(t,s){var a=tt(e,o,t,s?"right":"left",r);return s?a.left=a.right:a.right=a.left,ut(e,n,a,i)}function a(e,t){var i=l[t],n=i.level%2;return e==ir(i)&&t&&i.level<l[t-1].level?(i=l[--t],e=nr(i)-(i.level%2?0:1),n=!0):e==nr(i)&&t<l.length-1&&i.level<l[t+1].level&&(i=l[++t],e=ir(i)-i.level%2,n=!1),n&&e==i.to&&e>i.from?s(e-1):s(e,n)}n=n||Qn(e.doc,t.line),o||(o=et(e,n));var l=oo(n),c=t.ch;if(!l)return s(c);var u=ur(l,c),h=a(c,u);return null!=sa&&(h.other=a(c,sa)),h}function ft(e,t){var i=0,t=me(e.doc,t);e.options.lineWrapping||(i=_t(e.display)*t.ch);var n=Qn(e.doc,t.line),o=no(n)+Be(e.display);return{left:i,right:i,top:o,bottom:o+n.height}}function mt(e,t,i,n){var o=Fr(e,t);return o.xRel=n,i&&(o.outside=!0),o}function gt(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,i<0)return mt(n.first,0,!0,-1);var o=io(n,i),r=n.first+n.size-1;if(o>r)return mt(n.first+n.size-1,Qn(n,r).text.length,!0,1);t<0&&(t=0);for(var s=Qn(n,o);;){var a=vt(e,s,o,t,i),l=gn(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;o=to(s=c.to.line)}}function vt(e,t,i,n,o){function r(n){var o=pt(e,Fr(i,n),"line",t,c);return a=!0,s>o.bottom?o.left-l:s<o.top?o.left+l:(a=!1,o.left)}var s=o-no(t),a=!1,l=2*e.display.wrapper.clientWidth,c=et(e,t),u=oo(t),h=t.text.length,d=or(t),p=rr(t),f=r(d),m=a,g=r(p),v=a;if(n>g)return mt(i,p,v,1);for(;;){if(u?p==d||p==dr(t,d,1):p-d<=1){var b=n<f||n-f<=g-n?d:p,_=b==d?m:v,y=n-(b==d?f:g);if(v&&!u&&!/\s/.test(t.text.charAt(b))&&y>0&&b<t.text.length&&c.view.measure.heights.length>1){var w=tt(e,c,b,"right");s<=w.bottom&&s>=w.top&&Math.abs(n-w.right)<y&&(_=!1,b++,y=n-w.right)}for(;zo(t.text.charAt(b));)++b;var x=mt(i,b,_,y<-1?-1:y>1?1:0);return x}var C=Math.ceil(h/2),$=d+C;if(u){$=d;for(var k=0;k<C;++k)$=dr(t,$,1)}var T=r($);T>n?(p=$,g=T,(v=a)&&(g+=1e3),h=C):(d=$,f=T,m=a,h-=C)}}function bt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Wr){Wr=Bo("pre");for(var t=0;t<49;++t)Wr.appendChild(document.createTextNode("x")),Wr.appendChild(Bo("br"));Wr.appendChild(document.createTextNode("x"))}Uo(e.measure,Wr);var i=Wr.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),qo(e.measure),i||1}function _t(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Bo("span","xxxxxxxxxx"),i=Bo("pre",[t]);Uo(e.measure,i);var n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function yt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vr},Ur?Ur.ops.push(e.curOp):e.curOp.ownsGroup=Ur={ops:[e.curOp],delayedCallbacks:[]}}function wt(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<t.length)}function xt(e){var t=e.curOp,i=t.ownsGroup;if(i)try{wt(i)}finally{Ur=null;for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;Ct(i)}}function Ct(e){for(var t=e.ops,i=0;i<t.length;i++)$t(t[i]);for(var i=0;i<t.length;i++)kt(t[i]);for(var i=0;i<t.length;i++)Tt(t[i]);for(var i=0;i<t.length;i++)St(t[i]);for(var i=0;i<t.length;i++)Dt(t[i])}function $t(e){var t=e.cm,i=t.display;T(t),e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new k(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function kt(e){e.updatedDisplay=e.mustUpdate&&S(e.cm,e.update)}function Tt(e){var t=e.cm,i=t.display;e.updatedDisplay&&E(t),e.barMeasure=f(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ze(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Ve(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Ye(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection(e.focus))}function St(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&oi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==Vo()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.updatedDisplay&&A(t,e.barMeasure),e.selectionChanged&&Fe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&X(e.cm)}function Dt(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&D(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==e.scrollTop||i.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||i.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,e.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,w(t)),e.scrollToPos){var o=Oi(t,me(n,e.scrollToPos.from),me(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Ii(t,o)}var r=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||Os(r[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Os(s[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Os(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Pt(e,t){if(e.curOp)return t();yt(e);try{return t()}finally{xt(e)}}function At(e,t){return function(){if(e.curOp)return t.apply(e,arguments);yt(e);try{return t.apply(e,arguments)}finally{xt(e)}}}function Et(e){return function(){if(this.curOp)return e.apply(this,arguments);yt(this);try{return e.apply(this,arguments)}finally{xt(this)}}}function It(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);yt(t);try{return e.apply(this,arguments)}finally{xt(t)}}}function Ot(e,t,i){this.line=t,this.rest=_n(t),this.size=this.rest?to(Oo(this.rest))-i+1:1,this.node=this.text=null,this.hidden=xn(e,t)}function Nt(e,t,i){for(var n,o=[],r=t;r<i;r=n){var s=new Ot(e.doc,Qn(e.doc,r),r);n=r+s.size,o.push(s)}return o}function Mt(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Hr&&yn(e.doc,t)<o.viewTo&&Ht(e);else if(i<=o.viewFrom)Hr&&wn(e.doc,i+n)>o.viewFrom?Ht(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&i>=o.viewTo)Ht(e);else if(t<=o.viewFrom){var r=jt(e,i,i+n,1);r?(o.view=o.view.slice(r.index),o.viewFrom=r.lineN,o.viewTo+=n):Ht(e)}else if(i>=o.viewTo){var r=jt(e,t,t,-1);r?(o.view=o.view.slice(0,r.index),o.viewTo=r.lineN):Ht(e)}else{var s=jt(e,t,t,-1),a=jt(e,i,i+n,1);s&&a?(o.view=o.view.slice(0,s.index).concat(Nt(e,s.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=n):Ht(e)}var l=o.externalMeasured;l&&(i<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(o.externalMeasured=null))}function Lt(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var r=n.view[Ft(e,t)];if(null!=r.node){var s=r.changes||(r.changes=[]);No(s,i)==-1&&s.push(i)}}}function Ht(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ft(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if(t-=i[n].size,t<0)return n}function jt(e,t,i,n){var o,r=Ft(e,t),s=e.display.view;if(!Hr||i==e.doc.first+e.doc.size)return{index:r,lineN:i};for(var a=0,l=e.display.viewFrom;a<r;a++)l+=s[a].size;if(l!=t){if(n>0){if(r==s.length-1)return null;o=l+s[r].size-t,r++}else o=l-t;t+=o,i+=o}for(;yn(e.doc,i)!=i;){if(r==(n<0?0:s.length-1))return null;i+=n*s[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Rt(e,t,i){var n=e.display,o=n.view;0==o.length||t>=n.viewTo||i<=n.viewFrom?(n.view=Nt(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Nt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Ft(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Nt(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ft(e,i)))),n.viewTo=i}function Wt(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function zt(e){function t(){o.activeTouch&&(r=setTimeout(function(){o.activeTouch=null},1e3),s=o.activeTouch,s.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}var o=e.display;As(o.scroller,"mousedown",At(e,Yt)),_r&&yr<11?As(o.scroller,"dblclick",At(e,function(t){if(!So(e,t)){var i=Vt(e,t);if(i&&!Zt(e,t)&&!Ut(e.display,t)){Ss(t);var n=e.findWordAt(i);ye(e.doc,n.anchor,n.head)}}})):As(o.scroller,"dblclick",function(t){So(e,t)||Ss(t)}),Mr||As(o.scroller,"contextmenu",function(t){bi(e,t)});var r,s={end:0};As(o.scroller,"touchstart",function(t){if(!So(e,t)&&!i(t)){clearTimeout(r);var n=+new Date;o.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==t.touches.length&&(o.activeTouch.left=t.touches[0].pageX,o.activeTouch.top=t.touches[0].pageY)}}),As(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),As(o.scroller,"touchend",function(i){var r=o.activeTouch;if(r&&!Ut(o,i)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=e.coordsChar(o.activeTouch,"page");s=!r.prev||n(r,r.prev)?new he(a,a):!r.prev.prev||n(r,r.prev.prev)?e.findWordAt(a):new he(Fr(a.line,0),me(e.doc,Fr(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Ss(i)}t()}),As(o.scroller,"touchcancel",t),As(o.scroller,"scroll",function(){o.scroller.clientHeight&&(ni(e,o.scroller.scrollTop),oi(e,o.scroller.scrollLeft,!0),Os(e,"scroll",e))}),As(o.scroller,"mousewheel",function(t){ri(e,t)}),As(o.scroller,"DOMMouseScroll",function(t){ri(e,t)}),As(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(t){So(e,t)||Ps(t)},over:function(t){So(e,t)||(ti(e,t),Ps(t))},start:function(t){ei(e,t)},drop:At(e,Jt),leave:function(t){So(e,t)||ii(e)}};var a=o.input.getField();As(a,"keyup",function(t){pi.call(e,t)}),As(a,"keydown",At(e,hi)),As(a,"keypress",At(e,fi)),As(a,"focus",jo(gi,e)),As(a,"blur",jo(vi,e))}function Bt(t,i,n){var o=n&&n!=e.Init;if(!i!=!o){var r=t.display.dragFunctions,s=i?As:Is;s(t.display.scroller,"dragstart",r.start),s(t.display.scroller,"dragenter",r.enter),s(t.display.scroller,"dragover",r.over),s(t.display.scroller,"dragleave",r.leave),s(t.display.scroller,"drop",r.drop)}}function qt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Ut(e,t){for(var i=xo(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Vt(e,t,i,n){var o=e.display;if(!i&&"true"==xo(t).getAttribute("cm-not-content"))return null;var r,s,a=o.lineSpace.getBoundingClientRect();try{r=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=gt(e,r,s);if(n&&1==c.xRel&&(l=Qn(e.doc,c.line).text).length==c.ch){var u=Rs(l,l.length,e.options.tabSize)-l.length;c=Fr(c.line,Math.max(0,Math.round((r-Ue(e.display).left)/_t(e.display))-u))}return c}function Yt(e){var t=this,i=t.display;if(!(So(t,e)||i.activeTouch&&i.input.supportsTouch())){if(i.shift=e.shiftKey,Ut(i,e))return void(wr||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)));if(!Zt(t,e)){var n=Vt(t,e);switch(window.focus(),Co(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?Gt(t,e,n):xo(e)==i.scroller&&Ss(e);break;case 2:wr&&(t.state.lastMiddleDown=+new Date),n&&ye(t.doc,n),setTimeout(function(){i.input.focus()},20),Ss(e);break;case 3:Mr?bi(t,e):mi(t)}}}}function Gt(e,t,i){_r?setTimeout(jo(X,e),0):e.curOp.focus=Vo();var n,o=+new Date;Br&&Br.time>o-400&&0==jr(Br.pos,i)?n="triple":zr&&zr.time>o-400&&0==jr(zr.pos,i)?(n="double",Br={time:o,pos:i}):(n="single",zr={time:o,pos:i});var r,s=e.doc.sel,a=Ar?t.metaKey:t.ctrlKey;e.options.dragDrop&&ea&&!e.isReadOnly()&&"single"==n&&(r=s.contains(i))>-1&&(jr((r=s.ranges[r]).from(),i)<0||i.xRel>0)&&(jr(r.to(),i)>0||i.xRel<0)?Kt(e,t,i,a):Xt(e,t,i,n,a)}function Kt(e,t,i,n){var o=e.display,r=+new Date,s=At(e,function(a){wr&&(o.scroller.draggable=!1),e.state.draggingText=!1,Is(document,"mouseup",s),Is(o.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Ss(a),!n&&+new Date-200<r&&ye(e.doc,i),wr||_r&&9==yr?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});wr&&(o.scroller.draggable=!0),e.state.draggingText=s,s.copy=Ar?t.altKey:t.ctrlKey,o.scroller.dragDrop&&o.scroller.dragDrop(),As(document,"mouseup",s),As(o.scroller,"drop",s)}function Xt(e,t,i,n,o){function r(t){if(0!=jr(g,t))if(g=t,"rect"==n){for(var o=[],r=e.options.tabSize,s=Rs(Qn(c,i.line).text,i.ch,r),a=Rs(Qn(c,t.line).text,t.ch,r),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));f<=m;f++){var v=Qn(c,f).text,b=Ws(v,l,r);l==p?o.push(new he(Fr(f,b),Fr(f,b))):v.length>b&&o.push(new he(Fr(f,b),Fr(f,Ws(v,p,r))))}o.length||o.push(new he(i,i)),Te(c,de(d.ranges.slice(0,h).concat(o),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var _=u,y=_.anchor,w=t;if("single"!=n){if("double"==n)var x=e.findWordAt(t);else var x=new he(Fr(t.line,0),me(c,Fr(t.line+1,0)));jr(x.anchor,y)>0?(w=x.head,y=K(_.from(),x.anchor)):(w=x.anchor,y=G(_.to(),x.head))}var o=d.ranges.slice(0);o[h]=new he(me(c,y),w),Te(c,de(o,h),Fs)}}function s(t){var i=++b,o=Vt(e,t,!0,"rect"==n);if(o)if(0!=jr(o,g)){e.curOp.focus=Vo(),r(o);var a=y(l,c);(o.line>=a.to||o.line<a.from)&&setTimeout(At(e,function(){b==i&&s(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(At(e,function(){b==i&&(l.scroller.scrollTop+=u,s(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,Ss(t),l.input.focus(),Is(document,"mousemove",_),Is(document,"mouseup",w),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;Ss(t);var u,h,d=c.sel,p=d.ranges;if(o&&!t.shiftKey?(h=c.sel.contains(i),u=h>-1?p[h]:new he(i,i)):(u=c.sel.primary(),h=c.sel.primIndex),Er?t.shiftKey&&t.metaKey:t.altKey)n="rect",o||(u=new he(i,i)),i=Vt(e,t,!0,!0),h=-1;else if("double"==n){var f=e.findWordAt(i);u=e.display.shift||c.extend?_e(c,u,f.anchor,f.head):f}else if("triple"==n){var m=new he(Fr(i.line,0),me(c,Fr(i.line+1,0)));u=e.display.shift||c.extend?_e(c,u,m.anchor,m.head):m}else u=_e(c,u,i);o?h==-1?(h=p.length,Te(c,de(p.concat([u]),h),{scroll:!1,origin:"*mouse"})):p.length>1&&p[h].empty()&&"single"==n&&!t.shiftKey?(Te(c,de(p.slice(0,h).concat(p.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),d=c.sel):xe(c,h,u,Fs):(h=0,Te(c,new ue([u],0),Fs),d=c.sel);var g=i,v=l.wrapper.getBoundingClientRect(),b=0,_=At(e,function(e){Co(e)?s(e):a(e)}),w=At(e,a);e.state.selectingText=w,As(document,"mousemove",_),As(document,"mouseup",w)}function Qt(e,t,i,n){try{var o=t.clientX,r=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Ss(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(r>a.bottom||!Po(e,i))return wo(t);r-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o){var u=io(e.doc,r),h=e.options.gutters[l];return Os(e,i,e,u,h,t),wo(t)}}}function Zt(e,t){return Qt(e,t,"gutterClick",!0)}function Jt(e){var t=this;if(ii(t),!So(t,e)&&!Ut(t.display,e)){Ss(e),_r&&(Yr=+new Date);var i=Vt(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,r=Array(o),s=0,a=function(e,n){if(!t.options.allowDropFileTypes||No(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=At(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),r[n]=e,++s==o){i=me(t.doc,i);var l={from:i,to:i,text:t.doc.splitLines(r.join(t.doc.lineSeparator())),origin:"paste"};ki(t.doc,l),ke(t.doc,pe(i,Jr(l)))}}),a.readAsText(e)}},l=0;l<o;++l)a(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var r=e.dataTransfer.getData("Text");if(r){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(Se(t.doc,pe(i,i)),c)for(var l=0;l<c.length;++l)Ei(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(r,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ei(e,t){if(_r&&(!e.state.draggingText||+new Date-Yr<100))return void Ps(t);if(!So(e,t)&&!Ut(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!kr)){var i=Bo("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$r&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),$r&&i.parentNode.removeChild(i)}}function ti(e,t){var i=Vt(e,t);if(i){var n=document.createDocumentFragment();Le(e,i,n),e.display.dragCursor||(e.display.dragCursor=Bo("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Uo(e.display.dragCursor,n)}}function ii(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ni(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,gr||P(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),gr&&P(e),je(e,100))}function oi(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ri(e,t){var i=Xr(t),n=i.x,o=i.y,r=e.display,s=r.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||o&&l){if(o&&Ar&&wr)e:for(var c=t.target,u=r.view;c!=s;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){e.display.currentWheelTarget=c;break e}if(n&&!gr&&!$r&&null!=Kr)return o&&l&&ni(e,Math.max(0,Math.min(s.scrollTop+o*Kr,s.scrollHeight-s.clientHeight))),oi(e,Math.max(0,Math.min(s.scrollLeft+n*Kr,s.scrollWidth-s.clientWidth))),(!o||o&&l)&&Ss(t),void(r.wheelStartX=null);if(o&&null!=Kr){var d=o*Kr,p=e.doc.scrollTop,f=p+r.wrapper.clientHeight;d<0?p=Math.max(0,p+d-50):f=Math.min(e.doc.height,f+d+50),P(e,{top:p,bottom:f})}Gr<20&&(null==r.wheelStartX?(r.wheelStartX=s.scrollLeft,r.wheelStartY=s.scrollTop,r.wheelDX=n,r.wheelDY=o,setTimeout(function(){if(null!=r.wheelStartX){var e=s.scrollLeft-r.wheelStartX,t=s.scrollTop-r.wheelStartY,i=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,i&&(Kr=(Kr*Gr+i)/(Gr+1),++Gr)}},200)):(r.wheelDX+=n,r.wheelDY+=o))}}function si(e,t,i){if("string"==typeof t&&(t=us[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=Ls}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}function ai(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=ds(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&ds(t,e.options.extraKeys,i,e)||ds(t,e.options.keyMap,i,e)}function li(e,t,i,n){var o=e.state.keySeq;if(o){if(ps(t))return"handled";Qr.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),t=o+" "+t}var r=ai(e,t,n);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&ko(e,"keyHandled",e,t,i),"handled"!=r&&"multi"!=r||(Ss(i),Fe(e)),o&&!r&&/\'$/.test(t)?(Ss(i),!0):!!r}function ci(e,t){var i=fs(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?li(e,"Shift-"+i,t,function(t){return si(e,t,!0)})||li(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return si(e,t)}):li(e,i,t,function(t){return si(e,t)}))}function ui(e,t,i){return li(e,"'"+i+"'",t,function(t){return si(e,t,!0)})}function hi(e){var t=this;if(t.curOp.focus=Vo(),!So(t,e)){_r&&yr<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=ci(t,e);$r&&(Zr=n?i:null,!n&&88==i&&!na&&(Ar?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||di(t)}}function di(e){function t(e){18!=e.keyCode&&e.altKey||(Qs(i,"CodeMirror-crosshair"),Is(document,"keyup",t),Is(document,"mouseover",t))}var i=e.display.lineDiv;Zs(i,"CodeMirror-crosshair"),As(document,"keyup",t),As(document,"mouseover",t)}function pi(e){16==e.keyCode&&(this.doc.sel.shift=!1),So(this,e)}function fi(e){var t=this;if(!(Ut(t.display,e)||So(t,e)||e.ctrlKey&&!e.altKey||Ar&&e.metaKey)){var i=e.keyCode,n=e.charCode;if($r&&i==Zr)return Zr=null,void Ss(e);if(!$r||e.which&&!(e.which<10)||!ci(t,e)){var o=String.fromCharCode(null==n?i:n);ui(t,e,o)||t.display.input.onKeyPress(e)}}}function mi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vi(e))},100)}function gi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Os(e,"focus",e),e.state.focused=!0,Zs(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),wr&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Fe(e))}function vi(e){e.state.delayingBlurEvent||(e.state.focused&&(Os(e,"blur",e),e.state.focused=!1,Qs(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bi(e,t){Ut(e.display,t)||_i(e,t)||So(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function _i(e,t){return!!Po(e,"gutterContextMenu")&&Qt(e,t,"gutterContextMenu",!1)}function yi(e,t){if(jr(e,t.from)<0)return e;if(jr(e,t.to)<=0)return Jr(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Jr(t).ch-t.to.ch),Fr(i,n)}function wi(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new he(yi(o.anchor,t),yi(o.head,t)))}return de(i,e.sel.primIndex)}function xi(e,t,i){return e.line==t.line?Fr(i.line,e.ch-t.ch+i.ch):Fr(i.line+(e.line-t.line),e.ch)}function Ci(e,t,i){for(var n=[],o=Fr(e.first,0),r=o,s=0;s<t.length;s++){var a=t[s],l=xi(a.from,o,r),c=xi(Jr(a),o,r);if(o=a.to,r=c,"around"==i){var u=e.sel.ranges[s],h=jr(u.head,u.anchor)<0;n[s]=new he(h?c:l,h?l:c)}else n[s]=new he(l,l)}return new ue(n,e.sel.primIndex)}function $i(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return i&&(n.update=function(t,i,n,o){t&&(this.from=me(e,t)),i&&(this.to=me(e,i)),n&&(this.text=n),void 0!==o&&(this.origin=o)}),Os(e,"beforeChange",e,n),e.cm&&Os(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ki(e,t,i){if(e.cm){if(!e.cm.curOp)return At(e.cm,ki)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Po(e,"beforeChange")||e.cm&&Po(e.cm,"beforeChange"))||(t=$i(e,t,!0))){var n=Lr&&!i&&ln(e,t.from,t.to);if(n)for(var o=n.length-1;o>=0;--o)Ti(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text});else Ti(e,t)}}function Ti(e,t){if(1!=t.text.length||""!=t.text[0]||0!=jr(t.from,t.to)){var i=wi(e,t);co(e,t,i,e.cm?e.cm.curOp.id:NaN),Pi(e,t,i,rn(e,t));var n=[];Kn(e,function(e,i){i||No(n,e.history)!=-1||(yo(e.history,t),n.push(e.history)),Pi(e,t,null,rn(e,t))})}}function Si(e,t,i){if(!e.cm||!e.cm.state.suppressEdits){for(var n,o=e.history,r=e.sel,s="undo"==t?o.done:o.undone,a="undo"==t?o.undone:o.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;n=s.pop(),n.ranges;){if(po(n,a),i&&!n.equals(e.sel))return void Te(e,n,{clearRedo:!1});r=n}var c=[];po(r,a),a.push({changes:c,generation:o.generation}),o.generation=n.generation||++o.maxGeneration;for(var u=Po(e,"beforeChange")||e.cm&&Po(e.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var h=n.changes[l];if(h.origin=t,u&&!$i(e,h,!1))return void(s.length=0);c.push(so(e,h));var d=l?wi(e,h):Oo(s);Pi(e,h,d,an(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Jr(h)});var p=[];Kn(e,function(e,t){t||No(p,e.history)!=-1||(yo(e.history,h),p.push(e.history)),Pi(e,h,null,an(e,h))})}}}}function Di(e,t){if(0!=t&&(e.first+=t,e.sel=new ue(Mo(e.sel.ranges,function(e){return new he(Fr(e.anchor.line+t,e.anchor.ch),Fr(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Mt(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Lt(e.cm,n,"gutter")}}function Pi(e,t,i,n){if(e.cm&&!e.cm.curOp)return At(e.cm,Pi)(e,t,i,n);if(t.to.line<e.first)return void Di(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Di(e,o),t={from:Fr(e.first,0),to:Fr(t.to.line+o,t.to.ch),text:[Oo(t.text)],origin:t.origin}}var r=e.lastLine();t.to.line>r&&(t={from:t.from,to:Fr(r,Qn(e,r).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zn(e,t.from,t.to),i||(i=wi(e,t)),e.cm?Ai(e.cm,t,n):Vn(e,t,n),Se(e,i,Hs)}}function Ai(e,t,i){var n=e.doc,o=e.display,s=t.from,a=t.to,l=!1,c=s.line;e.options.lineWrapping||(c=to(bn(Qn(n,s.line))),n.iter(c,a.line+1,function(e){if(e==o.maxLine)return l=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Do(e),Vn(n,t,i,r(e)),e.options.lineWrapping||(n.iter(c,s.line+t.text.length,function(e){var t=h(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,s.line),je(e,400);var u=t.text.length-(a.line-s.line)-1;t.full?Mt(e):s.line!=a.line||1!=t.text.length||Un(e.doc,t)?Mt(e,s.line,a.line+1,u):Lt(e,s.line,"text");var d=Po(e,"changes"),p=Po(e,"change");if(p||d){var f={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&ko(e,"change",e,f),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Ei(e,t,i,n,o){if(n||(n=i),jr(n,i)<0){var r=n;n=i,i=r}"string"==typeof t&&(t=e.splitLines(t)),ki(e,{from:i,to:n,text:t,origin:o})}function Ii(e,t){if(!So(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),o=null;if(t.top+n.top<0?o=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),
null!=o&&!Sr){var r=Bo("div","​",null,"position: absolute; top: "+(t.top-i.viewOffset-Be(e.display))+"px; height: "+(t.bottom-t.top+Ve(e)+i.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(r),r.scrollIntoView(o),e.display.lineSpace.removeChild(r)}}}function Oi(e,t,i,n){null==n&&(n=0);for(var o=0;o<5;o++){var r=!1,s=pt(e,t),a=i&&i!=t?pt(e,i):s,l=Mi(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-n,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+n),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(ni(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(r=!0)),null!=l.scrollLeft&&(oi(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(r=!0)),!r)break}return s}function Ni(e,t,i,n,o){var r=Mi(e,t,i,n,o);null!=r.scrollTop&&ni(e,r.scrollTop),null!=r.scrollLeft&&oi(e,r.scrollLeft)}function Mi(e,t,i,n,o){var r=e.display,s=bt(e.display);i<0&&(i=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,l=Ge(e),c={};o-i>l&&(o=i+l);var u=e.doc.height+qe(r),h=i<s,d=o>u-s;if(i<a)c.scrollTop=h?0:i;else if(o>a+l){var p=Math.min(i,(d?u:o)-l);p!=a&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,m=Ye(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),g=n-t>m;return g&&(n=t+m),t<10?c.scrollLeft=0:t<f?c.scrollLeft=Math.max(0,t-(g?0:10)):n>m+f-3&&(c.scrollLeft=n+(g?0:10)-m),c}function Li(e,t,i){null==t&&null==i||Fi(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=i&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+i)}function Hi(e){Fi(e);var t=e.getCursor(),i=t,n=t;e.options.lineWrapping||(i=t.ch?Fr(t.line,t.ch-1):t,n=Fr(t.line,t.ch+1)),e.curOp.scrollToPos={from:i,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Fi(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=ft(e,t.from),n=ft(e,t.to),o=Mi(e,Math.min(i.left,n.left),Math.min(i.top,n.top)-t.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+t.margin);e.scrollTo(o.scrollLeft,o.scrollTop)}}function ji(e,t,i,n){var o,r=e.doc;null==i&&(i="add"),"smart"==i&&(r.mode.indent?o=ze(e,t):i="prev");var s=e.options.tabSize,a=Qn(r,t),l=Rs(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&(c=r.mode.indent(o,a.text.slice(u.length),a.text),c==Ls||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>r.first?Rs(Qn(r,t-1).text,null,s):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)d+=s,h+="\t";if(d<c&&(h+=Io(c-d)),h!=u)return Ei(r,h,Fr(t,0),Fr(t,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<r.sel.ranges.length;p++){var f=r.sel.ranges[p];if(f.head.line==t&&f.head.ch<u.length){var d=Fr(t,u.length);xe(r,p,new he(d,d));break}}}function Ri(e,t,i,n){var o=t,r=t;return"number"==typeof t?r=Qn(e,fe(e,t)):o=to(t),null==o?null:(n(r,o)&&e.cm&&Lt(e.cm,o,i),r)}function Wi(e,t){for(var i=e.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var r=t(i[o]);n.length&&jr(r.from,Oo(n).to)<=0;){var s=n.pop();if(jr(s.from,r.from)<0){r.from=s.from;break}}n.push(r)}Pt(e,function(){for(var t=n.length-1;t>=0;t--)Ei(e.doc,"",n[t].from,n[t].to,"+delete");Hi(e)})}function zi(e,t,i,n,o){function r(){var t=a+i;return!(t<e.first||t>=e.first+e.size)&&(a=t,u=Qn(e,t))}function s(e){var t=(o?dr:pr)(u,l,i,!0);if(null==t){if(e||!r())return!1;l=o?(i<0?rr:or)(u):i<0?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=i,u=Qn(e,a);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(i<0)||s(!f);f=!1){var m=u.text.charAt(l)||"\n",g=Ro(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||f||g||(g="s"),h&&h!=g){i<0&&(i=1,s());break}if(g&&(h=g),i>0&&!s(!f))break}var v=Ie(e,Fr(a,l),t,c,!0);return jr(t,v)||(v.hitSide=!0),v}function Bi(e,t,i,n){var o,r=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+i*(a-(i<0?1.5:.5)*bt(e.display))}else"line"==n&&(o=i>0?t.bottom+3:t.top-3);for(;;){var l=gt(e,s,o);if(!l.outside)break;if(i<0?o<=0:o>=r.height){l.hitSide=!0;break}o+=5*i}return l}function qi(t,i,n,o){e.defaults[t]=i,n&&(ts[t]=o?function(e,t,i){i!=is&&n(e,t,i)}:n)}function Ui(e){for(var t,i,n,o,r=e.split(/-(?!$)/),e=r[r.length-1],s=0;s<r.length-1;s++){var a=r[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Vi(e){return"string"==typeof e?hs[e]:e}function Yi(e,t,i,n,o){if(n&&n.shared)return Gi(e,t,i,n,o);if(e.cm&&!e.cm.curOp)return At(e.cm,Yi)(e,t,i,n,o);var r=new vs(e,o),s=jr(t,i);if(n&&Fo(n,r,!1),s>0||0==s&&r.clearWhenEmpty!==!1)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=Bo("span",[r.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(vn(e,t.line,t,i,r)||t.line!=i.line&&vn(e,i.line,t,i,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");Hr=!0}r.addToHistory&&co(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){c&&r.collapsed&&!c.options.lineWrapping&&bn(e)==c.display.maxLine&&(a=!0),r.collapsed&&l!=t.line&&eo(e,0),tn(e,new Zi(r,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),r.collapsed&&e.iter(t.line,i.line+1,function(t){xn(e,t)&&eo(t,0)}),r.clearOnEnter&&As(r,"beforeCursorEnter",function(){r.clear()}),r.readOnly&&(Lr=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),r.collapsed&&(r.id=++gs,r.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),r.collapsed)Mt(c,t.line,i.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var u=t.line;u<=i.line;u++)Lt(c,u,"text");r.atomic&&Pe(c.doc),ko(c,"markerAdded",c,r)}return r}function Gi(e,t,i,n,o){n=Fo(n),n.shared=!1;var r=[Yi(e,t,i,n,o)],s=r[0],a=n.widgetNode;return Kn(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),r.push(Yi(e,me(e,t),me(e,i),n,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Oo(r)}),new bs(r,s)}function Ki(e){return e.findMarks(Fr(e.first,0),e.clipPos(Fr(e.lastLine())),function(e){return e.parent})}function Xi(e,t){for(var i=0;i<t.length;i++){var n=t[i],o=n.find(),r=e.clipPos(o.from),s=e.clipPos(o.to);if(jr(r,s)){var a=Yi(e,r,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Qi(e){for(var t=0;t<e.length;t++){var i=e[t],n=[i.primary.doc];Kn(i.primary.doc,function(e){n.push(e)});for(var o=0;o<i.markers.length;o++){var r=i.markers[o];No(n,r.doc)==-1&&(r.parent=null,i.markers.splice(o--,1))}}}function Zi(e,t,i){this.marker=e,this.from=t,this.to=i}function Ji(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function en(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function tn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nn(e,t,i){if(e)for(var n,o=0;o<e.length;++o){var r=e[o],s=r.marker,a=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);if(a||r.from==t&&"bookmark"==s.type&&(!i||!r.marker.insertLeft)){var l=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);(n||(n=[])).push(new Zi(s,r.from,l?null:r.to))}}return n}function on(e,t,i){if(e)for(var n,o=0;o<e.length;++o){var r=e[o],s=r.marker,a=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);if(a||r.from==t&&"bookmark"==s.type&&(!i||r.marker.insertLeft)){var l=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);(n||(n=[])).push(new Zi(s,l?null:r.from-t,null==r.to?null:r.to-t))}}return n}function rn(e,t){if(t.full)return null;var i=ve(e,t.from.line)&&Qn(e,t.from.line).markedSpans,n=ve(e,t.to.line)&&Qn(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,r=t.to.ch,s=0==jr(t.from,t.to),a=nn(i,o,s),l=on(n,r,s),c=1==t.text.length,u=Oo(t.text).length+(c?o:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var p=Ji(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=o}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var p=Ji(a,d.marker);p||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=sn(a)),l&&l!=a&&(l=sn(l));var f=[a];if(!c){var m,g=t.text.length-2;if(g>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new Zi(a[h].marker,null,null));for(var h=0;h<g;++h)f.push(m);f.push(l)}return f}function sn(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function an(e,t){var i=go(e,t),n=rn(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var r=i[o],s=n[o];if(r&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<r.length;++c)if(r[c].marker==l.marker)continue e;r.push(l)}else s&&(i[o]=s)}return i}function ln(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&No(n,i)!=-1||(n||(n=[])).push(i)}}),!n)return null;for(var o=[{from:t,to:i}],r=0;r<n.length;++r)for(var s=n[r],a=s.find(0),l=0;l<o.length;++l){var c=o[l];if(!(jr(c.to,a.from)<0||jr(c.from,a.to)>0)){var u=[l,1],h=jr(c.from,a.from),d=jr(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),o.splice.apply(o,u),l+=u.length-1}}return o}function cn(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function un(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function hn(e){return e.inclusiveLeft?-1:0}function dn(e){return e.inclusiveRight?1:0}function pn(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),o=t.find(),r=jr(n.from,o.from)||hn(e)-hn(t);if(r)return-r;var s=jr(n.to,o.to)||dn(e)-dn(t);return s?s:t.id-e.id}function fn(e,t){var i,n=Hr&&e.markedSpans;if(n)for(var o,r=0;r<n.length;++r)o=n[r],o.marker.collapsed&&null==(t?o.from:o.to)&&(!i||pn(i,o.marker)<0)&&(i=o.marker);return i}function mn(e){return fn(e,!0)}function gn(e){return fn(e,!1)}function vn(e,t,i,n,o){var r=Qn(e,t),s=Hr&&r.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=jr(c.from,i)||hn(l.marker)-hn(o),h=jr(c.to,n)||dn(l.marker)-dn(o);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?jr(c.to,i)>=0:jr(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?jr(c.from,n)<=0:jr(c.from,n)<0)))return!0}}}function bn(e){for(var t;t=mn(e);)e=t.find(-1,!0).line;return e}function _n(e){for(var t,i;t=gn(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function yn(e,t){var i=Qn(e,t),n=bn(i);return i==n?t:to(n)}function wn(e,t){if(t>e.lastLine())return t;var i,n=Qn(e,t);if(!xn(e,n))return t;for(;i=gn(n);)n=i.find(1,!0).line;return to(n)+1}function xn(e,t){var i=Hr&&t.markedSpans;if(i)for(var n,o=0;o<i.length;++o)if(n=i[o],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Cn(e,t,n))return!0}}function Cn(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return Cn(e,n.line,Ji(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var o,r=0;r<t.markedSpans.length;++r)if(o=t.markedSpans[r],o.marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&Cn(e,t,o))return!0}function $n(e,t,i){no(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Li(e,null,i)}function kn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Gs(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),Uo(t.display.measure,Bo("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Tn(e,t,i,n){var o=new _s(e,i,n),r=e.cm;return r&&o.noHScroll&&(r.display.alignWidgets=!0),Ri(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==o.insertAt?i.push(o):i.splice(Math.min(i.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,r&&!xn(e,t)){var n=no(t)<e.scrollTop;eo(t,t.height+kn(o)),n&&Li(r,null,o.height),r.curOp.forceUpdate=!0}return!0}),o}function Sn(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cn(e),un(e,i);var o=n?n(e):1;o!=e.height&&eo(e,o)}function Dn(e){e.parent=null,cn(e)}function Pn(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function An(t,i){if(t.blankLine)return t.blankLine(i);if(t.innerMode){var n=e.innerMode(t,i);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function En(t,i,n,o){for(var r=0;r<10;r++){o&&(o[0]=e.innerMode(t,n).mode);var s=t.token(i,n);if(i.pos>i.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function In(e,t,i,n){function o(e){return{start:h.start,end:h.pos,string:h.current(),type:r||null,state:e?ls(s.mode,u):u}}var r,s=e.doc,a=s.mode;t=me(s,t);var l,c=Qn(s,t.line),u=ze(e,t.line,i),h=new ms(c.text,e.options.tabSize);for(n&&(l=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,r=En(a,h,u),n&&l.push(o(!0));return n?l:o()}function On(e,t,i,n,o,r,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new ms(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Pn(An(i,n),r);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&Ln(e,t,n,h.pos),h.pos=t.length,l=null):l=Pn(En(i,h,n,d),r),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<h.start;)c=Math.min(h.start,c+5e4),o(c,u);u=l}h.start=h.pos}for(;c<h.pos;){var f=Math.min(h.pos,c+5e4);o(f,u),c=f}}function Nn(e,t,i,n){var o=[e.state.modeGen],r={};On(e,t.text,e.doc.mode,i,function(e,t){o.push(e,t)},r,n);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;On(e,t.text,a.mode,!0,function(e,t){for(var i=l;c<e;){var n=o[l];n>e&&o.splice(l,1,e,o[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)o.splice(i,l-i,e,"cm-overlay "+t),l=i+2;else for(;i<l;i+=2){var r=o[i+1];o[i+1]=(r?r+" ":"")+"cm-overlay "+t}},r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Mn(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=ze(e,to(t)),o=Nn(e,t,t.text.length>e.options.maxHighlightLength?ls(e.doc.mode,n):n);t.stateAfter=n,t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ln(e,t,i,n){var o=e.doc.mode,r=new ms(t,e.options.tabSize);for(r.start=r.pos=n||0,""==t&&An(o,i);!r.eol();)En(o,r,i),r.start=r.pos}function Hn(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?xs:ws;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Fn(e,t){var i=Bo("span",null,null,wr?"padding-right: .1px":null),n={pre:Bo("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,splitSpaces:(_r||wr)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var r,s=o?t.rest[o-1]:t.line;n.pos=0,n.addToken=Rn,Jo(e.display.measure)&&(r=oo(s))&&(n.addToken=zn(n.addToken,r)),n.map=[];var a=t!=e.display.externalMeasured&&to(s);qn(s,n,Mn(e,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=Go(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=Go(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Zo(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(wr){var l=n.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Os(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Go(n.pre.className,n.textClass||"")),n}function jn(e){var t=Bo("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Rn(e,t,i,n,o,r,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Wn):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var d=l.exec(t),p=d?d.index-h:t.length-h;if(p){var f=document.createTextNode(a.slice(h,h+p));_r&&yr<9?u.appendChild(Bo("span",[f])):u.appendChild(f),e.map.push(e.pos,e.pos+p,f),e.col+=p,e.pos+=p}if(!d)break;if(h+=p+1,"\t"==d[0]){var m=e.cm.options.tabSize,g=m-e.col%m,f=u.appendChild(Bo("span",Io(g),"cm-tab"));f.setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==d[0]||"\n"==d[0]){var f=u.appendChild(Bo("span","\r"==d[0]?"␍":"␤","cm-invalidchar"));f.setAttribute("cm-text",d[0]),e.col+=1}else{var f=e.cm.options.specialCharPlaceholder(d[0]);f.setAttribute("cm-text",d[0]),_r&&yr<9?u.appendChild(Bo("span",[f])):u.appendChild(f),e.col+=1}e.map.push(e.pos,e.pos+1,f),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),_r&&yr<9&&(c=!0),e.pos+=t.length}if(i||n||o||c||s){var v=i||"";n&&(v+=n),o&&(v+=o);var b=Bo("span",[u],v,s);return r&&(b.title=r),e.content.appendChild(b)}e.content.appendChild(u)}}function Wn(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":" ";return t+=" "}function zn(e,t){return function(i,n,o,r,s,a,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var h=0;h<t.length;h++){var d=t[h];if(d.to>c&&d.from<=c)break}if(d.to>=u)return e(i,n,o,r,s,a,l);e(i,n.slice(0,d.to-c),o,r,null,a,l),r=null,n=n.slice(d.to-c),c=d.to}}}function Bn(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t}function qn(e,t,i){var n=e.markedSpans,o=e.text,r=0;if(n)for(var s,a,l,c,u,h,d,p=o.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=h=a="",d=null,v=1/0;for(var b,_=[],y=0;y<n.length;++y){var w=n[y],x=w.marker;"bookmark"==x.type&&w.from==f&&x.widgetNode?_.push(x):w.from<=f&&(null==w.to||w.to>f||x.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&w.from==f&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(b||(b=[])).push(x.endStyle,w.to),x.title&&!h&&(h=x.title),x.collapsed&&(!d||pn(d.marker,x)<0)&&(d=w)):w.from>f&&v>w.from&&(v=w.from)}if(b)for(var y=0;y<b.length;y+=2)b[y+1]==v&&(c+=" "+b[y]);if(!d||d.from==f)for(var y=0;y<_.length;++y)Bn(t,0,_[y]);if(d&&(d.from||0)==f){if(Bn(t,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var C=Math.min(p,v);;){if(g){var $=f+g.length;if(!d){var k=$>C?g.slice(0,C-f):g;t.addToken(t,k,s?s+l:l,u,f+k.length==v?c:"",h,a)}if($>=C){g=g.slice(C-f),f=C;break}f=$,u=""}g=o.slice(r,r=i[m++]),s=Hn(i[m++],t.cm.options)}}else for(var m=1;m<i.length;m+=2)t.addToken(t,o.slice(r,r=i[m]),Hn(i[m+1],t.cm.options))}function Un(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Oo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vn(e,t,i,n){function o(e){return i?i[e]:null}function r(e,i,o){Sn(e,i,o,n),ko(e,"change",e,t)}function s(e,t){for(var i=e,r=[];i<t;++i)r.push(new ys(c[i],o(i),n));return r}var a=t.from,l=t.to,c=t.text,u=Qn(e,a.line),h=Qn(e,l.line),d=Oo(c),p=o(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Un(e,t)){var m=s(0,c.length-1);r(h,h.text,p),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(u==h)if(1==c.length)r(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),p);else{var m=s(1,c.length-1);m.push(new ys(d+u.text.slice(l.ch),p,n)),r(u,u.text.slice(0,a.ch)+c[0],o(0)),e.insert(a.line+1,m)}else if(1==c.length)r(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0)),e.remove(a.line+1,f);else{r(u,u.text.slice(0,a.ch)+c[0],o(0)),r(h,d+h.text.slice(l.ch),p);var m=s(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,m)}ko(e,"change",e,t)}function Yn(e){this.lines=e,this.parent=null;for(var t=0,i=0;t<e.length;++t)e[t].parent=this,i+=e[t].height;this.height=i}function Gn(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),i+=o.height,o.parent=this}this.size=t,this.height=i,this.parent=null}function Kn(e,t,i){function n(e,o,r){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=o){var l=r&&a.sharedHist;i&&!l||(t(a.doc,l),n(a.doc,e,l))}}}n(e,null,!0)}function Xn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),i(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,Mt(e)}function Qn(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],r=o.chunkSize();if(t<r){i=o;break}t-=r}return i.lines[t]}function Zn(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,function(e){var r=e.text;o==i.line&&(r=r.slice(0,i.ch)),o==t.line&&(r=r.slice(t.ch)),n.push(r),++o}),n}function Jn(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function eo(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function to(e){if(null==e.parent)return null;for(var t=e.parent,i=No(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function io(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],r=o.height;if(t<r){e=o;continue e}t-=r,i+=o.chunkSize()}return i}while(!e.lines);for(var n=0;n<e.lines.length;++n){var s=e.lines[n],a=s.height;if(t<a)break;t-=a}return i+n}function no(e){e=bn(e);for(var t=0,i=e.parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var r=i.parent;r;i=r,r=i.parent)for(var n=0;n<r.children.length;++n){var s=r.children[n];if(s==i)break;t+=s.height}return t}function oo(e){var t=e.order;return null==t&&(t=e.order=aa(e.text)),t}function ro(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function so(e,t){var i={from:Y(t.from),to:Jr(t),text:Zn(e,t.from,t.to)};return fo(e,i,t.from.line,t.to.line+1),Kn(e,function(e){fo(e,i,t.from.line,t.to.line+1)},!0),i}function ao(e){for(;e.length;){var t=Oo(e);if(!t.ranges)break;e.pop()}}function lo(e,t){return t?(ao(e.done),Oo(e.done)):e.done.length&&!Oo(e.done).ranges?Oo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Oo(e.done)):void 0}function co(e,t,i,n){var o=e.history;o.undone.length=0;var r,s=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&o.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(r=lo(o,o.lastOp==n))){var a=Oo(r.changes);0==jr(t.from,t.to)&&0==jr(t.from,a.to)?a.to=Jr(t):r.changes.push(so(e,t))}else{var l=Oo(o.done);for(l&&l.ranges||po(e.sel,o.done),r={changes:[so(e,t)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,a||Os(e,"historyAdded")}function uo(e,t,i,n){var o=t.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ho(e,t,i,n){var o=e.history,r=n&&n.origin;i==o.lastSelOp||r&&o.lastSelOrigin==r&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==r||uo(e,r,Oo(o.done),t))?o.done[o.done.length-1]=t:po(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=r,o.lastSelOp=i,n&&n.clearRedo!==!1&&ao(o.undone)}function po(e,t){var i=Oo(t);i&&i.ranges&&i.equals(e)||t.push(e)}function fo(e,t,i,n){var o=t["spans_"+e.id],r=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((o||(o=t["spans_"+e.id]={}))[r]=i.markedSpans),++r})}function mo(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function go(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=0,o=[];n<t.text.length;++n)o.push(mo(i[n]));return o}function vo(e,t,i){for(var n=0,o=[];n<e.length;++n){var r=e[n];if(r.ranges)o.push(i?ue.prototype.deepCopy.call(r):r);else{var s=r.changes,a=[];o.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&No(t,Number(c[1]))>-1&&(Oo(a)[h]=u[h],delete u[h])}}}return o}function bo(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function _o(e,t,i,n){for(var o=0;o<e.length;++o){var r=e[o],s=!0;if(r.ranges){r.copied||(r=e[o]=r.deepCopy(),r.copied=!0);for(var a=0;a<r.ranges.length;a++)bo(r.ranges[a].anchor,t,i,n),bo(r.ranges[a].head,t,i,n)}else{for(var a=0;a<r.changes.length;++a){var l=r.changes[a];if(i<l.from.line)l.from=Fr(l.from.line+n,l.from.ch),l.to=Fr(l.to.line+n,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,o+1),o=0)}}}function yo(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;_o(e.done,i,n,o),_o(e.undone,i,n,o)}function wo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xo(e){return e.target||e.srcElement}function Co(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ar&&e.ctrlKey&&1==t&&(t=3),t}function $o(e,t,i){var n=e._handlers&&e._handlers[t];return i?n&&n.length>0?n.slice():Es:n||Es}function ko(e,t){function i(e){return function(){e.apply(null,r)}}var n=$o(e,t,!1);if(n.length){var o,r=Array.prototype.slice.call(arguments,2);Ur?o=Ur.delayedCallbacks:Ns?o=Ns:(o=Ns=[],setTimeout(To,0));for(var s=0;s<n.length;++s)o.push(i(n[s]))}}function To(){var e=Ns;Ns=null;for(var t=0;t<e.length;++t)e[t]()}function So(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Os(e,i||t.type,e,t),wo(t)||t.codemirrorIgnore}function Do(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)No(i,t[n])==-1&&i.push(t[n])}function Po(e,t){return $o(e,t).length>0}function Ao(e){e.prototype.on=function(e,t){As(this,e,t)},e.prototype.off=function(e,t){Is(this,e,t)}}function Eo(){this.id=null}function Io(e){for(;zs.length<=e;)zs.push(Oo(zs)+" ");return zs[e]}function Oo(e){return e[e.length-1]}function No(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function Mo(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Lo(){}function Ho(e,t){var i;return Object.create?i=Object.create(e):(Lo.prototype=e,i=new Lo),t&&Fo(t,i),i}function Fo(e,t,i){t||(t={});for(var n in e)!e.hasOwnProperty(n)||i===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function jo(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ro(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Vs(e))||t.test(e):Vs(e)}function Wo(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function zo(e){return e.charCodeAt(0)>=768&&Ys.test(e)}function Bo(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var r=0;r<t.length;++r)o.appendChild(t[r]);return o}function qo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Uo(e,t){return qo(e).appendChild(t)}function Vo(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Yo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Go(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!Yo(i[n]).test(t)&&(t+=" "+i[n]);return t}function Ko(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}function Xo(){Js||(Qo(),Js=!0)}function Qo(){var e;As(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ko(qt)},100))}),As(window,"blur",function(){Ko(vi)})}function Zo(e){if(null==Ks){var t=Bo("span","​");Uo(e,Bo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ks=t.offsetWidth<=1&&t.offsetHeight>2&&!(_r&&yr<8))}var i=Ks?Bo("span","​"):Bo("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Jo(e){if(null!=Xs)return Xs;var t=Uo(e,document.createTextNode("AخA")),i=qs(t,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var n=qs(t,1,2).getBoundingClientRect();return Xs=n.right-i.right<3}function er(e){if(null!=oa)return oa;var t=Uo(e,Bo("span","x")),i=t.getBoundingClientRect(),n=qs(t,0,1).getBoundingClientRect();return oa=Math.abs(i.left-n.left)>1}function tr(e,t,i,n){if(!e)return n(t,i,"ltr");for(var o=!1,r=0;r<e.length;++r){var s=e[r];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr"),o=!0)}o||n(t,i,"ltr")}function ir(e){return e.level%2?e.to:e.from}function nr(e){return e.level%2?e.from:e.to}function or(e){var t=oo(e);return t?ir(t[0]):0}function rr(e){var t=oo(e);return t?nr(Oo(t)):e.text.length}function sr(e,t){var i=Qn(e.doc,t),n=bn(i);n!=i&&(t=to(n));var o=oo(n),r=o?o[0].level%2?rr(n):or(n):0;return Fr(t,r)}function ar(e,t){for(var i,n=Qn(e.doc,t);i=gn(n);)n=i.find(1,!0).line,t=null;var o=oo(n),r=o?o[0].level%2?or(n):rr(n):n.text.length;return Fr(null==t?to(n):t,r)}function lr(e,t){var i=sr(e,t.line),n=Qn(e.doc,i.line),o=oo(n);if(!o||0==o[0].level){var r=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=r&&t.ch;return Fr(i.line,s?0:r)}return i}function cr(e,t,i){var n=e[0].level;return t==n||i!=n&&t<i}function ur(e,t){sa=null;for(var i,n=0;n<e.length;++n){var o=e[n];if(o.from<t&&o.to>t)return n;if(o.from==t||o.to==t){if(null!=i)return cr(e,o.level,e[i].level)?(o.from!=o.to&&(sa=i),n):(o.from!=o.to&&(sa=n),i);i=n}}return i}function hr(e,t,i,n){if(!n)return t+i;do t+=i;while(t>0&&zo(e.text.charAt(t)));return t}function dr(e,t,i,n){var o=oo(e);if(!o)return pr(e,t,i,n);for(var r=ur(o,t),s=o[r],a=hr(e,t,s.level%2?-i:i,n);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return ur(o,a)==r?a:(s=o[r+=i],i>0==s.level%2?s.to:s.from);if(s=o[r+=i],!s)return null;a=i>0==s.level%2?hr(e,s.to,-1,n):hr(e,s.from,1,n)}}function pr(e,t,i,n){var o=t+i;if(n)for(;o>0&&zo(e.text.charAt(o));)o+=i;return o<0||o>e.text.length?null:o}var fr=navigator.userAgent,mr=navigator.platform,gr=/gecko\/\d/i.test(fr),vr=/MSIE \d/.test(fr),br=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fr),_r=vr||br,yr=_r&&(vr?document.documentMode||6:br[1]),wr=/WebKit\//.test(fr),xr=wr&&/Qt\/\d+\.\d+/.test(fr),Cr=/Chrome\//.test(fr),$r=/Opera\//.test(fr),kr=/Apple Computer/.test(navigator.vendor),Tr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fr),Sr=/PhantomJS/.test(fr),Dr=/AppleWebKit/.test(fr)&&/Mobile\/\w+/.test(fr),Pr=Dr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fr),Ar=Dr||/Mac/.test(mr),Er=/\bCrOS\b/.test(fr),Ir=/win/i.test(mr),Or=$r&&fr.match(/Version\/(\d*\.\d*)/);Or&&(Or=Number(Or[1])),Or&&Or>=15&&($r=!1,wr=!0);var Nr=Ar&&(xr||$r&&(null==Or||Or<12.11)),Mr=gr||_r&&yr>=9,Lr=!1,Hr=!1;m.prototype=Fo({update:function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;
if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var r=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+r+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ar&&!Tr?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Eo,this.disableVert=new Eo},enableZeroWidthBar:function(e,t){function i(){var n=e.getBoundingClientRect(),o=document.elementFromPoint(n.left+1,n.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,i)}e.style.pointerEvents="auto",t.set(1e3,i)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Fo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},k.prototype.signal=function(e,t){Po(e,t)&&this.events.push(arguments)},k.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Os.apply(null,this.events[e])};var Fr=e.Pos=function(e,t){return this instanceof Fr?(this.line=e,void(this.ch=t)):new Fr(e,t)},jr=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Rr=null;ie.prototype=Fo({init:function(e){function t(e){if(!So(n,e)){if(n.somethingSelected())Rr={lineWise:!1,text:n.getSelections()},i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,r.value=Rr.text.join("\n"),Bs(r));else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Rr={lineWise:!0,text:t.text},"cut"==e.type?n.setSelections(t.ranges,null,Hs):(i.prevInput="",r.value=t.text.join("\n"),Bs(r))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var i=this,n=this.cm,o=this.wrapper=ne(),r=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Dr&&(r.style.width="0px"),As(r,"input",function(){_r&&yr>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()}),As(r,"paste",function(e){So(n,e)||Z(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),As(r,"cut",t),As(r,"copy",t),As(e.scroller,"paste",function(t){Ut(e,t)||So(n,t)||(n.state.pasteIncoming=!0,i.focus())}),As(e.lineSpace,"selectstart",function(t){Ut(e,t)||Ss(t)}),As(r,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),As(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,i=e.doc,n=Me(e);if(e.options.moveInputWithCursor){var o=pt(e,i.sel.primary().head,"div"),r=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+s.top-r.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+s.left-r.left))}return n},showSelection:function(e){var t=this.cm,i=t.display;Uo(i.cursorDiv,e.cursors),Uo(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,i,n=this.cm,o=n.doc;if(n.somethingSelected()){this.prevInput="";var r=o.sel.primary();t=na&&(r.to().line-r.from().line>100||(i=n.getSelection()).length>1e3);var s=t?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&Bs(this.textarea),_r&&yr>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",_r&&yr>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Pr||Vo()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=i.poll();n||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))}var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||ia(t)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==i&&!e.somethingSelected())return!1;if(_r&&yr>=9&&this.hasSelection===n||Ar&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var r=0,s=Math.min(i.length,n.length);r<s&&i.charCodeAt(r)==n.charCodeAt(r);)++r;var a=this;return Pt(e,function(){Q(e,n.slice(r),i.length-r,null,a.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){_r&&yr>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=o.somethingSelected(),t="​"+(e?s.value:"");s.value="⇚",s.value=t,n.prevInput=e?"":"​",s.selectionStart=1,s.selectionEnd=t.length,r.selForContextMenu=o.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=h,s.style.cssText=u,_r&&yr<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=s.selectionStart){(!_r||_r&&yr<9)&&t();var e=0,i=function(){r.selForContextMenu==o.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==n.prevInput?At(o,us.selectAll)(o):e++<10?r.detectingSelectAll=setTimeout(i,500):r.input.reset()};r.detectingSelectAll=setTimeout(i,200)}}var n=this,o=n.cm,r=o.display,s=n.textarea,a=Vt(o,e),l=r.scroller.scrollTop;if(a&&!$r){var c=o.options.resetSelectionOnContextMenu;c&&o.doc.sel.contains(a)==-1&&At(o,Te)(o.doc,pe(a),Hs);var u=s.style.cssText,h=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var d=n.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px; z-index: 1000; background: "+(_r?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",wr)var p=window.scrollY;if(r.input.focus(),wr&&window.scrollTo(null,p),r.input.reset(),o.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,r.selForContextMenu=o.doc.sel,clearTimeout(r.detectingSelectAll),_r&&yr>=9&&t(),Mr){Ps(e);var f=function(){Is(window,"mouseup",f),setTimeout(i,20)};As(window,"mouseup",f)}else setTimeout(i,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Lo,needsContentAttribute:!1},ie.prototype),oe.prototype=Fo({init:function(e){function t(e){if(!So(n,e)){if(n.somethingSelected())Rr={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Rr={lineWise:!0,text:t.text},"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Hs),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Dr)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Rr.text.join("\n"));else{var i=ne(),o=i.firstChild;n.display.lineSpace.insertBefore(i,n.display.lineSpace.firstChild),o.value=Rr.text.join("\n");var r=document.activeElement;Bs(o),setTimeout(function(){n.display.lineSpace.removeChild(i),r.focus()},50)}}}var i=this,n=i.cm,o=i.div=e.lineDiv;te(o),As(o,"paste",function(e){So(n,e)||Z(e,n)}),As(o,"compositionstart",function(e){var t=e.data;if(i.composing={sel:n.doc.sel,data:t,startData:t},t){var o=n.doc.sel.primary(),r=n.getLine(o.head.line),s=r.indexOf(t,Math.max(0,o.head.ch-t.length));s>-1&&s<=o.head.ch&&(i.composing.sel=pe(Fr(o.head.line,s),Fr(o.head.line,s+t.length)))}}),As(o,"compositionupdate",function(e){i.composing.data=e.data}),As(o,"compositionend",function(e){var t=i.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||i.applyComposition(t),i.composing==t&&(i.composing=null)},50))}),As(o,"touchstart",function(){i.forceCompositionEnd()}),As(o,"input",function(){i.composing||!n.isReadOnly()&&i.pollContent()||Pt(i.cm,function(){Mt(n)})}),As(o,"copy",t),As(o,"cut",t)},prepareSelection:function(){var e=Me(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),i=ae(this.cm,e.anchorNode,e.anchorOffset),n=ae(this.cm,e.focusNode,e.focusOffset);if(!i||i.bad||!n||n.bad||0!=jr(K(i,n),t.from())||0!=jr(G(i,n),t.to())){var o=re(this.cm,t.from()),r=re(this.cm,t.to());if(o||r){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(o){if(!r){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;r={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else o={node:s[0].measure.map[2],offset:0};try{var u=qs(o.node,o.offset,r.offset,r.node)}catch(h){}u&&(!gr&&this.cm.state.focused?(e.collapse(o.node,o.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),a&&null==e.anchorNode?e.addRange(a):gr&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Uo(this.cm.display.cursorDiv,e.cursors),Uo(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Gs(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Pt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var i=ae(t,e.anchorNode,e.anchorOffset),n=ae(t,e.focusNode,e.focusOffset);i&&n&&Pt(t,function(){Te(t.doc,pe(i,n),Hs),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,i=e.doc.sel.primary(),n=i.from(),o=i.to();if(n.line<t.viewFrom||o.line>t.viewTo-1)return!1;var r;if(n.line==t.viewFrom||0==(r=Ft(e,n.line)))var s=to(t.view[0].line),a=t.view[0].node;else var s=to(t.view[r].line),a=t.view[r-1].node.nextSibling;var l=Ft(e,o.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=to(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var h=e.doc.splitLines(ce(e,a,u,s,c)),d=Zn(e.doc,Fr(s,0),Fr(c,Qn(e.doc,c).text.length));h.length>1&&d.length>1;)if(Oo(h)==Oo(d))h.pop(),d.pop(),c--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),s++}for(var p=0,f=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var b=Oo(h),_=Oo(d),y=Math.min(b.length-(1==h.length?p:0),_.length-(1==d.length?p:0));f<y&&b.charCodeAt(b.length-f-1)==_.charCodeAt(_.length-f-1);)++f;h[h.length-1]=b.slice(0,b.length-f),h[0]=h[0].slice(p);var w=Fr(s,p),x=Fr(c,d.length?Oo(d).length-f:0);return h.length>1||h[0]||jr(w,x)?(Ei(e.doc,h,w,x,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?At(this.cm,Mt)(this.cm):e.data&&e.data!=e.startData&&At(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||At(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Lo,resetPosition:Lo,needsContentAttribute:!0},oe.prototype),e.inputStyles={textarea:ie,contenteditable:oe},ue.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(0!=jr(i.anchor,n.anchor)||0!=jr(i.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new ue(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(jr(t,n.from())>=0&&jr(e,n.to())<=0)return i}return-1}},he.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Wr,zr,Br,qr={left:0,right:0,top:0,bottom:0},Ur=null,Vr=0,Yr=0,Gr=0,Kr=null;_r?Kr=-.53:gr?Kr=15:Cr?Kr=-.7:kr&&(Kr=-1/3);var Xr=function(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}};e.wheelEventPixels=function(e){var t=Xr(e);return t.x*=Kr,t.y*=Kr,t};var Qr=new Eo,Zr=null,Jr=e.changeEnd=function(e){return e.text?Fr(e.from.line+e.text.length-1,Oo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,ts.hasOwnProperty(e)&&At(this,ts[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Et(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:i&&i.opaque}),this.state.modeGen++,Mt(this)}),removeOverlay:Et(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Mt(this)}}),indentLine:Et(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&ji(this,e,t,i)}),indentSelection:Et(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>i&&(ji(this,o.head.line,e,!0),i=o.head.line,n==this.doc.sel.primIndex&&Hi(this));else{var r=o.from(),s=o.to(),a=Math.max(i,r.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)ji(this,l,e);var c=this.doc.sel.ranges;0==r.ch&&t.length==c.length&&c[n].from().ch>0&&xe(this.doc,n,new he(r,c[n].to()),Hs)}}}),getTokenAt:function(e,t){return In(this,e,t)},getLineTokens:function(e,t){return In(this,Fr(e),t,!0)},getTokenTypeAt:function(e){e=me(this.doc,e);var t,i=Mn(this,Qn(this.doc,e.line)),n=0,o=(i.length-1)/2,r=e.ch;if(0==r)t=i[2];else for(;;){var s=n+o>>1;if((s?i[2*s-1]:0)>=r)o=s;else{if(!(i[2*s+1]<r)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!as.hasOwnProperty(t))return i;var n=as[t],o=this.getModeAt(e);if("string"==typeof o[t])n[o[t]]&&i.push(n[o[t]]);else if(o[t])for(var r=0;r<o[t].length;r++){var s=n[o[t][r]];s&&i.push(s)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(var r=0;r<n._global.length;r++){var a=n._global[r];a.pred(o,this)&&No(i,a.val)==-1&&i.push(a.val)}return i},getStateAfter:function(e,t){var i=this.doc;return e=fe(i,null==e?i.first+i.size-1:e),ze(this,e+1,t)},cursorCoords:function(e,t){var i,n=this.doc.sel.primary();return i=null==e?n.head:"object"==typeof e?me(this.doc,e):e?n.from():n.to(),pt(this,i,t||"page")},charCoords:function(e,t){return dt(this,me(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ht(this,e,t||"page"),gt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ht(this,{top:e,left:0},t||"page").top,io(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var i,n=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,n=!0),i=Qn(this.doc,e)}else i=e;return ut(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-no(i):0)},defaultTextHeight:function(){return bt(this.display)},defaultCharWidth:function(){return _t(this.display)},setGutterMarker:Et(function(e,t,i){return Ri(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&Wo(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Et(function(e){var t=this,i=t.doc,n=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,Lt(t,n,"gutter"),Wo(i.gutterMarkers)&&(i.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(e=Qn(this.doc,e),!e)return null}else{var t=to(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var r=this.display;e=pt(this,me(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),r.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var l=Math.max(r.wrapper.clientHeight,this.doc.height),c=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==o?(a=r.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(r.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&Ni(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Et(hi),triggerOnKeyPress:Et(fi),triggerOnKeyUp:pi,execCommand:function(e){if(us.hasOwnProperty(e))return us[e].call(null,this)},triggerElectric:Et(function(e){J(this,e)}),findPosH:function(e,t,i,n){var o=1;t<0&&(o=-1,t=-t);for(var r=0,s=me(this.doc,e);r<t&&(s=zi(this.doc,s,o,i,n),!s.hitSide);++r);return s},moveH:Et(function(e,t){var i=this;i.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?zi(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},js)}),deleteH:Et(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Wi(this,function(i){var o=zi(n,i.head,e,t,!1);return e<0?{from:o,to:i.head}:{from:i.head,to:o}})}),findPosV:function(e,t,i,n){var o=1,r=n;t<0&&(o=-1,t=-t);for(var s=0,a=me(this.doc,e);s<t;++s){var l=pt(this,a,"div");if(null==r?r=l.left:l.left=r,a=Bi(this,l,o,i),a.hitSide)break}return a},moveV:Et(function(e,t){var i=this,n=this.doc,o=[],r=!i.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(r)return e<0?s.from():s.to();var a=pt(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),o.push(a.left);var l=Bi(i,a,e,t);return"page"==t&&s==n.sel.primary()&&Li(i,null,dt(i,l,"div").top-a.top),l},js),o.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=o[s]}),findWordAt:function(e){var t=this.doc,i=Qn(t,e.line).text,n=e.ch,o=e.ch;if(i){var r=this.getHelper(e,"wordChars");(e.xRel<0||o==i.length)&&n?--n:++o;for(var s=i.charAt(n),a=Ro(s,r)?function(e){return Ro(e,r)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ro(e)};n>0&&a(i.charAt(n-1));)--n;for(;o<i.length&&a(i.charAt(o));)++o}return new he(Fr(e.line,n),Fr(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Zs(this.display.cursorDiv,"CodeMirror-overwrite"):Qs(this.display.cursorDiv,"CodeMirror-overwrite"),Os(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Vo()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Et(function(e,t){null==e&&null==t||Fi(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ve(this)-this.display.barHeight,width:e.scrollWidth-Ve(this)-this.display.barWidth,clientHeight:Ge(this),clientWidth:Ye(this)}},scrollIntoView:Et(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Fr(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Fi(this),this.curOp.scrollToPos=e;else{var i=Mi(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Et(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=i(e)),null!=t&&(n.display.wrapper.style.height=i(t)),n.options.lineWrapping&&st(this);var o=n.display.viewFrom;n.doc.iter(o,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Lt(n,o,"widget");break}++o}),n.curOp.forceUpdate=!0,Os(n,"refresh",this)}),operation:function(e){return Pt(this,e)},refresh:Et(function(){var e=this.display.cachedTextHeight;Mt(this),this.curOp.forceUpdate=!0,at(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-bt(this.display))>.5)&&s(this),Os(this,"refresh",this)}),swapDoc:Et(function(e){var t=this.doc;return t.cm=null,Xn(this,e),at(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ko(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ao(e);var es=e.defaults={},ts=e.optionHandlers={},is=e.Init={toString:function(){return"CodeMirror.Init"}};qi("value","",function(e,t){e.setValue(t)},!0),qi("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),qi("indentUnit",2,i,!0),qi("indentWithTabs",!1),qi("smartIndent",!0),qi("tabSize",4,function(e){n(e),at(e),Mt(e)},!0),qi("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var r=e.text.indexOf(t,o);if(r==-1)break;o=r+t.length,i.push(Fr(n,r))}n++});for(var o=i.length-1;o>=0;o--)Ei(e.doc,t,i[o],Fr(i[o].line,i[o].ch+t.length))}}),qi("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,i,n){t.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),n!=e.Init&&t.refresh()}),qi("specialCharPlaceholder",jn,function(e){e.refresh()},!0),qi("electricChars",!0),qi("inputStyle",Pr?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qi("rtlMoveVisually",!Ir),qi("wholeLineUpdateBefore",!0),qi("theme","default",function(e){a(e),l(e)},!0),qi("keyMap","default",function(t,i,n){var o=Vi(i),r=n!=e.Init&&Vi(n);r&&r.detach&&r.detach(t,o),o.attach&&o.attach(t,r||null)}),qi("extraKeys",null),qi("lineWrapping",!1,o,!0),qi("gutters",[],function(e){p(e.options),l(e)},!0),qi("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?$(e.display)+"px":"0",e.refresh()},!0),qi("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),qi("scrollbarStyle","native",function(e){v(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),qi("lineNumbers",!1,function(e){p(e.options),l(e)},!0),qi("firstLineNumber",1,l,!0),qi("lineNumberFormatter",function(e){return e},l,!0),qi("showCursorWhenSelecting",!1,Ne,!0),qi("resetSelectionOnContextMenu",!0),qi("lineWiseCopyCut",!0),qi("readOnly",!1,function(e,t){"nocursor"==t?(vi(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),qi("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),qi("dragDrop",!0,Bt),qi("allowDropFileTypes",null),qi("cursorBlinkRate",530),qi("cursorScrollMargin",0),qi("cursorHeight",1,Ne,!0),qi("singleCursorHeightPerLine",!0,Ne,!0),qi("workTime",100),qi("workDelay",100),qi("flattenSpans",!0,n,!0),qi("addModeClass",!1,n,!0),qi("pollInterval",100),qi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),qi("historyEventDelay",1250),qi("viewportMargin",10,function(e){e.refresh()},!0),qi("maxHighlightLength",1e4,n,!0),qi("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),qi("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),qi("autofocus",null);var ns=e.modes={},os=e.mimeModes={};e.defineMode=function(t,i){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),ns[t]=i},e.defineMIME=function(e,t){os[e]=t},e.resolveMode=function(t){if("string"==typeof t&&os.hasOwnProperty(t))t=os[t];else if(t&&"string"==typeof t.name&&os.hasOwnProperty(t.name)){var i=os[t.name];"string"==typeof i&&(i={name:i}),t=Ho(i,t),t.name=i.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,i){var i=e.resolveMode(i),n=ns[i.name];if(!n)return e.getMode(t,"text/plain");var o=n(t,i);if(rs.hasOwnProperty(i.name)){var r=rs[i.name];for(var s in r)r.hasOwnProperty(s)&&(o.hasOwnProperty(s)&&(o["_"+s]=o[s]),o[s]=r[s])}if(o.name=i.name,i.helperType&&(o.helperType=i.helperType),i.modeProps)for(var s in i.modeProps)o[s]=i.modeProps[s];return o},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var rs=e.modeExtensions={};e.extendMode=function(e,t){var i=rs.hasOwnProperty(e)?rs[e]:rs[e]={};Fo(t,i)},e.defineExtension=function(t,i){e.prototype[t]=i},e.defineDocExtension=function(e,t){$s.prototype[e]=t},e.defineOption=qi;var ss=[];e.defineInitHook=function(e){ss.push(e)};var as=e.helpers={};e.registerHelper=function(t,i,n){as.hasOwnProperty(t)||(as[t]=e[t]={_global:[]}),as[t][i]=n},e.registerGlobalHelper=function(t,i,n,o){e.registerHelper(t,i,o),as[t]._global.push({pred:n,val:o})};var ls=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i},cs=e.startState=function(e,t,i){return!e.startState||e.startState(t,i)};e.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);if(!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}};var us=e.commands={selectAll:function(e){e.setSelection(Fr(e.firstLine(),0),Fr(e.lastLine()),Hs)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Hs)},killLine:function(e){Wi(e,function(t){if(t.empty()){var i=Qn(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:Fr(t.head.line+1,0)}:{from:t.head,to:Fr(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Wi(e,function(t){return{from:Fr(t.from().line,0),to:me(e.doc,Fr(t.to().line+1,0))}})},delLineLeft:function(e){Wi(e,function(e){return{from:Fr(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Wi(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Wi(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Fr(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Fr(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return sr(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return lr(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ar(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},js)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},js)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?lr(e,t.head):n},js)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){
e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var r=i[o].from(),s=Rs(e.getLine(r.line),r.ch,n);t.push(Io(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Pt(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++){var o=t[n].head,r=Qn(e.doc,o.line).text;if(r)if(o.ch==r.length&&(o=new Fr(o.line,o.ch-1)),o.ch>0)o=new Fr(o.line,o.ch+1),e.replaceRange(r.charAt(o.ch-1)+r.charAt(o.ch-2),Fr(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var s=Qn(e.doc,o.line-1).text;s&&e.replaceRange(r.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),Fr(o.line-1,s.length-1),Fr(o.line,1),"+transpose")}i.push(new he(o,o))}e.setSelections(i)})},newlineAndIndent:function(e){Pt(e,function(){for(var t=e.listSelections().length,i=0;i<t;i++){var n=e.listSelections()[i];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0)}Hi(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},hs=e.keyMap={};hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hs["default"]=Ar?hs.macDefault:hs.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var o=Mo(i.split(" "),Ui),r=0;r<o.length;r++){var s,a;r==o.length-1?(a=o.join(" "),s=n):(a=o.slice(0,r+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var c in t)e[c]=t[c];return e};var ds=e.lookupKey=function(e,t,i,n){t=Vi(t);var o=t.call?t.call(e,n):t[e];if(o===!1)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ds(e,t.fallthrough,i,n);for(var r=0;r<t.fallthrough.length;r++){var s=ds(e,t.fallthrough[r],i,n);if(s)return s}}},ps=e.isModifierKey=function(e){var t="string"==typeof e?e:ra[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},fs=e.keyName=function(e,t){if($r&&34==e.keyCode&&e["char"])return!1;var i=ra[e.keyCode],n=i;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=i&&(n="Alt-"+n),(Nr?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(Nr?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};e.fromTextArea=function(t,i){function n(){t.value=c.getValue()}if(i=i?Fo(i):{},i.value=t.value,!i.tabindex&&t.tabIndex&&(i.tabindex=t.tabIndex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),null==i.autofocus){var o=Vo();i.autofocus=o==t||null!=t.getAttribute("autofocus")&&o==document.body}if(t.form&&(As(t.form,"submit",n),!i.leaveSubmitMethodAlone)){var r=t.form,s=r.submit;try{var a=r.submit=function(){n(),r.submit=s,r.submit(),r.submit=a}}catch(l){}}i.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Is(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},i);return c};var ms=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ms.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else var i=t&&(e.test?e.test(t):e(t));if(i)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Rs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Rs(this.string,null,this.tabSize)-(this.lineStart?Rs(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e},r=this.string.substr(this.pos,e.length);if(o(r)==o(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var gs=0,vs=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++gs};Ao(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&yt(e),Po(this,"clear")){var i=this.find();i&&ko(this,"clear",i.from,i.to)}for(var n=null,o=null,r=0;r<this.lines.length;++r){var s=this.lines[r],a=Ji(s.markedSpans,this);e&&!this.collapsed?Lt(e,to(s),"text"):e&&(null!=a.to&&(o=to(s)),null!=a.from&&(n=to(s))),s.markedSpans=en(s.markedSpans,a),null==a.from&&this.collapsed&&!xn(this.doc,s)&&e&&eo(s,bt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var r=0;r<this.lines.length;++r){var l=bn(this.lines[r]),c=h(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Mt(e,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Pe(e.doc)),e&&ko(e,"markerCleared",e,this),t&&xt(e),this.parent&&this.parent.clear()}},vs.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var i,n,o=0;o<this.lines.length;++o){var r=this.lines[o],s=Ji(r.markedSpans,this);if(null!=s.from&&(i=Fr(t?r:to(r),s.from),e==-1))return i;if(null!=s.to&&(n=Fr(t?r:to(r),s.to),1==e))return n}return i&&{from:i,to:n}},vs.prototype.changed=function(){var e=this.find(-1,!0),t=this,i=this.doc.cm;e&&i&&Pt(i,function(){var n=e.line,o=to(e.line),r=Je(i,o);if(r&&(rt(r),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!xn(t.doc,n)&&null!=t.height){var s=t.height;t.height=null;var a=kn(t)-s;a&&eo(n,n.height+a)}})},vs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&No(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vs.prototype.detachLine=function(e){if(this.lines.splice(No(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var gs=0,bs=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};Ao(bs),bs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ko(this,"clear")}},bs.prototype.find=function(e,t){return this.primary.find(e,t)};var _s=e.LineWidget=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};Ao(_s),_s.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=to(i);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(i.widgets=null);var r=kn(this);eo(i,Math.max(0,i.height-r)),e&&Pt(e,function(){$n(e,i,-r),Lt(e,n,"widget")})}},_s.prototype.changed=function(){var e=this.height,t=this.doc.cm,i=this.line;this.height=null;var n=kn(this)-e;n&&(eo(i,i.height+n),t&&Pt(t,function(){t.curOp.forceUpdate=!0,$n(t,i,n)}))};var ys=e.Line=function(e,t,i){this.text=e,un(this,t),this.height=i?i(this):1};Ao(ys),ys.prototype.lineNo=function(){return to(this)};var ws={},xs={};Yn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var o=this.lines[i];this.height-=o.height,Dn(o),ko(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},Gn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var r=Math.min(t,o-e),s=n.height;if(n.removeInner(e,r),this.height-=s-n.height,o==r&&(this.children.splice(i--,1),n.parent=null),0==(t-=r))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Yn))){var a=[];this.collapse(a),this.children=[new Yn(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(e<=r){if(o.insertInner(e,t,i),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var l=new Yn(o.lines.slice(a,a+=25));o.height-=l.height,this.children.splice(++n,0,l),l.parent=this}o.lines=o.lines.slice(0,s),this.maybeSpill()}break}e-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new Gn(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=No(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var o=new Gn(e.children);o.parent=e,e.children=[o,i],e=o}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(e<r){var s=Math.min(t,r-e);if(o.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=r}}};var Cs=0,$s=e.Doc=function(e,t,i,n){if(!(this instanceof $s))return new $s(e,t,i,n);null==i&&(i=0),Gn.call(this,[new Yn([new ys("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var o=Fr(i,0);this.sel=pe(o),this.history=new ro(null),this.id=++Cs,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Vn(this,{from:o,to:o,text:e}),Te(this,pe(o),Hs)};$s.prototype=Ho(Gn.prototype,{constructor:$s,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:It(function(e){var t=Fr(this.first,0),i=this.first+this.size-1;ki(this,{from:t,to:Fr(i,Qn(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Te(this,pe(t))}),replaceRange:function(e,t,i,n){t=me(this,t),i=i?me(this,i):t,Ei(this,e,t,i,n)},getRange:function(e,t,i){var n=Zn(this,me(this,e),me(this,t));return i===!1?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ve(this,e))return Qn(this,e)},getLineNumber:function(e){return to(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qn(this,e)),bn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t,i=this.sel.primary();return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||"to"==e||e===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:It(function(e,t,i){Ce(this,me(this,"number"==typeof e?Fr(e,t||0):e),null,i)}),setSelection:It(function(e,t,i){Ce(this,me(this,e),me(this,t||e),i)}),extendSelection:It(function(e,t,i){ye(this,me(this,e),t&&me(this,t),i)}),extendSelections:It(function(e,t){we(this,be(this,e),t)}),extendSelectionsBy:It(function(e,t){var i=Mo(this.sel.ranges,e);we(this,be(this,i),t)}),setSelections:It(function(e,t,i){if(e.length){for(var n=0,o=[];n<e.length;n++)o[n]=new he(me(this,e[n].anchor),me(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Te(this,de(o,t),i)}}),addSelection:It(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new he(me(this,e),me(this,t||e))),Te(this,de(n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var o=Zn(this,i[n].from(),i[n].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=Zn(this,i[n].from(),i[n].to());e!==!1&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:It(function(e,t,i){for(var n=[],o=this.sel,r=0;r<o.ranges.length;r++){var s=o.ranges[r];n[r]={from:s.from(),to:s.to(),text:this.splitLines(e[r]),origin:i}}for(var a=t&&"end"!=t&&Ci(this,n,t),r=n.length-1;r>=0;r--)ki(this,n[r]);a?ke(this,a):this.cm&&Hi(this.cm)}),undo:It(function(){Si(this,"undo")}),redo:It(function(){Si(this,"redo")}),undoSelection:It(function(){Si(this,"undo",!0)}),redoSelection:It(function(){Si(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new ro(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vo(this.history.done),undone:vo(this.history.undone)}},setHistory:function(e){var t=this.history=new ro(this.history.maxGeneration);t.done=vo(e.done.slice(0),null,!0),t.undone=vo(e.undone.slice(0),null,!0)},addLineClass:It(function(e,t,i){return Ri(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(Yo(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:It(function(e,t,i){return Ri(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[n];if(!o)return!1;if(null==i)e[n]=null;else{var r=o.match(Yo(i));if(!r)return!1;var s=r.index+r[0].length;e[n]=o.slice(0,r.index)+(r.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:It(function(e,t,i){return Tn(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Yi(this,me(this,e),me(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=me(this,e),Yi(this,e,e,i,"bookmark")},findMarksAt:function(e){e=me(this,e);var t=[],i=Qn(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,i){e=me(this,e),t=me(this,t);var n=[],o=e.line;return this.iter(e.line,t.line+1,function(r){var s=r.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++o}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(o){var r=o.text.length+n;return r>e?(t=e,!0):(e-=r,void++i)}),me(this,Fr(i,t))},indexFromPos:function(e){e=me(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new $s(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new $s(Jn(this,t,i),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Xi(n,Ki(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=this.linked[i];if(n.doc==t){this.linked.splice(i,1),t.unlinkDoc(this),Qi(Ki(this));break}}if(t.history==this.history){var o=[t.id];Kn(t,function(e){o.push(e.id)},!0),t.history=new ro(null),t.history.done=vo(this.history.done,o),t.history.undone=vo(this.history.undone,o)}},iterLinkedDocs:function(e){Kn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ta(e)},lineSeparator:function(){return this.lineSep||"\n"}}),$s.prototype.eachLine=$s.prototype.iter;var ks="iter insert remove copy getEditor constructor".split(" ");for(var Ts in $s.prototype)$s.prototype.hasOwnProperty(Ts)&&No(ks,Ts)<0&&(e.prototype[Ts]=function(e){return function(){return e.apply(this.doc,arguments)}}($s.prototype[Ts]));Ao($s);var Ss=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ds=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ps=e.e_stop=function(e){Ss(e),Ds(e)},As=e.on=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={}),o=n[t]||(n[t]=[]);o.push(i)}},Es=[],Is=e.off=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else for(var n=$o(e,t,!1),o=0;o<n.length;++o)if(n[o]==i){n.splice(o,1);break}},Os=e.signal=function(e,t){var i=$o(e,t,!0);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)},Ns=null,Ms=30,Ls=e.Pass={toString:function(){return"CodeMirror.Pass"}},Hs={scroll:!1},Fs={origin:"*mouse"},js={origin:"+move"};Eo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Rs=e.countColumn=function(e,t,i,n,o){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var r=n||0,s=o||0;;){var a=e.indexOf("\t",r);if(a<0||a>=t)return s+(t-r);s+=a-r,s+=i-s%i,r=a+1}},Ws=e.findColumn=function(e,t,i){for(var n=0,o=0;;){var r=e.indexOf("\t",n);r==-1&&(r=e.length);var s=r-n;if(r==e.length||o+s>=t)return n+Math.min(s,t-o);if(o+=r-n,o+=i-o%i,n=r+1,o>=t)return n}},zs=[""],Bs=function(e){e.select()};Dr?Bs=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:_r&&(Bs=function(e){try{e.select()}catch(t){}});var qs,Us=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Vs=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Us.test(e))},Ys=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;qs=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(o){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var Gs=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};_r&&yr<11&&(Vo=function(){try{return document.activeElement}catch(e){return document.body}});var Ks,Xs,Qs=e.rmClass=function(e,t){var i=e.className,n=Yo(t).exec(i);if(n){var o=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(o?n[1]+o:"")}},Zs=e.addClass=function(e,t){var i=e.className;Yo(t).test(i)||(e.className+=(i?" ":"")+t)},Js=!1,ea=function(){if(_r&&yr<9)return!1;var e=Bo("div");return"draggable"in e||"dragDrop"in e}(),ta=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);o==-1&&(o=e.length);var r=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),s=r.indexOf("\r");s!=-1?(i.push(r.slice(0,s)),t+=s+1):(i.push(r),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},ia=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},na=function(){var e=Bo("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),oa=null,ra=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)ra[e+48]=ra[e+96]=String(e);for(var e=65;e<=90;e++)ra[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)ra[e+111]=ra[e+63235]="F"+e}();var sa,aa=function(){function e(e){return e<=247?i.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,i){this.level=e,this.from=t,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(i){if(!o.test(i))return!1;for(var n,u=i.length,h=[],d=0;d<u;++d)h.push(n=e(i.charCodeAt(d)));for(var d=0,p=c;d<u;++d){var n=h[d];"m"==n?h[d]=p:p=n}for(var d=0,f=c;d<u;++d){var n=h[d];"1"==n&&"r"==f?h[d]="n":s.test(n)&&(f=n,"r"==n&&(h[d]="R"))}for(var d=1,p=h[0];d<u-1;++d){var n=h[d];"+"==n&&"1"==p&&"1"==h[d+1]?h[d]="1":","!=n||p!=h[d+1]||"1"!=p&&"n"!=p||(h[d]=p),p=n}for(var d=0;d<u;++d){var n=h[d];if(","==n)h[d]="N";else if("%"==n){for(var m=d+1;m<u&&"%"==h[m];++m);for(var g=d&&"!"==h[d-1]||m<u&&"1"==h[m]?"1":"N",v=d;v<m;++v)h[v]=g;d=m-1}}for(var d=0,f=c;d<u;++d){var n=h[d];"L"==f&&"1"==n?h[d]="L":s.test(n)&&(f=n)}for(var d=0;d<u;++d)if(r.test(h[d])){for(var m=d+1;m<u&&r.test(h[m]);++m);for(var b="L"==(d?h[d-1]:c),_="L"==(m<u?h[m]:c),g=b||_?"L":"R",v=d;v<m;++v)h[v]=g;d=m-1}for(var y,w=[],d=0;d<u;)if(a.test(h[d])){var x=d;for(++d;d<u&&a.test(h[d]);++d);w.push(new t(0,x,d))}else{var C=d,$=w.length;for(++d;d<u&&"L"!=h[d];++d);for(var v=C;v<d;)if(l.test(h[v])){C<v&&w.splice($,0,new t(1,C,v));var k=v;for(++v;v<d&&l.test(h[v]);++v);w.splice($,0,new t(2,k,v)),C=v}else++v;C<d&&w.splice($,0,new t(1,C,d))}return 1==w[0].level&&(y=i.match(/^\s+/))&&(w[0].from=y[0].length,w.unshift(new t(0,0,y[0].length))),1==Oo(w).level&&(y=i.match(/\s+$/))&&(Oo(w).to-=y[0].length,w.push(new t(0,u-y[0].length,u))),2==w[0].level&&w.unshift(new t(1,w[0].to,w[0].to)),w[0].level!=Oo(w).level&&w.push(new t(w[0].level,u,u)),w}}();return e.version="5.16.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,i){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}e.defineMode("javascript",function(i,n){function o(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}function r(e,t,i){return we=e,xe=i,t}function s(e,i){var n=e.next();if('"'==n||"'"==n)return i.tokenize=a(n),i.tokenize(e,i);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&e.eat(">"))return r("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),r("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),r("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return e.eat("*")?(i.tokenize=l,l(e,i)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):t(e,i,1)?(o(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),r("regexp","string-2")):(e.eatWhile(Ae),r("operator","operator",e.current()));if("`"==n)return i.tokenize=c,c(e,i);if("#"==n)return e.skipToEnd(),r("error","error");if(Ae.test(n))return e.eatWhile(Ae),r("operator","operator",e.current());if(De.test(n)){e.eatWhile(De);var s=e.current(),u=Pe.propertyIsEnumerable(s)&&Pe[s];return u&&"."!=i.lastType?r(u.type,u.style,s):r("variable","variable",s)}}function a(e){return function(t,i){var n,o=!1;if(ke&&"@"==t.peek()&&t.match(Ee))return i.tokenize=s,r("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;return o||(i.tokenize=s),r("string","string")}}function l(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=s;break}n="*"==i}return r("comment","comment")}function c(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=s;break}n=!n&&"\\"==i}return r("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(i<0)){for(var n=0,o=!1,r=i-1;r>=0;--r){var s=e.string.charAt(r),a=Ie.indexOf(s);if(a>=0&&a<3){if(!n){++r;break}if(0==--n)break}else if(a>=3&&a<6)++n;else if(De.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!n){++r;break}}}o&&!n&&(t.fatArrowAt=r)}}function h(e,t,i,n,o,r){this.indented=e,this.column=t,this.type=i,this.prev=o,this.info=r,null!=n&&(this.align=n);
}function d(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var i=n.vars;i;i=i.next)if(i.name==t)return!0}function p(e,t,i,n,o){var r=e.cc;for(Ne.state=e,Ne.stream=o,Ne.marked=null,Ne.cc=r,Ne.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=r.length?r.pop():Te?C:x;if(s(i,n)){for(;r.length&&r[r.length-1].lex;)r.pop()();return Ne.marked?Ne.marked:"variable"==i&&d(e,n)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)Ne.cc.push(arguments[e])}function m(){return f.apply(null,arguments),!0}function g(e){function t(t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}var i=Ne.state;if(Ne.marked="def",i.context){if(t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;n.globalVars&&(i.globalVars={name:e,next:i.globalVars})}}function v(){Ne.state.context={prev:Ne.state.context,vars:Ne.state.localVars},Ne.state.localVars=Me}function b(){Ne.state.localVars=Ne.state.context.vars,Ne.state.context=Ne.state.context.prev}function _(e,t){var i=function(){var i=Ne.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var o=i.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;i.lexical=new h(n,Ne.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function y(){var e=Ne.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(i){return i==e?m():";"==e?f():m(t)}return t}function x(e,t){return"var"==e?m(_("vardef",t.length),K,w(";"),y):"keyword a"==e?m(_("form"),C,x,y):"keyword b"==e?m(_("form"),x,y):"{"==e?m(_("}"),q,y):";"==e?m():"if"==e?("else"==Ne.state.lexical.info&&Ne.state.cc[Ne.state.cc.length-1]==y&&Ne.state.cc.pop()(),m(_("form"),C,x,y,ee)):"function"==e?m(se):"for"==e?m(_("form"),te,x,y):"variable"==e?m(_("stat"),H):"switch"==e?m(_("form"),C,_("}","switch"),w("{"),q,y,y):"case"==e?m(C,w(":")):"default"==e?m(w(":")):"catch"==e?m(_("form"),v,w("("),ae,w(")"),x,y,b):"class"==e?m(_("form"),le,y):"export"==e?m(_("stat"),de,y):"import"==e?m(_("stat"),pe,y):"module"==e?m(_("form"),X,_("}"),w("{"),q,y,y):"async"==e?m(x):f(_("stat"),C,w(";"),y)}function C(e){return k(e,!1)}function $(e){return k(e,!0)}function k(e,t){if(Ne.state.fatArrowAt==Ne.stream.start){var i=t?O:I;if("("==e)return m(v,_(")"),z(X,")"),y,w("=>"),i,b);if("variable"==e)return f(v,X,w("=>"),i,b)}var n=t?P:D;return Oe.hasOwnProperty(e)?m(n):"function"==e?m(se,n):"keyword c"==e?m(t?S:T):"("==e?m(_(")"),T,_e,w(")"),y,n):"operator"==e||"spread"==e?m(t?$:C):"["==e?m(_("]"),ve,y,n):"{"==e?B(j,"}",null,n):"quasi"==e?f(A,n):"new"==e?m(N(t)):m()}function T(e){return e.match(/[;\}\)\],]/)?f():f(C)}function S(e){return e.match(/[;\}\)\],]/)?f():f($)}function D(e,t){return","==e?m(C):P(e,t,!1)}function P(e,t,i){var n=0==i?D:P,o=0==i?C:$;return"=>"==e?m(v,i?O:I,b):"operator"==e?/\+\+|--/.test(t)?m(n):"?"==t?m(C,w(":"),o):m(o):"quasi"==e?f(A,n):";"!=e?"("==e?B($,")","call",n):"."==e?m(F,n):"["==e?m(_("]"),T,w("]"),y,n):void 0:void 0}function A(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?m(A):m(C,E)}function E(e){if("}"==e)return Ne.marked="string-2",Ne.state.tokenize=c,m(A)}function I(e){return u(Ne.stream,Ne.state),f("{"==e?x:C)}function O(e){return u(Ne.stream,Ne.state),f("{"==e?x:$)}function N(e){return function(t){return"."==t?m(e?L:M):f(e?$:C)}}function M(e,t){if("target"==t)return Ne.marked="keyword",m(D)}function L(e,t){if("target"==t)return Ne.marked="keyword",m(P)}function H(e){return":"==e?m(y,x):f(D,w(";"),y)}function F(e){if("variable"==e)return Ne.marked="property",m()}function j(e,t){return"variable"==e||"keyword"==Ne.style?(Ne.marked="property",m("get"==t||"set"==t?R:W)):"number"==e||"string"==e?(Ne.marked=ke?"property":Ne.style+" property",m(W)):"jsonld-keyword"==e?m(W):"modifier"==e?m(j):"["==e?m(C,w("]"),W):"spread"==e?m(C):void 0}function R(e){return"variable"!=e?f(W):(Ne.marked="property",m(se))}function W(e){return":"==e?m($):"("==e?f(se):void 0}function z(e,t){function i(n,o){if(","==n){var r=Ne.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),m(e,i)}return n==t||o==t?m():m(w(t))}return function(n,o){return n==t||o==t?m():f(e,i)}}function B(e,t,i){for(var n=3;n<arguments.length;n++)Ne.cc.push(arguments[n]);return m(_(t,i),z(e,t),y)}function q(e){return"}"==e?m():f(x,q)}function U(e){if(Se&&":"==e)return m(Y)}function V(e,t){if("="==t)return m($)}function Y(e){if("variable"==e)return Ne.marked="variable-3",m(G)}function G(e,t){return"<"==t?m(z(Y,">"),G):"["==e?m(w("]"),G):void 0}function K(){return f(X,U,Z,J)}function X(e,t){return"modifier"==e?m(X):"variable"==e?(g(t),m()):"spread"==e?m(X):"["==e?B(X,"]"):"{"==e?B(Q,"}"):void 0}function Q(e,t){return"variable"!=e||Ne.stream.match(/^\s*:/,!1)?("variable"==e&&(Ne.marked="property"),"spread"==e?m(X):"}"==e?f():m(w(":"),X,Z)):(g(t),m(Z))}function Z(e,t){if("="==t)return m($)}function J(e){if(","==e)return m(K)}function ee(e,t){if("keyword b"==e&&"else"==t)return m(_("form","else"),x,y)}function te(e){if("("==e)return m(_(")"),ie,w(")"),y)}function ie(e){return"var"==e?m(K,w(";"),oe):";"==e?m(oe):"variable"==e?m(ne):f(C,w(";"),oe)}function ne(e,t){return"in"==t||"of"==t?(Ne.marked="keyword",m(C)):m(D,oe)}function oe(e,t){return";"==e?m(re):"in"==t||"of"==t?(Ne.marked="keyword",m(C)):f(C,w(";"),re)}function re(e){")"!=e&&m(C)}function se(e,t){return"*"==t?(Ne.marked="keyword",m(se)):"variable"==e?(g(t),m(se)):"("==e?m(v,_(")"),z(ae,")"),y,U,x,b):void 0}function ae(e){return"spread"==e?m(ae):f(X,U,V)}function le(e,t){if("variable"==e)return g(t),m(ce)}function ce(e,t){return"extends"==t?m(C,ce):"{"==e?m(_("}"),ue,y):void 0}function ue(e,t){return"variable"==e||"keyword"==Ne.style?"static"==t?(Ne.marked="keyword",m(ue)):(Ne.marked="property","get"==t||"set"==t?m(he,se,ue):m(se,ue)):"*"==t?(Ne.marked="keyword",m(ue)):";"==e?m(ue):"}"==e?m():void 0}function he(e){return"variable"!=e?f():(Ne.marked="property",m())}function de(e,t){return"*"==t?(Ne.marked="keyword",m(ge,w(";"))):"default"==t?(Ne.marked="keyword",m(C,w(";"))):f(x)}function pe(e){return"string"==e?m():f(fe,ge)}function fe(e,t){return"{"==e?B(fe,"}"):("variable"==e&&g(t),"*"==t&&(Ne.marked="keyword"),m(me))}function me(e,t){if("as"==t)return Ne.marked="keyword",m(fe)}function ge(e,t){if("from"==t)return Ne.marked="keyword",m(C)}function ve(e){return"]"==e?m():f($,be)}function be(e){return"for"==e?f(_e,w("]")):","==e?m(z(S,"]")):f(z($,"]"))}function _e(e){return"for"==e?m(te,_e):"if"==e?m(C,_e):void 0}function ye(e,t){return"operator"==e.lastType||","==e.lastType||Ae.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var we,xe,Ce=i.indentUnit,$e=n.statementIndent,ke=n.jsonld,Te=n.json||ke,Se=n.typescript,De=n.wordCharacters||/[\w$\xa1-\uffff]/,Pe=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),o=e("operator"),r={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":i,"do":i,"try":i,"finally":i,"return":n,"break":n,"continue":n,"new":e("new"),"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":r,"false":r,"null":r,undefined:r,NaN:r,Infinity:r,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n,await:n,async:e("async")};if(Se){var a={type:"variable",style:"variable-3"},l={"interface":e("class"),"implements":n,namespace:n,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),as:o,string:a,number:a,"boolean":a,any:a};for(var c in l)s[c]=l[c]}return s}(),Ae=/[+\-*&%=<>!?|~^]/,Ee=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ie="([{}])",Oe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ne={state:null,column:null,marked:null,cc:null},Me={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){var t={tokenize:s,lastType:"sof",cc:[],lexical:new h((e||0)-Ce,0,"block",(!1)),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=l&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==we?i:(t.lastType="operator"!=we||"++"!=xe&&"--"!=xe?we:"incdec",p(t,i,we,xe,e))},indent:function(t,i){if(t.tokenize==l)return e.Pass;if(t.tokenize!=s)return 0;var o=i&&i.charAt(0),r=t.lexical;if(!/^\s*else\b/.test(i))for(var a=t.cc.length-1;a>=0;--a){var c=t.cc[a];if(c==y)r=r.prev;else if(c!=ee)break}"stat"==r.type&&"}"==o&&(r=r.prev),$e&&")"==r.type&&"stat"==r.prev.type&&(r=r.prev);var u=r.type,h=o==u;return"vardef"==u?r.indented+("operator"==t.lastType||","==t.lastType?r.info+1:0):"form"==u&&"{"==o?r.indented:"form"==u?r.indented+Ce:"stat"==u?r.indented+(ye(t,i)?$e||Ce:0):"switch"!=r.info||h||0==n.doubleIndentSwitch?r.align?r.column+(h?0:1):r.indented+(h?0:Ce):r.indented+(/^(?:case|default)\b/.test(i)?Ce:2*Ce)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Te?null:"/*",blockCommentEnd:Te?null:"*/",lineComment:Te?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Te?"json":"javascript",jsonldMode:ke,jsonMode:Te,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=C&&t!=$||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(n,o){function r(e,t){function i(i){return t.tokenize=i,i(e,t)}var n=e.next();if("<"==n)return e.eat("!")?e.eat("[")?e.match("CDATA[")?i(l("atom","]]>")):null:e.match("--")?i(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(T=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket");if("&"==n){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function s(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=r,T=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return T="equals",null;if("<"==i){t.tokenize=r,t.state=p,t.tagName=t.tagStart=null;var n=t.tokenize(e,t);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=a(i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,i){for(;!t.eol();)if(t.next()==e){i.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(i,n){for(;!i.eol();){if(i.match(t)){n.tokenize=r;break}i.next()}return e}}function c(e){return function(t,i){for(var n;null!=(n=t.next());){if("<"==n)return i.tokenize=c(e+1),i.tokenize(t,i);if(">"==n){if(1==e){i.tokenize=r;break}return i.tokenize=c(e-1),i.tokenize(t,i)}}return"meta"}}function u(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function h(e){e.context&&(e.context=e.context.prev)}function d(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!C.contextGrabbers.hasOwnProperty(i)||!C.contextGrabbers[i].hasOwnProperty(t))return;h(e)}}function p(e,t,i){return"openTag"==e?(i.tagStart=t.column(),f):"closeTag"==e?m:p}function f(e,t,i){return"word"==e?(i.tagName=t.current(),S="tag",b):(S="error",f)}function m(e,t,i){if("word"==e){var n=t.current();return i.context&&i.context.tagName!=n&&C.implicitlyClosed.hasOwnProperty(i.context.tagName)&&h(i),i.context&&i.context.tagName==n||C.matchClosing===!1?(S="tag",g):(S="tag error",v)}return S="error",v}function g(e,t,i){return"endTag"!=e?(S="error",g):(h(i),p)}function v(e,t,i){return S="error",g(e,t,i)}function b(e,t,i){if("word"==e)return S="attribute",_;if("endTag"==e||"selfcloseTag"==e){var n=i.tagName,o=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(n)?d(i,n):(d(i,n),i.context=new u(i,n,o==i.indented)),p}return S="error",b}function _(e,t,i){return"equals"==e?y:(C.allowMissing||(S="error"),b(e,t,i))}function y(e,t,i){return"string"==e?w:"word"==e&&C.allowUnquoted?(S="string",b):(S="error",b(e,t,i))}function w(e,t,i){return"string"==e?w:b(e,t,i)}var x=n.indentUnit,C={},$=o.htmlMode?t:i;for(var k in $)C[k]=$[k];for(var k in o)C[k]=o[k];var T,S;return r.isInText=!0,{startState:function(e){var t={tokenize:r,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;T=null;var i=t.tokenize(e,t);return(i||T)&&"comment"!=i&&(S=null,t.state=t.state(T||i,e,t),S&&(i="error"==S?i+" error":S)),i},indent:function(t,i,n){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=r)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return C.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+x*(C.multilineTagIndentFactor||1);if(C.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var a=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(a&&a[1])for(;o;){if(o.tagName==a[2]){o=o.prev;break}if(!C.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(a)for(;o;){var l=C.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(a[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+x:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:C.htmlMode?"html":"xml",helperType:C.htmlMode?"html":"xml",skipAttribute:function(e){e.state==y&&(e.state=b)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e,t,i){"use strict";function n(e,t){return t=t||Error,function(){var i,n,o=arguments[0],r="["+(e?e+":":"")+o+"] ",s=arguments[1],a=arguments;for(i=r+s.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<a.length?de(a[t+2]):e}),i=i+"\nhttp://errors.angularjs.org/1.3.20/"+(e?e+"/":"")+o,n=2;n<arguments.length;n++)i=i+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(de(arguments[n]));return new t(i)}}function o(e){if(null==e||k(e))return!1;var t="length"in Object(e)&&e.length;return!(e.nodeType!==yn||!t)||(y(e)||pn(e)||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,i){var n,s;if(e)if(C(e))for(n in e)"prototype"==n||"length"==n||"name"==n||e.hasOwnProperty&&!e.hasOwnProperty(n)||t.call(i,e[n],n,e);else if(pn(e)||o(e)){var a="object"!=typeof e;for(n=0,s=e.length;n<s;n++)(a||n in e)&&t.call(i,e[n],n,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e);return e}function s(e){return Object.keys(e).sort()}function a(e,t,i){for(var n=s(e),o=0;o<n.length;o++)t.call(i,e[n[o]],n[o]);return n}function l(e){return function(t,i){e(i,t)}}function c(){return++hn}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function h(e){for(var t=e.$$hashKey,i=1,n=arguments.length;i<n;i++){var o=arguments[i];if(o)for(var r=Object.keys(o),s=0,a=r.length;s<a;s++){var l=r[s];e[l]=o[l]}}return u(e,t),e}function d(e){return parseInt(e,10)}function p(e,t){return h(Object.create(e),t)}function f(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function b(e){return"undefined"!=typeof e}function _(e){return null!==e&&"object"==typeof e}function y(e){return"string"==typeof e}function w(e){return"number"==typeof e}function x(e){return"[object Date]"===ln.call(e)}function C(e){return"function"==typeof e}function $(e){return"[object RegExp]"===ln.call(e)}function k(e){return e&&e.window===e}function T(e){return e&&e.$evalAsync&&e.$watch}function S(e){return"[object File]"===ln.call(e)}function D(e){return"[object FormData]"===ln.call(e)}function P(e){return"[object Blob]"===ln.call(e)}function A(e){return"boolean"==typeof e}function E(e){return e&&C(e.then)}function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function O(e){var t,i={},n=e.split(",");for(t=0;t<n.length;t++)i[n[t]]=!0;return i}function N(e){return Ki(e.nodeName||e[0]&&e[0].nodeName)}function M(e,t){var i=e.indexOf(t);return i>=0&&e.splice(i,1),t}function L(e,t,i,n){if(k(e)||T(e))throw cn("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw cn("cpi","Can't copy! Source and destination are identical.");if(i=i||[],n=n||[],_(e)){var o=i.indexOf(e);if(o!==-1)return n[o];i.push(e),n.push(t)}var s;if(pn(e)){t.length=0;for(var a=0;a<e.length;a++)s=L(e[a],null,i,n),_(e[a])&&(i.push(e[a]),n.push(s)),t.push(s)}else{var l=t.$$hashKey;pn(t)?t.length=0:r(t,function(e,i){delete t[i]});for(var c in e)e.hasOwnProperty(c)&&(s=L(e[c],null,i,n),_(e[c])&&(i.push(e[c]),n.push(s)),t[c]=s);u(t,l)}}else if(t=e,e)if(pn(e))t=L(e,[],i,n);else if(x(e))t=new Date(e.getTime());else if($(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(_(e)){var h=Object.create(Object.getPrototypeOf(e));t=L(e,h,i,n)}return t}function H(e,t){if(pn(e)){t=t||[];for(var i=0,n=e.length;i<n;i++)t[i]=e[i]}else if(_(e)){t=t||{};for(var o in e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o])}return t||e}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,o,r,s=typeof e,a=typeof t;if(s==a&&"object"==s){if(!pn(e)){if(x(e))return!!x(t)&&F(e.getTime(),t.getTime());if($(e))return!!$(t)&&e.toString()==t.toString();if(T(e)||T(t)||k(e)||k(t)||pn(t)||x(t)||$(t))return!1;r={};for(o in e)if("$"!==o.charAt(0)&&!C(e[o])){if(!F(e[o],t[o]))return!1;r[o]=!0}for(o in t)if(!r.hasOwnProperty(o)&&"$"!==o.charAt(0)&&t[o]!==i&&!C(t[o]))return!1;return!0}if(!pn(t))return!1;if((n=e.length)==t.length){for(o=0;o<n;o++)if(!F(e[o],t[o]))return!1;return!0}}return!1}function j(e,t,i){return e.concat(rn.call(t,i))}function R(e,t){return rn.call(e,t||0)}function W(e,t){var i=arguments.length>2?R(arguments,2):[];return!C(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,j(i,arguments,0)):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,n){var o=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=i:k(n)?o="$WINDOW":n&&t===n?o="$DOCUMENT":T(n)&&(o="$SCOPE"),o}function B(e,t){return"undefined"==typeof e?i:(w(t)||(t=t?2:null),JSON.stringify(e,z,t))}function q(e){return y(e)?JSON.parse(e):e}function U(e){e=tn(e).clone();try{e.empty()}catch(t){}var i=tn("<div>").append(e).html();try{return e[0].nodeType===xn?Ki(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ki(t)})}catch(t){return Ki(i)}}function V(e){try{return decodeURIComponent(e)}catch(t){}}function Y(e){var t,i,n={};return r((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),i=V(t[0]),b(i))){var o=!b(t[1])||V(t[1]);Xi.call(n,i)?pn(n[i])?n[i].push(o):n[i]=[n[i],o]:n[i]=o}}),n}function G(e){var t=[];return r(e,function(e,i){pn(e)?r(e,function(e){t.push(X(i,!0)+(e===!0?"":"="+X(e,!0)))}):t.push(X(i,!0)+(e===!0?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function K(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Q(e,t){var i,n,o=vn.length;for(e=tn(e),n=0;n<o;++n)if(i=vn[n]+t,y(i=e.attr(i)))return i;return null}function Z(e,t){var i,n,o={};r(vn,function(t){var o=t+"app";!i&&e.hasAttribute&&e.hasAttribute(o)&&(i=e,n=e.getAttribute(o))}),r(vn,function(t){var o,r=t+"app";!i&&(o=e.querySelector("["+r.replace(":","\\:")+"]"))&&(i=o,n=o.getAttribute(r))}),i&&(o.strictDi=null!==Q(i,"strict-di"),t(i,n?[n]:[],o))}function J(i,n,o){_(o)||(o={});var s={strictDi:!1};o=h(s,o);var a=function(){if(i=tn(i),i.injector()){var e=i[0]===t?"document":U(i);throw cn("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",i)}]),o.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var r=qe(n,o.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,n){e.$apply(function(){t.data("$injector",n),i(t)(e)})}]),r},l=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!c.test(e.name)?a():(e.name=e.name.replace(c,""),un.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(C(un.resumeDeferredBootstrap)&&un.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){var t=un.element(e).injector();if(!t)throw cn("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ie(e,t){return t=t||"_",e.replace(bn,function(e,i){return(i?t:"")+e.toLowerCase()})}function ne(){var t;_n||(nn=e.jQuery,nn&&nn.fn.on?(tn=nn,h(nn.fn,{scope:Rn.scope,isolateScope:Rn.isolateScope,controller:Rn.controller,injector:Rn.injector,inheritedData:Rn.inheritedData}),t=nn.cleanData,nn.cleanData=function(e){var i;if(dn)dn=!1;else for(var n,o=0;null!=(n=e[o]);o++)i=nn._data(n,"events"),i&&i.$destroy&&nn(n).triggerHandler("$destroy");t(e)}):tn=ye,un.element=tn,_n=!0)}function oe(e,t,i){if(!e)throw cn("areq","Argument '{0}' is {1}",t||"?",i||"required");return e}function re(e,t,i){return i&&pn(e)&&(e=e[e.length-1]),oe(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function se(e,t){if("hasOwnProperty"===e)throw cn("badname","hasOwnProperty is not a valid {0} name",t)}function ae(e,t,i){if(!t)return e;for(var n,o=t.split("."),r=e,s=o.length,a=0;a<s;a++)n=o[a],e&&(e=(r=e)[n]);return!i&&C(e)?W(r,e):e}function le(e){var t=e[0],i=e[e.length-1],n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==i);return tn(n)}function ce(){return Object.create(null)}function ue(e){function t(e,t,i){return e[t]||(e[t]=i())}var i=n("$injector"),o=n("ng"),r=t(e,"angular",Object);return r.$$minErr=r.$$minErr||n,t(r,"module",function(){var e={};return function(n,r,s){var a=function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)};return a(n,"module"),r&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,i,n,o){return o||(o=t),function(){return o[n||"push"]([e,i,arguments]),c}}if(!r)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var t=[],o=[],a=[],l=e("$injector","invoke","push",o),c={_invokeQueue:t,_configBlocks:o,_runBlocks:a,requires:r,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return a.push(e),this}};return s&&l(s),c})}})}function he(e){var t=[];return JSON.stringify(e,function(e,i){if(i=z(e,i),_(i)){if(t.indexOf(i)>=0)return"<<already seen>>";t.push(i)}return i})}function de(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?he(e):e}function pe(t){h(t,{bootstrap:J,copy:L,extend:h,equals:F,element:tn,forEach:r,injector:qe,noop:f,bind:W,toJson:B,fromJson:q,identity:m,isUndefined:v,isDefined:b,isString:y,isFunction:C,isObject:_,isNumber:w,isElement:I,isArray:pn,version:Tn,isDate:x,lowercase:Ki,uppercase:Qi,callbacks:{counter:0},getTestability:te,$$minErr:n,$$csp:gn,reloadWithDebugInfo:ee}),on=ue(e);try{on("ngLocale")}catch(i){on("ngLocale",[]).provider("$locale",gt)}on("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Kt}),e.provider("$compile",Qe).directive({a:Oo,input:Xo,textarea:Xo,form:Fo,script:jr,select:zr,style:qr,option:Br,ngBind:Jo,ngBindHtml:tr,ngBindTemplate:er,ngClass:nr,ngClassEven:rr,ngClassOdd:or,ngCloak:sr,ngController:ar,ngForm:jo,ngHide:Or,ngIf:ur,ngInclude:hr,ngInit:pr,ngNonBindable:Sr,ngPluralize:Dr,ngRepeat:Pr,ngShow:Ir,ngStyle:Nr,ngSwitch:Mr,ngSwitchWhen:Lr,ngSwitchDefault:Hr,ngOptions:Wr,ngTransclude:Fr,ngModel:$r,ngList:fr,ngChange:ir,pattern:Vr,ngPattern:Vr,required:Ur,ngRequired:Ur,minlength:Gr,ngMinlength:Gr,maxlength:Yr,ngMaxlength:Yr,ngValue:Zo,ngModelOptions:Tr}).directive({ngInclude:dr}).directive(No).directive(lr),e.provider({$anchorScroll:Ue,$animate:Xn,$browser:Ge,$cacheFactory:Ke,$controller:tt,$document:it,$exceptionHandler:nt,$filter:ai,$interpolate:ft,$interval:mt,$http:ut,$httpBackend:dt,$location:At,$log:Et,$parse:Bt,$rootScope:Gt,$q:qt,$$q:Ut,$sce:Jt,$sceDelegate:Zt,$sniffer:ei,$templateCache:Xe,$templateRequest:ti,$$testability:ii,$timeout:ni,$window:si,$$rAF:Yt,$$asyncCallback:Ve,$$jqLite:je})}])}function fe(){return++Dn}function me(e){return e.replace(En,function(e,t,i,n){return n?i.toUpperCase():i}).replace(In,"Moz$1")}function ge(e){return!Ln.test(e)}function ve(e){var t=e.nodeType;return t===yn||!t||t===$n}function be(e,t){var i,n,o,s,a=t.createDocumentFragment(),l=[];if(ge(e))l.push(t.createTextNode(e));else{for(i=i||a.appendChild(t.createElement("div")),n=(Hn.exec(e)||["",""])[1].toLowerCase(),o=jn[n]||jn._default,i.innerHTML=o[1]+e.replace(Fn,"<$1></$2>")+o[2],s=o[0];s--;)i=i.lastChild;l=j(l,i.childNodes),i=a.firstChild,i.textContent=""}return a.textContent="",a.innerHTML="",r(l,function(e){a.appendChild(e)}),a}function _e(e,i){i=i||t;var n;return(n=Mn.exec(e))?[i.createElement(n[1])]:(n=be(e,i))?n.childNodes:[]}function ye(e){if(e instanceof ye)return e;var t;if(y(e)&&(e=fn(e),t=!0),!(this instanceof ye)){if(t&&"<"!=e.charAt(0))throw Nn("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ye(e)}t?Ae(this,_e(e)):Ae(this,e)}function we(e){return e.cloneNode(!0)}function xe(e,t){if(t||$e(e),e.querySelectorAll)for(var i=e.querySelectorAll("*"),n=0,o=i.length;n<o;n++)$e(i[n])}function Ce(e,t,i,n){if(b(n))throw Nn("offargs","jqLite#off() does not support the `selector` argument");var o=ke(e),s=o&&o.events,a=o&&o.handle;if(a)if(t)r(t.split(" "),function(t){if(b(i)){var n=s[t];if(M(n||[],i),n&&n.length>0)return}An(e,t,a),delete s[t]});else for(t in s)"$destroy"!==t&&An(e,t,a),delete s[t]}function $e(e,t){var n=e.ng339,o=n&&Sn[n];if(o){if(t)return void delete o.data[t];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),Ce(e)),delete Sn[n],e.ng339=i}}function ke(e,t){var n=e.ng339,o=n&&Sn[n];return t&&!o&&(e.ng339=n=fe(),o=Sn[n]={events:{},data:{},handle:i}),o}function Te(e,t,i){if(ve(e)){var n=b(i),o=!n&&t&&!_(t),r=!t,s=ke(e,!o),a=s&&s.data;if(n)a[t]=i;else{if(r)return a;if(o)return a&&a[t];h(a,t)}}}function Se(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function De(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",fn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fn(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=fn(e),i.indexOf(" "+e+" ")===-1&&(i+=e+" ")}),e.setAttribute("class",fn(i))}}function Ae(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var i=t.length;if("number"==typeof i&&t.window!==t){if(i)for(var n=0;n<i;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function Ee(e,t){return Ie(e,"$"+(t||"ngController")+"Controller")}function Ie(e,t,n){e.nodeType==$n&&(e=e.documentElement);for(var o=pn(t)?t:[t];e;){for(var r=0,s=o.length;r<s;r++)if((n=tn.data(e,o[r]))!==i)return n;e=e.parentNode||e.nodeType===kn&&e.host}}function Oe(e){for(xe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ne(e,t){t||xe(e);var i=e.parentNode;i&&i.removeChild(e)}function Me(t,i){i=i||e,"complete"===i.document.readyState?i.setTimeout(t):tn(i).on("load",t)}function Le(e,t){var i=Wn[t.toLowerCase()];return i&&zn[N(e)]&&i}function He(e,t){var i=e.nodeName;return("INPUT"===i||"TEXTAREA"===i)&&Bn[t]}function Fe(e,t){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var o=t[n||i.type],r=o?o.length:0;if(r){if(v(i.immediatePropagationStopped)){var s=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),s&&s.call(i)}}i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0},r>1&&(o=H(o));for(var a=0;a<r;a++)i.isImmediatePropagationStopped()||o[a].call(e,i)}};return i.elem=e,i}function je(){this.$get=function(){return h(ye,{hasClass:function(e,t){return e.attr&&(e=e[0]),Se(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),De(e,t)}})}}function Re(e,t){var i=e&&e.$$hashKey;if(i)return"function"==typeof i&&(i=e.$$hashKey()),i;var n=typeof e;return i="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||c)():n+":"+e}function We(e,t){if(t){var i=0;this.nextUid=function(){return++i}}r(e,this.put,this)}function ze(e){var t=e.toString().replace(Yn,""),i=t.match(qn);return i?"function("+(i[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Be(e,t,i){var n,o,s,a;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw y(i)&&i||(i=e.name||ze(e)),Gn("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);o=e.toString().replace(Yn,""),s=o.match(qn),r(s[1].split(Un),function(e){e.replace(Vn,function(e,t,i){n.push(i);
})})}e.$inject=n}}else pn(e)?(a=e.length-1,re(e[a],"fn"),n=e.slice(0,a)):re(e,"fn",!0);return n}function qe(e,t){function n(e){return function(t,i){return _(t)?void r(t,l(e)):e(t,i)}}function o(e,t){if(se(e,"service"),(C(t)||pn(t))&&(t=T.instantiate(t)),!t.$get)throw Gn("pget","Provider '{0}' must define $get factory method.",e);return k[e+w]=t}function s(e,t){return function(){var i=D.invoke(t,this);if(v(i))throw Gn("undef","Provider '{0}' must return a value from $get factory method.",e);return i}}function a(e,t,i){return o(e,{$get:i!==!1?s(e,t):t})}function c(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return a(e,g(t),!1)}function h(e,t){se(e,"constant"),k[e]=t,S[e]=t}function d(e,t){var i=T.get(e+w),n=i.$get;i.$get=function(){var e=D.invoke(n,i);return D.invoke(t,null,{$delegate:e})}}function p(e){var t,i=[];return r(e,function(e){function n(e){var t,i;for(t=0,i=e.length;t<i;t++){var n=e[t],o=T.get(n[0]);o[n[1]].apply(o,n[2])}}if(!$.get(e)){$.put(e,!0);try{y(e)?(t=on(e),i=i.concat(p(t.requires)).concat(t._runBlocks),n(t._invokeQueue),n(t._configBlocks)):C(e)?i.push(T.invoke(e)):pn(e)?i.push(T.invoke(e)):re(e,"module")}catch(o){throw pn(e)&&(e=e[e.length-1]),o.message&&o.stack&&o.stack.indexOf(o.message)==-1&&(o=o.message+"\n"+o.stack),Gn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,o.stack||o.message||o)}}}),i}function m(e,i){function n(t,n){if(e.hasOwnProperty(t)){if(e[t]===b)throw Gn("cdep","Circular dependency found: {0}",t+" <- "+x.join(" <- "));return e[t]}try{return x.unshift(t),e[t]=b,e[t]=i(t,n)}catch(o){throw e[t]===b&&delete e[t],o}finally{x.shift()}}function o(e,i,o,r){"string"==typeof o&&(r=o,o=null);var s,a,l,c=[],u=qe.$$annotate(e,t,r);for(a=0,s=u.length;a<s;a++){if(l=u[a],"string"!=typeof l)throw Gn("itkn","Incorrect injection token! Expected service name as string, got {0}",l);c.push(o&&o.hasOwnProperty(l)?o[l]:n(l,r))}return pn(e)&&(e=e[s]),e.apply(i,c)}function r(e,t,i){var n=Object.create((pn(e)?e[e.length-1]:e).prototype||null),r=o(e,n,t,i);return _(r)||C(r)?r:n}return{invoke:o,instantiate:r,get:n,annotate:qe.$$annotate,has:function(t){return k.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var b={},w="Provider",x=[],$=new We([],(!0)),k={$provide:{provider:n(o),factory:n(a),service:n(c),value:n(u),constant:n(h),decorator:d}},T=k.$injector=m(k,function(e,t){throw un.isString(t)&&x.push(t),Gn("unpr","Unknown provider: {0}",x.join(" <- "))}),S={},D=S.$injector=m(S,function(e,t){var n=T.get(e+w,t);return D.invoke(n.$get,n,i,e)});return r(p(e),function(e){D.invoke(e||f)}),D}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,i,n){function o(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===N(e))return t=e,!0}),t}function r(){var e=a.yOffset;if(C(e))e=e();else if(I(e)){var i=e[0],n=t.getComputedStyle(i);e="fixed"!==n.position?0:i.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function s(e){if(e){e.scrollIntoView();var i=r();if(i){var n=e.getBoundingClientRect().top;t.scrollBy(0,n-i)}}else t.scrollTo(0,0)}function a(){var e,t=i.hash();t?(e=l.getElementById(t))?s(e):(e=o(l.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var l=t.document;return e&&n.$watch(function(){return i.hash()},function(e,t){e===t&&""===e||Me(function(){n.$evalAsync(a)})}),a}]}function Ve(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ye(e,t,n,o){function s(e){try{e.apply(null,R(arguments,1))}finally{if($--,0===$)for(;k.length;)try{k.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function l(e,t){!function i(){r(S,function(e){e()}),T=t(i,e)}()}function c(){h(),d()}function u(){try{return _.state}catch(e){}}function h(){D=u(),D=v(D)?null:D,F(D,M)&&(D=M),M=D}function d(){A===m.url()&&P===D||(A=m.url(),P=D,r(O,function(e){e(m.url(),D)}))}function p(e){try{return decodeURIComponent(e)}catch(t){return e}}var m=this,g=t[0],b=e.location,_=e.history,w=e.setTimeout,x=e.clearTimeout,C={};m.isMock=!1;var $=0,k=[];m.$$completeOutstandingRequest=s,m.$$incOutstandingRequestCount=function(){$++},m.notifyWhenNoOutstandingRequests=function(e){r(S,function(e){e()}),0===$?e():k.push(e)};var T,S=[];m.addPollFn=function(e){return v(T)&&l(100,w),S.push(e),e};var D,P,A=b.href,E=t.find("base"),I=null;h(),P=D,m.url=function(t,i,n){if(v(n)&&(n=null),b!==e.location&&(b=e.location),_!==e.history&&(_=e.history),t){var r=P===n;if(A===t&&(!o.history||r))return m;var s=A&&wt(A)===wt(t);return A=t,P=n,!o.history||s&&r?(s&&!I||(I=t),i?b.replace(t):s?b.hash=a(t):b.href=t):(_[i?"replaceState":"pushState"](n,"",t),h(),P=D),m}return I||b.href.replace(/%27/g,"'")},m.state=function(){return D};var O=[],N=!1,M=null;m.onUrlChange=function(t){return N||(o.history&&tn(e).on("popstate",c),tn(e).on("hashchange",c),N=!0),O.push(t),t},m.$$checkUrlChange=d,m.baseHref=function(){var e=E.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var L={},H="",j=m.baseHref();m.cookies=function(e,t){var o,r,s,a,l;if(!e){if(g.cookie!==H)for(H=g.cookie,r=H.split("; "),L={},a=0;a<r.length;a++)s=r[a],l=s.indexOf("="),l>0&&(e=p(s.substring(0,l)),L[e]===i&&(L[e]=p(s.substring(l+1))));return L}t===i?g.cookie=encodeURIComponent(e)+"=;path="+j+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(o=(g.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+j).length+1,o>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"))},m.defer=function(e,t){var i;return $++,i=w(function(){delete C[i],s(e)},t||0),C[i]=!0,i},m.defer.cancel=function(e){return!!C[e]&&(delete C[e],x(e),s(f),!0)}}function Ge(){this.$get=["$window","$log","$sniffer","$document",function(e,t,i,n){return new Ye(e,n,t,i)}]}function Ke(){this.$get=function(){function e(e,i){function o(e){e!=d&&(p?p==e&&(p=e.n):p=e,r(e.n,e.p),r(e,d),d=e,d.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw n("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var s=0,a=h({},i,{id:e}),l={},c=i&&i.capacity||Number.MAX_VALUE,u={},d=null,p=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE){var i=u[e]||(u[e]={key:e});o(i)}if(!v(t))return e in l||s++,l[e]=t,s>c&&this.remove(p.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;o(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==d&&(d=t.p),t==p&&(p=t.n),r(t.n,t.p),delete u[e]}delete l[e],s--},removeAll:function(){l={},s=0,u={},d=p=null},destroy:function(){l=null,a=null,u=null,delete t[e]},info:function(){return h({},a,{size:s})}}}var t={};return e.info=function(){var e={};return r(t,function(t,i){e[i]=t.info()}),e},e.get=function(e){return t[e]},e}}function Xe(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Qe(e,n){function o(e,t){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,n={};return r(e,function(e,o){var r=e.match(i);if(!r)throw Qn("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e);n[o]={mode:r[1][0],collection:"*"===r[2],optional:"?"===r[3],attrName:r[4]||o}}),n}var s={},a="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=O("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function $(t,i){return se(t,"directive"),y(t)?(oe(i,"directiveFactory"),s.hasOwnProperty(t)||(s[t]=[],e.factory(t+a,["$injector","$exceptionHandler",function(e,i){var n=[];return r(s[t],function(r,s){try{var a=e.invoke(r);C(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",_(a.scope)&&(a.$$isolateBindings=o(a.scope,a.name)),n.push(a)}catch(l){i(l)}}),n}])),s[t].push(i)):r(t,l($)),this},this.aHrefSanitizationWhitelist=function(e){return b(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return b(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,n,o,l,g,b,$,k,S,D,P){function A(e,t){try{e.addClass(t)}catch(i){}}function E(e,t,i,n,o){e instanceof tn||(e=tn(e)),r(e,function(t,i){t.nodeType==xn&&t.nodeValue.match(/\S+/)&&(e[i]=tn(t).wrap("<span></span>").parent()[0])});var s=O(e,t,e,i,n,o);E.$$addScopeClass(e);var a=null;return function(t,i,n){oe(t,"scope"),n=n||{};var o=n.parentBoundTranscludeFn,r=n.transcludeControllers,l=n.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),a||(a=I(l));var c;if(c="html"!==a?tn(Z(a,tn("<div>").append(e).html())):i?Rn.clone.call(e):e,r)for(var u in r)c.data("$"+u+"Controller",r[u].instance);return E.$$addScopeInfo(c,t),i&&i(c,t),s&&s(t,c,c,o),c}}function I(e){var t=e&&e[0];return t&&"foreignobject"!==N(t)&&t.toString().match(/SVG/)?"svg":"html"}function O(e,t,n,o,r,s){function a(e,n,o,r){var s,a,l,c,u,h,d,p,g;if(f){var v=n.length;for(g=new Array(v),u=0;u<m.length;u+=3)d=m[u],g[d]=n[d]}else g=n;for(u=0,h=m.length;u<h;)l=g[m[u++]],s=m[u++],a=m[u++],s?(s.scope?(c=e.$new(),E.$$addScopeInfo(tn(l),c)):c=e,p=s.transcludeOnThisElement?L(e,s.transclude,r,s.elementTranscludeOnThisElement):!s.templateOnThisElement&&r?r:!r&&t?L(e,t):null,s(a,c,l,o,p)):a&&a(e,l.childNodes,i,r)}for(var l,c,u,h,d,p,f,m=[],g=0;g<e.length;g++)l=new se,c=H(e[g],[],l,0===g?o:i,r),u=c.length?z(c,e[g],l,t,n,null,[],[],s):null,u&&u.scope&&E.$$addScopeClass(l.$$element),d=u&&u.terminal||!(h=e[g].childNodes)||!h.length?null:O(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(m.push(g,u,d),p=!0,f=f||u),s=null;return p?a:null}function L(e,t,i,n){var o=function(n,o,r,s,a){return n||(n=e.$new(!1,a),n.$$transcluded=!0),t(n,o,{parentBoundTranscludeFn:i,transcludeControllers:r,futureParentElement:s})};return o}function H(e,t,i,n,o){var r,s,a=e.nodeType,l=i.$attr;switch(a){case yn:q(t,Ze(N(e)),"E",n,o);for(var h,d,p,f,m,g,v=e.attributes,b=0,w=v&&v.length;b<w;b++){var x=!1,C=!1;h=v[b],d=h.name,m=fn(h.value),f=Ze(d),(g=he.test(f))&&(d=d.replace(Zn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var $=f.replace(/(Start|End)$/,"");V($)&&f===$+"Start"&&(x=d,C=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p=Ze(d.toLowerCase()),l[p]=d,!g&&i.hasOwnProperty(p)||(i[p]=m,Le(e,p)&&(i[p]=!0)),ee(e,t,m,p,g),q(t,p,"A",n,o,x,C)}if(s=e.className,_(s)&&(s=s.animVal),y(s)&&""!==s)for(;r=u.exec(s);)p=Ze(r[2]),q(t,p,"C",n,o)&&(i[p]=fn(r[3])),s=s.substr(r.index+r[0].length);break;case xn:Q(t,e.nodeValue);break;case Cn:try{r=c.exec(e.nodeValue),r&&(p=Ze(r[1]),q(t,p,"M",n,o)&&(i[p]=fn(r[2])))}catch(k){}}return t.sort(K),t}function j(e,t,i){var n=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Qn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);e.nodeType==yn&&(e.hasAttribute(t)&&o++,e.hasAttribute(i)&&o--),n.push(e),e=e.nextSibling}while(o>0)}else n.push(e);return tn(n)}function W(e,t,i){return function(n,o,r,s,a){return o=j(o[0],t,i),e(n,o,r,s,a)}}function z(e,s,a,l,c,u,h,d,p){function f(e,t,i,n){e&&(i&&(e=W(e,i,n)),e.require=k.require,e.directiveName=S,(N===k||k.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),h.push(e)),t&&(i&&(t=W(t,i,n)),t.require=k.require,t.directiveName=S,(N===k||k.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),d.push(t))}function m(e,t,i,n){var o,s,a="data",l=!1,c=i;if(y(t)){if(s=t.match(v),t=t.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",c=i.parent()),"?"===s[2]&&(l=!0),o=null,n&&"data"===a&&(o=n[t])&&(o=o.instance),o=o||c[a]("$"+t+"Controller"),!o&&!l)throw Qn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return o||null}return pn(t)&&(o=[],r(t,function(t){o.push(m(e,t,i,n))})),o}function w(e,t,o,l,c){function u(e,t,n){var o;return T(e)||(n=t,t=e,e=i),V&&(o=w),n||(n=V?C.parent():C),c(e,t,o,n,P)}var p,f,v,_,y,w,x,C,k;if(s===o?(k=a,C=a.$$element):(C=tn(o),k=new se(C,a)),N&&(y=t.$new(!0)),c&&(x=u,x.$$boundTransclude=c),O&&($={},w={},r(O,function(e){var i,n={$scope:e===N||e.$$isolateScope?y:t,$element:C,$attrs:k,$transclude:x};_=e.controller,"@"==_&&(_=k[e.name]),i=b(_,n,!0,e.controllerAs),w[e.name]=i,V||C.data("$"+e.name+"Controller",i.instance),$[e.name]=i})),N){E.$$addScopeInfo(C,y,!0,!(M&&(M===N||M===N.$$originalDirective))),E.$$addScopeClass(C,!0);var S=$&&$[N.name],D=y;S&&S.identifier&&N.bindToController===!0&&(D=S.instance),r(y.$$isolateBindings=N.$$isolateBindings,function(e,i){var o,r,s,a,l=e.attrName,c=e.optional,u=e.mode;switch(u){case"@":k.$observe(l,function(e){D[i]=e}),k.$$observers[l].$$scope=t,k[l]&&(D[i]=n(k[l])(t));break;case"=":if(c&&!k[l])return;r=g(k[l]),a=r.literal?F:function(e,t){return e===t||e!==e&&t!==t},s=r.assign||function(){throw o=D[i]=r(t),Qn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",k[l],N.name)},o=D[i]=r(t);var h=function(e){return a(e,D[i])||(a(e,o)?s(t,e=D[i]):D[i]=e),o=e};h.$stateful=!0;var d;d=e.collection?t.$watchCollection(k[l],h):t.$watch(g(k[l],h),null,r.literal),y.$on("$destroy",d);break;case"&":r=g(k[l]),D[i]=function(e){return r(t,e)}}})}for($&&(r($,function(e){e()}),$=null),p=0,f=h.length;p<f;p++)v=h[p],re(v,v.isolateScope?y:t,C,k,v.require&&m(v.directiveName,v.require,C,w),x);var P=t;for(N&&(N.template||null===N.templateUrl)&&(P=y),e&&e(P,o.childNodes,i,c),p=d.length-1;p>=0;p--)v=d[p],re(v,v.isolateScope?y:t,C,k,v.require&&m(v.directiveName,v.require,C,w),x)}p=p||{};for(var x,$,k,S,D,P,A,I=-Number.MAX_VALUE,O=p.controllerDirectives,N=p.newIsolateScopeDirective,M=p.templateDirective,L=p.nonTlbTranscludeDirective,z=!1,q=!1,V=p.hasElementTranscludeDirective,K=a.$$element=tn(s),Q=u,J=l,ee=0,ie=e.length;ee<ie;ee++){k=e[ee];var oe=k.$$start,ae=k.$$end;if(oe&&(K=j(s,oe,ae)),D=i,I>k.priority)break;if((A=k.scope)&&(k.templateUrl||(_(A)?(X("new/isolated scope",N||x,k,K),N=k):X("new/isolated scope",N,k,K)),x=x||k),S=k.name,!k.templateUrl&&k.controller&&(A=k.controller,O=O||{},X("'"+S+"' controller",O[S],k,K),O[S]=k),(A=k.transclude)&&(z=!0,k.$$tlb||(X("transclusion",L,k,K),L=k),"element"==A?(V=!0,I=k.priority,D=K,K=a.$$element=tn(t.createComment(" "+S+": "+a[S]+" ")),s=K[0],te(c,R(D),s),J=E(D,l,I,Q&&Q.name,{nonTlbTranscludeDirective:L})):(D=tn(we(s)).contents(),K.empty(),J=E(D,l))),k.template)if(q=!0,X("template",M,k,K),M=k,A=C(k.template)?k.template(K,a):k.template,A=ue(A),k.replace){if(Q=k,D=ge(A)?[]:et(Z(k.templateNamespace,fn(A))),s=D[0],1!=D.length||s.nodeType!==yn)throw Qn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");te(c,K,s);var le={$attr:{}},ce=H(s,[],le),he=e.splice(ee+1,e.length-(ee+1));N&&B(ce),e=e.concat(ce).concat(he),Y(a,le),ie=e.length}else K.html(A);if(k.templateUrl)q=!0,X("template",M,k,K),M=k,k.replace&&(Q=k),w=G(e.splice(ee,e.length-ee),K,a,c,z&&J,h,d,{controllerDirectives:O,newIsolateScopeDirective:N,templateDirective:M,nonTlbTranscludeDirective:L}),ie=e.length;else if(k.compile)try{P=k.compile(K,a,J),C(P)?f(null,P,oe,ae):P&&f(P.pre,P.post,oe,ae)}catch(de){o(de,U(K))}k.terminal&&(w.terminal=!0,I=Math.max(I,k.priority))}return w.scope=x&&x.scope===!0,w.transcludeOnThisElement=z,w.elementTranscludeOnThisElement=V,w.templateOnThisElement=q,w.transclude=J,p.hasElementTranscludeDirective=V,w}function B(e){for(var t=0,i=e.length;t<i;t++)e[t]=p(e[t],{$$isolateScope:!0})}function q(t,n,r,l,c,u,h){if(n===c)return null;var d=null;if(s.hasOwnProperty(n))for(var f,m=e.get(n+a),g=0,v=m.length;g<v;g++)try{f=m[g],(l===i||l>f.priority)&&f.restrict.indexOf(r)!=-1&&(u&&(f=p(f,{$$start:u,$$end:h})),t.push(f),d=f)}catch(b){o(b)}return d}function V(t){if(s.hasOwnProperty(t))for(var i,n=e.get(t+a),o=0,r=n.length;o<r;o++)if(i=n[o],i.multiElement)return!0;return!1}function Y(e,t){var i=t.$attr,n=e.$attr,o=e.$$element;r(e,function(n,o){"$"!=o.charAt(0)&&(t[o]&&t[o]!==n&&(n+=("style"===o?";":" ")+t[o]),e.$set(o,n,!0,i[o]))}),r(t,function(t,r){"class"==r?(A(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,n[r]=i[r])})}function G(e,t,i,n,o,s,a,c){var u,h,d=[],f=t[0],m=e.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=C(m.templateUrl)?m.templateUrl(t,i):m.templateUrl,b=m.templateNamespace;return t.empty(),l(v).then(function(l){var p,y,w,x;if(l=ue(l),m.replace){if(w=ge(l)?[]:et(Z(b,fn(l))),p=w[0],1!=w.length||p.nodeType!==yn)throw Qn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);y={$attr:{}},te(n,t,p);var C=H(p,[],y);_(m.scope)&&B(C),e=C.concat(e),Y(i,y)}else p=f,t.html(l);for(e.unshift(g),u=z(e,p,i,o,t,m,s,a,c),r(n,function(e,i){e==p&&(n[i]=t[0])}),h=O(t[0].childNodes,o);d.length;){var $=d.shift(),k=d.shift(),T=d.shift(),S=d.shift(),D=t[0];if(!$.$$destroyed){if(k!==f){var P=k.className;c.hasElementTranscludeDirective&&m.replace||(D=we(p)),te(T,tn(k),D),A(tn(D),P)}x=u.transcludeOnThisElement?L($,u.transclude,S):S,u(h,$,D,n,x)}}d=null}),function(e,t,i,n,o){var r=o;t.$$destroyed||(d?d.push(t,i,n,r):(u.transcludeOnThisElement&&(r=L(t,u.transclude,o)),u(h,t,i,n,r)))}}function K(e,t){var i=t.priority-e.priority;return 0!==i?i:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,i,n){if(t)throw Qn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,i.name,e,U(n))}function Q(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&E.$$addBindingClass(t),function(e,t){var o=t.parent();n||E.$$addBindingClass(o),E.$$addBindingInfo(o,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function Z(e,i){switch(e=Ki(e||"html")){case"svg":case"math":var n=t.createElement("div");return n.innerHTML="<"+e+">"+i+"</"+e+">",n.childNodes[0].childNodes;default:return i}}function J(e,t){if("srcdoc"==t)return S.HTML;var i=N(e);return"xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t)?S.RESOURCE_URL:void 0}function ee(e,t,i,o,r){var s=J(e,o);r=d[o]||r;var a=n(i,!0,s,r);if(a){if("multiple"===o&&"select"===N(e))throw Qn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",U(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers={});if(w.test(o))throw Qn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[o];u!==i&&(a=u&&n(u,!0,s,r),i=u),a&&(l[o]=a(e),(c[o]||(c[o]=[])).$$inter=!0,(l.$$observers&&l.$$observers[o].$$scope||e).$watch(a,function(e,t){"class"===o&&e!=t?l.$updateClass(e,t):l.$set(o,e)}))}}}})}}function te(e,i,n){var o,r,s=i[0],a=i.length,l=s.parentNode;if(e)for(o=0,r=e.length;o<r;o++)if(e[o]==s){e[o++]=n;for(var c=o,u=c+a-1,h=e.length;c<h;c++,u++)u<h?e[c]=e[u]:delete e[c];e.length-=a-1,e.context===s&&(e.context=n);break}l&&l.replaceChild(n,s);var d=t.createDocumentFragment();d.appendChild(s),tn(n).data(tn(s).data()),nn?(dn=!0,nn.cleanData([s])):delete tn.cache[s[tn.expando]];for(var p=1,f=i.length;p<f;p++){var m=i[p];tn(m).remove(),d.appendChild(m),delete i[p]}i[0]=n,i.length=1}function ne(e,t){return h(function(){return e.apply(null,arguments)},e,t)}function re(e,t,i,n,r,s){try{e(t,i,n,r,s)}catch(a){o(a,U(i))}}var se=function(e,t){if(t){var i,n,o,r=Object.keys(t);for(i=0,n=r.length;i<n;i++)o=r[i],this[o]=t[o]}else this.$attr={};this.$$element=e};se.prototype={$normalize:Ze,$addClass:function(e){e&&e.length>0&&D.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&D.removeClass(this.$$element,e)},$updateClass:function(e,t){var i=Je(e,t);i&&i.length&&D.addClass(this.$$element,i);var n=Je(t,e);n&&n.length&&D.removeClass(this.$$element,n)},$set:function(e,t,n,s){var a,l=this.$$element[0],c=Le(l,e),u=He(l,e),h=e;if(c?(this.$$element.prop(e,t),s=c):u&&(this[u]=t,h=u),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e],s||(this.$attr[e]=s=ie(e,"-"))),a=N(this.$$element),"a"===a&&"href"===e||"img"===a&&"src"===e)this[e]=t=P(t,"src"===e);else if("img"===a&&"srcset"===e){for(var d="",p=fn(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(p)?f:/(,)/,g=p.split(m),v=Math.floor(g.length/2),b=0;b<v;b++){var _=2*b;d+=P(fn(g[_]),!0),d+=" "+fn(g[_+1])}var y=fn(g[2*b]).split(/\s/);d+=P(fn(y[0]),!0),2===y.length&&(d+=" "+fn(y[1])),this[e]=t=d}n!==!1&&(null===t||t===i?this.$$element.removeAttr(s):this.$$element.attr(s,t));var w=this.$$observers;w&&r(w[h],function(e){try{e(t)}catch(i){o(i)}})},$observe:function(e,t){var i=this,n=i.$$observers||(i.$$observers=ce()),o=n[e]||(n[e]=[]);return o.push(t),$.$evalAsync(function(){!o.$$inter&&i.hasOwnProperty(e)&&t(i[e])}),function(){M(o,t)}}};var ae=n.startSymbol(),le=n.endSymbol(),ue="{{"==ae||"}}"==le?m:function(e){return e.replace(/\{\{/g,ae).replace(/}}/g,le)},he=/^ngAttr[A-Z]/;return E.$$addBindingInfo=x?function(e,t){var i=e.data("$binding")||[];pn(t)?i=i.concat(t):i.push(t),e.data("$binding",i)}:f,E.$$addBindingClass=x?function(e){A(e,"ng-binding")}:f,E.$$addScopeInfo=x?function(e,t,i,n){var o=i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:f,E.$$addScopeClass=x?function(e,t){A(e,t?"ng-isolate-scope":"ng-scope")}:f,E}]}function Ze(e){return me(e.replace(Zn,""))}function Je(e,t){var i="",n=e.split(/\s+/),o=t.split(/\s+/);e:for(var r=0;r<n.length;r++){for(var s=n[r],a=0;a<o.length;a++)if(s==o[a])continue e;i+=(i.length>0?" ":"")+s}return i}function et(e){e=tn(e);var t=e.length;if(t<=1)return e;for(;t--;){var i=e[t];i.nodeType===Cn&&sn.call(e,t,1)}return e}function tt(){var e={},t=!1,o=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,i){se(t,"controller"),_(t)?h(e,t):e[t]=i},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,s){function a(e,t,i,o){if(!e||!_(e.$scope))throw n("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,t);e.$scope[t]=i}return function(n,l,c,u){var d,p,f,m;if(c=c===!0,u&&y(u)&&(m=u),y(n)){if(p=n.match(o),!p)throw Jn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);f=p[1],m=m||p[3],n=e.hasOwnProperty(f)?e[f]:ae(l.$scope,f,!0)||(t?ae(s,f,!0):i),re(n,f,!0)}if(c){var g=(pn(n)?n[n.length-1]:n).prototype;return d=Object.create(g||null),m&&a(l,m,d,f||n.name),h(function(){return r.invoke(n,d,l,f),d},{instance:d,identifier:m})}return d=r.instantiate(n,l,f),m&&a(l,m,d,f||n.name),d}}]}function it(){this.$get=["$window",function(e){return tn(e.document)}]}function nt(){this.$get=["$log",function(e){return function(t,i){e.error.apply(e,arguments)}}]}function ot(e,t){if(y(e)){var i=e.replace(oo,"").trim();if(i){var n=t("Content-Type");(n&&0===n.indexOf(eo)||rt(i))&&(e=q(i))}}return e}function rt(e){var t=e.match(io);return t&&no[t[0]].test(e)}function st(e){var t,i,n,o=ce();return e?(r(e.split("\n"),function(e){n=e.indexOf(":"),t=Ki(fn(e.substr(0,n))),i=fn(e.substr(n+1)),t&&(o[t]=o[t]?o[t]+", "+i:i)}),o):o}function at(e){var t=_(e)?e:i;return function(i){if(t||(t=st(e)),i){var n=t[Ki(i)];return void 0===n&&(n=null),n}return t}}function lt(e,t,i,n){return C(n)?n(e,t,i):(r(n,function(n){e=n(e,t,i)}),e)}function ct(e){return 200<=e&&e<300}function ut(){var e=this.defaults={transformResponse:[ot],transformRequest:[function(e){return!_(e)||S(e)||P(e)||D(e)?e:B(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:H(to),put:H(to),patch:H(to)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return b(e)?(t=!!e,this):t};var o=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,u,d,p){function f(t){function o(e){var t=h({},e);return e.data?t.data=lt(e.data,e.headers,e.status,l.transformResponse):t.data=e.data,ct(e.status)?t:d.reject(t)}function s(e){var t,i={};return r(e,function(e,n){C(e)?(t=e(),null!=t&&(i[n]=t)):i[n]=e}),i}function a(t){var i,n,o,r=e.headers,a=h({},t.headers);r=h({},r.common,r[Ki(t.method)]);e:for(i in r){n=Ki(i);for(o in a)if(Ki(o)===n)continue e;a[i]=r[i]}return s(a)}if(!un.isObject(t))throw n("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var l=h({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);l.headers=a(t),l.method=Qi(l.method);var c=function(t){var n=t.headers,s=lt(t.data,at(n),i,t.transformRequest);return v(s)&&r(n,function(e,t){"content-type"===Ki(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,s).then(o,o)},u=[c,i],p=d.when(l);for(r(T,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&u.push(e.response,e.responseError)});u.length;){var f=u.shift(),m=u.shift();p=p.then(f,m)}return p.success=function(e){return re(e,"fn"),p.then(function(t){e(t.data,t.status,t.headers,l)}),p},p.error=function(e){return re(e,"fn"),p.then(null,function(t){e(t.data,t.status,t.headers,l)}),p},p}function m(e){r(arguments,function(e){f[e]=function(t,i){return f(h(i||{},{method:e,url:t}))}})}function g(e){r(arguments,function(e){f[e]=function(t,i,n){return f(h(n||{},{method:e,url:t,data:i}))}})}function w(n,o){function r(e,i,n,o){function r(){a(i,e,n,o)}p&&(ct(e)?p.put(x,[e,i,st(n),o]):p.remove(x)),t?u.$applyAsync(r):(r(),u.$$phase||u.$apply())}function a(e,t,i,o){t=t>=-1?t:0,(ct(t)?g.resolve:g.reject)({data:e,status:t,headers:at(i),config:n,statusText:o})}function c(e){a(e.data,e.status,H(e.headers()),e.statusText)}function h(){var e=f.pendingRequests.indexOf(n);e!==-1&&f.pendingRequests.splice(e,1)}var p,m,g=d.defer(),y=g.promise,w=n.headers,x=$(n.url,n.params);if(f.pendingRequests.push(n),y.then(h,h),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(p=_(n.cache)?n.cache:_(e.cache)?e.cache:k),p&&(m=p.get(x),b(m)?E(m)?m.then(c,c):pn(m)?a(m[1],m[0],H(m[2]),m[3]):a(m,200,{},"OK"):p.put(x,y)),v(m)){var C=ri(n.url)?l.cookies()[n.xsrfCookieName||e.xsrfCookieName]:i;C&&(w[n.xsrfHeaderName||e.xsrfHeaderName]=C),s(n.method,x,o,r,w,n.timeout,n.withCredentials,n.responseType)}return y}function $(e,t){if(!t)return e;var i=[];return a(t,function(e,t){null===e||v(e)||(pn(e)||(e=[e]),r(e,function(e){_(e)&&(e=x(e)?e.toISOString():B(e)),i.push(X(t)+"="+X(e))}))}),i.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+i.join("&")),e}var k=c("$http"),T=[];return r(o,function(e){T.unshift(y(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=e,f}]}function ht(){return new e.XMLHttpRequest}function dt(){this.$get=["$browser","$window","$document",function(e,t,i){return pt(e,ht,e.defer,t.angular.callbacks,i[0])}]}function pt(e,t,n,o,s){function a(e,t,i){var n=s.createElement("script"),r=null;return n.type="text/javascript",n.src=e,n.async=!0,r=function(e){An(n,"load",r),An(n,"error",r),s.body.removeChild(n),n=null;var a=-1,l="unknown";e&&("load"!==e.type||o[t].called||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),i&&i(a,l)},Pn(n,"load",r),Pn(n,"error",r),s.body.appendChild(n),r}return function(s,l,c,u,h,d,p,m){function g(){y&&y(),w&&w.abort()}function v(t,o,r,s,a){$!==i&&n.cancel($),y=w=null,t(o,r,s,a),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Ki(s)){var _="_"+(o.counter++).toString(36);o[_]=function(e){o[_].data=e,o[_].called=!0};var y=a(l.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(e,t){v(u,e,o[_].data,"",t),o[_]=f})}else{var w=t();w.open(s,l,!0),r(h,function(e,t){b(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,i=1223===w.status?204:w.status;0===i&&(i=t?200:"file"==oi(l).protocol?404:0),v(u,i,t,w.getAllResponseHeaders(),e)};var x=function(){v(u,-1,null,null,"")};if(w.onerror=x,w.onabort=x,p&&(w.withCredentials=!0),m)try{w.responseType=m}catch(C){if("json"!==m)throw C}w.send(c||null)}if(d>0)var $=n(g,d);else E(d)&&d.then(g)}}function ft(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,o){function r(e){return"\\\\\\"+e}function s(r,s,d,p){function f(i){return i.replace(c,e).replace(u,t)}function m(e){try{return e=P(e),p&&!b(e)?e:A(e)}catch(t){var i=ro("interr","Can't interpolate: {0}\n{1}",r,t.toString());n(i)}}p=!!p;for(var g,_,y,w=0,x=[],$=[],k=r.length,T=[],S=[];w<k;){if((g=r.indexOf(e,w))==-1||(_=r.indexOf(t,g+a))==-1){w!==k&&T.push(f(r.substring(w)));break}w!==g&&T.push(f(r.substring(w,g))),y=r.substring(g+a,_),x.push(y),$.push(i(y,m)),w=_+l,S.push(T.length),T.push("")}if(d&&T.length>1)throw ro("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",r);if(!s||x.length){var D=function(e){for(var t=0,i=x.length;t<i;t++){if(p&&v(e[t]))return;T[S[t]]=e[t]}return T.join("")},P=function(e){return d?o.getTrusted(d,e):o.valueOf(e)},A=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=B(e)}return e};return h(function(e){var t=0,i=x.length,o=new Array(i);try{for(;t<i;t++)o[t]=$[t](e);return D(o)}catch(s){var a=ro("interr","Can't interpolate: {0}\n{1}",r,s.toString());n(a)}},{exp:r,expressions:x,$$watchDelegate:function(e,t,i){var n;return e.$watchGroup($,function(i,o){var r=D(i);C(t)&&t.call(this,r,i!==o?n:r,e),n=r},i)}})}}var a=e.length,l=t.length,c=new RegExp(e.replace(/./g,r),"g"),u=new RegExp(t.replace(/./g,r),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function mt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,i,n){function o(o,s,a,l){var c=t.setInterval,u=t.clearInterval,h=0,d=b(l)&&!l,p=(d?n:i).defer(),f=p.promise;return a=b(a)?a:0,f.then(null,null,o),f.$$intervalId=c(function(){p.notify(h++),a>0&&h>=a&&(p.resolve(h),u(f.$$intervalId),delete r[f.$$intervalId]),d||e.$apply()},s),r[f.$$intervalId]=p,f}var r={};return o.cancel=function(e){return!!(e&&e.$$intervalId in r)&&(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0)},o}]}function gt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function vt(e){for(var t=e.split("/"),i=t.length;i--;)t[i]=K(t[i]);return t.join("/")}function bt(e,t){var i=oi(e);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=d(i.port)||ao[i.protocol]||null}function _t(e,t){var i="/"!==e.charAt(0);i&&(e="/"+e);var n=oi(e);t.$$path=decodeURIComponent(i&&"/"===n.pathname.charAt(0)?n.pathname.substring(1):n.pathname),
t.$$search=Y(n.search),t.$$hash=decodeURIComponent(n.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function yt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function wt(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function Ct(e){return e.substr(0,wt(e).lastIndexOf("/")+1)}function $t(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function kt(e,t,n){this.$$html5=!0,n=n||"",bt(e,this),this.$$parse=function(e){var i=yt(t,e);if(!y(i))throw lo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);_t(i,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(o,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var s,a,l;return(s=yt(e,o))!==i?(a=s,l=(s=yt(n,s))!==i?t+(yt("/",s)||s):e+a):(s=yt(t,o))!==i?l=t+s:t==o+"/"&&(l=t),l&&this.$$parse(l),!!l}}function Tt(e,t,i){bt(e,this),this.$$parse=function(n){function o(e,t,i){var n,o=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(i)&&(t=t.replace(i,"")),o.exec(t)?e:(n=o.exec(e),n?n[1]:e)}var r,s=yt(e,n)||yt(t,n);v(s)||"#"!==s.charAt(0)?this.$$html5?r=s:(r="",v(s)&&(e=n,this.replace())):(r=yt(i,s),v(r)&&(r=s)),_t(r,this),this.$$path=o(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=G(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=vt(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+(this.$$url?i+this.$$url:"")},this.$$parseLinkUrl=function(t,i){return wt(e)==wt(t)&&(this.$$parse(t),!0)}}function St(e,t,i){this.$$html5=!0,Tt.apply(this,arguments),this.$$parseLinkUrl=function(n,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var r,s;return e==wt(n)?r=n:(s=yt(t,n))?r=e+i+s:t===n+"/"&&(r=t),r&&this.$$parse(r),!!r},this.$$compose=function(){var t=G(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=vt(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+i+this.$$url}}function Dt(e){return function(){return this[e]}}function Pt(e,t){return function(i){return v(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function At(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return A(e)?(t.enabled=e,this):_(e)?(A(e.enabled)&&(t.enabled=e.enabled),A(e.requireBase)&&(t.requireBase=e.requireBase),A(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,o,r,s){function a(e,t,i){var o=c.url(),r=c.$$state;try{n.url(e,t,i),c.$$state=n.state()}catch(s){throw c.url(o),c.$$state=r,s}}function l(e,t){i.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,h,d=n.baseHref(),p=n.url();if(t.enabled){if(!d&&t.requireBase)throw lo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=$t(p)+(d||"/"),u=o.history?kt:St}else h=wt(p),u=Tt;var f=Ct(h);c=new u(h,f,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=n.state();var m=/^\s*(javascript|mailto):/i;r.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var o=tn(e.target);"a"!==N(o[0]);)if(o[0]===r[0]||!(o=o.parent())[0])return;var a=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");_(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=oi(a.animVal).href),m.test(a)||!a||o.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(a,l)&&(e.preventDefault(),c.absUrl()!=n.url()&&(i.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),xt(c.absUrl())!=xt(p)&&n.url(c.absUrl(),!0);var g=!0;return n.onUrlChange(function(e,t){return v(yt(f,e))?void(s.location.href=e):(i.$evalAsync(function(){var n,o=c.absUrl(),r=c.$$state;c.$$parse(e),c.$$state=t,n=i.$broadcast("$locationChangeStart",e,o,t,r).defaultPrevented,c.absUrl()===e&&(n?(c.$$parse(o),c.$$state=r,a(o,!1,r)):(g=!1,l(o,r)))}),void(i.$$phase||i.$digest()))}),i.$watch(function(){var e=xt(n.url()),t=xt(c.absUrl()),r=n.state(),s=c.$$replace,u=e!==t||c.$$html5&&o.history&&r!==c.$$state;(g||u)&&(g=!1,i.$evalAsync(function(){var t=c.absUrl(),n=i.$broadcast("$locationChangeStart",t,e,c.$$state,r).defaultPrevented;c.absUrl()===t&&(n?(c.$$parse(e),c.$$state=r):(u&&a(t,s,r===c.$$state?null:c.$$state),l(e,r)))})),c.$$replace=!1}),c}]}function Et(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(i){function n(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=i.console||{},o=t[e]||t.log||f,s=!1;try{s=!!o.apply}catch(a){}return s?function(){var e=[];return r(arguments,function(t){e.push(n(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var i=o("debug");return function(){e&&i.apply(t,arguments)}}()}}]}function It(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw uo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Ot(e,t){if(e+="",!y(e))throw uo("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Nt(e,t){if(e){if(e.constructor===e)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw uo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw uo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw uo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Mt(e,t){if(e){if(e.constructor===e)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ho||e===po||e===fo)throw uo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Lt(e){return e.constant}function Ht(e,t,i,n,o){Nt(e,o),Nt(t,o);for(var r,s=i.split("."),a=0;s.length>1;a++){r=It(s.shift(),o);var l=0===a&&t&&t[r]||e[r];l||(l={},e[r]=l),e=Nt(l,o)}return r=It(s.shift(),o),Nt(e[r],o),e[r]=n,n}function Ft(e){return"constructor"==e}function jt(e,t,n,o,r,s,a){It(e,s),It(t,s),It(n,s),It(o,s),It(r,s);var l=function(e){return Nt(e,s)},c=a||Ft(e)?l:m,u=a||Ft(t)?l:m,h=a||Ft(n)?l:m,d=a||Ft(o)?l:m,p=a||Ft(r)?l:m;return function(s,a){var l=a&&a.hasOwnProperty(e)?a:s;return null==l?l:(l=c(l[e]),t?null==l?i:(l=u(l[t]),n?null==l?i:(l=h(l[n]),o?null==l?i:(l=d(l[o]),r?null==l?i:l=p(l[r]):l):l):l):l)}}function Rt(e,t){return function(i,n){return e(i,n,Nt,t)}}function Wt(e,t,n){var o=t.expensiveChecks,s=o?wo:yo,a=s[e];if(a)return a;var l=e.split("."),c=l.length;if(t.csp)a=c<6?jt(l[0],l[1],l[2],l[3],l[4],n,o):function(e,t){var r,s=0;do r=jt(l[s++],l[s++],l[s++],l[s++],l[s++],n,o)(e,t),t=i,e=r;while(s<c);return r};else{var u="";o&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var h=o;r(l,function(e,t){It(e,n);var i=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(o||Ft(e))&&(i="eso("+i+", fe)",h=!0),u+="if(s == null) return undefined;\ns="+i+";\n"}),u+="return s;";var d=new Function("s","l","eso","fe",u);d.toString=g(u),h&&(d=Rt(d,n)),a=d}return a.sharedGetter=!0,a.assign=function(t,i,n){return Ht(t,n,e,i,e)},s[e]=a,a}function zt(e){return C(e.valueOf)?e.valueOf():xo.call(e)}function Bt(){var e=ce(),t=ce();this.$get=["$filter","$sniffer",function(i,n){function o(e){var t=e;return e.sharedGetter&&(t=function(t,i){return e(t,i)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function s(e,t){for(var i=0,n=e.length;i<n;i++){var o=e[i];o.constant||(o.inputs?s(o.inputs,t):t.indexOf(o)===-1&&t.push(o))}return t}function a(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=zt(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function l(e,t,i,n){var o,r=n.$$inputs||(n.$$inputs=s(n.inputs,[]));if(1===r.length){var l=a;return r=r[0],e.$watch(function(e){var t=r(e);return a(t,l)||(o=n(e),l=t&&zt(t)),o},t,i)}for(var c=[],u=0,h=r.length;u<h;u++)c[u]=a;return e.$watch(function(e){for(var t=!1,i=0,s=r.length;i<s;i++){var l=r[i](e);(t||(t=!a(l,c[i])))&&(c[i]=l&&zt(l))}return t&&(o=n(e)),o},t,i)}function c(e,t,i,n){var o,r;return o=e.$watch(function(e){return n(e)},function(e,i,n){r=e,C(t)&&t.apply(this,arguments),b(e)&&n.$$postDigest(function(){b(r)&&o()})},i)}function u(e,t,i,n){function o(e){var t=!0;return r(e,function(e){b(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return n(e)},function(e,i,n){a=e,C(t)&&t.call(this,e,i,n),o(e)&&n.$$postDigest(function(){o(a)&&s()})},i)}function h(e,t,i,n){var o;return o=e.$watch(function(e){return n(e)},function(e,i,n){C(t)&&t.apply(this,arguments),o()},i)}function d(e,t){if(!t)return e;var i=e.$$watchDelegate,n=i!==u&&i!==c,o=n?function(i,n){var o=e(i,n);return t(o,i,n)}:function(i,n){var o=e(i,n),r=t(o,i,n);return b(o)?r:o};return e.$$watchDelegate&&e.$$watchDelegate!==l?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=l,o.inputs=[e]),o}var p={csp:n.csp,expensiveChecks:!1},m={csp:n.csp,expensiveChecks:!0};return function(n,r,s){var a,g,v;switch(typeof n){case"string":v=n=n.trim();var b=s?t:e;if(a=b[v],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(g=!0,n=n.substring(2));var _=s?m:p,y=new bo(_),w=new _o(y,i,_);a=w.parse(n),a.constant?a.$$watchDelegate=h:g?(a=o(a),a.$$watchDelegate=a.literal?u:c):a.inputs&&(a.$$watchDelegate=l),b[v]=a}return d(a,r);case"function":return d(n,r);default:return d(f,r)}}}]}function qt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Vt(function(t){e.$evalAsync(t)},t)}]}function Ut(){this.$get=["$browser","$exceptionHandler",function(e,t){return Vt(function(t){e.defer(t)},t)}]}function Vt(e,t){function o(e,t,i){function n(t){return function(i){o||(o=!0,t.call(e,i))}}var o=!1;return[n(t),n(i)]}function s(){this.$$state={status:0}}function a(e,t){return function(i){t.call(e,i)}}function l(e){var n,o,r;r=e.pending,e.processScheduled=!1,e.pending=i;for(var s=0,a=r.length;s<a;++s){o=r[s][0],n=r[s][e.status];try{C(n)?o.resolve(n(e.value)):1===e.status?o.resolve(e.value):o.reject(e.value)}catch(l){o.reject(l),t(l)}}}function c(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function u(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function h(e){var t=new u,i=0,n=pn(e)?[]:{};return r(e,function(e,o){i++,v(e).then(function(e){n.hasOwnProperty(o)||(n[o]=e,--i||t.resolve(n))},function(e){n.hasOwnProperty(o)||t.reject(e)})}),0===i&&t.resolve(n),t.promise}var d=n("$q",TypeError),p=function(){return new u};s.prototype={then:function(e,t,i){var n=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,i]),this.$$state.status>0&&c(this.$$state),n.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var i,n;n=o(this,this.$$resolve,this.$$reject);try{(_(e)||C(e))&&(i=e&&e.then),C(i)?(this.promise.$$state.status=-1,i.call(e,n[0],n[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(r){n[1](r),t(r)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(i){var n=this.promise.$$state.pending;this.promise.$$state.status<=0&&n&&n.length&&e(function(){for(var e,o,r=0,s=n.length;r<s;r++){o=n[r][0],e=n[r][3];try{o.notify(C(e)?e(i):i)}catch(a){t(a)}}})}};var f=function(e){var t=new u;return t.reject(e),t.promise},m=function(e,t){var i=new u;return t?i.resolve(e):i.reject(e),i.promise},g=function(e,t,i){var n=null;try{C(i)&&(n=i())}catch(o){return m(o,!1)}return E(n)?n.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,i,n){var o=new u;return o.resolve(e),o.promise.then(t,i,n)},b=function y(e){function t(e){n.resolve(e)}function i(e){n.reject(e)}if(!C(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof y))return new y(e);var n=new u;return e(t,i),n.promise};return b.defer=p,b.reject=f,b.when=v,b.all=h,b}function Yt(){this.$get=["$window","$timeout",function(e,t){function i(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}c=u.length=0}function n(e){var t=u.length;return c++,u.push(e),0===t&&(l=a(i)),function(){t>=0&&(u[t]=null,t=null,0===--c&&l&&(l(),l=null,u.length=0))}}var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!o,a=s?function(e){var t=o(e);return function(){r(t)}}:function(e){var i=t(e,16.66,!1);return function(){t.cancel(i)}};n.supported=s;var l,c=0,u=[];return n}]}function Gt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,i=n("$rootScope"),s=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,l,u,h){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function m(e){if($.$$phase)throw i("inprog","{0} already in progress",$.$$phase);$.$$phase=e}function g(){$.$$phase=null}function b(e,t,i){do e.$$listenerCount[i]-=t,0===e.$$listenerCount[i]&&delete e.$$listenerCount[i];while(e=e.$parent)}function y(){}function w(){for(;S.length;)try{S.shift()()}catch(e){l(e)}a=null}function x(){null===a&&(a=h.defer(function(){$.$apply(w)}))}p.prototype={constructor:p,$new:function(t,i){var n;return i=i||this,t?(n=new p,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),n=new this.$$ChildScope),n.$parent=i,n.$$prevSibling=i.$$childTail,i.$$childHead?(i.$$childTail.$$nextSibling=n,i.$$childTail=n):i.$$childHead=i.$$childTail=n,(t||i!=this)&&n.$on("$destroy",d),n},$watch:function(e,t,i){var n=u(e);if(n.$$watchDelegate)return n.$$watchDelegate(this,t,i,n);var o=this,r=o.$$watchers,a={fn:t,last:y,get:n,exp:e,eq:!!i};return s=null,C(t)||(a.fn=f),r||(r=o.$$watchers=[]),r.unshift(a),function(){M(r,a),s=null}},$watchGroup:function(e,t){function i(){l=!1,c?(c=!1,t(o,o,a)):t(o,n,a)}var n=new Array(e.length),o=new Array(e.length),s=[],a=this,l=!1,c=!0;if(!e.length){var u=!0;return a.$evalAsync(function(){u&&t(o,o,a)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,i,r){o[0]=e,n[0]=i,t(o,e===i?o:n,r)}):(r(e,function(e,t){var r=a.$watch(e,function(e,r){o[t]=e,n[t]=r,l||(l=!0,a.$evalAsync(i))});s.push(r)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function i(e){r=e;var t,i,n,a,l;if(!v(r)){if(_(r))if(o(r)){s!==p&&(s=p,g=s.length=0,h++),t=r.length,g!==t&&(h++,s.length=g=t);for(var c=0;c<t;c++)l=s[c],a=r[c],n=l!==l&&a!==a,n||l===a||(h++,s[c]=a)}else{s!==f&&(s=f={},g=0,h++),t=0;for(i in r)r.hasOwnProperty(i)&&(t++,a=r[i],l=s[i],i in s?(n=l!==l&&a!==a,n||l===a||(h++,s[i]=a)):(g++,s[i]=a,h++));if(g>t){h++;for(i in s)r.hasOwnProperty(i)||(g--,delete s[i])}}else s!==r&&(s=r,h++);return h}}function n(){if(m?(m=!1,t(r,r,l)):t(r,a,l),c)if(_(r))if(o(r)){a=new Array(r.length);for(var e=0;e<r.length;e++)a[e]=r[e]}else{a={};for(var i in r)Xi.call(r,i)&&(a[i]=r[i])}else a=r}i.$stateful=!0;var r,s,a,l=this,c=t.length>1,h=0,d=u(e,i),p=[],f={},m=!0,g=0;return this.$watch(d,n)},$digest:function(){var e,n,o,r,c,u,d,p,f,v,b=t,_=this,x=[];m("$digest"),h.$$checkUrlChange(),this===$&&null!==a&&(h.defer.cancel(a),w()),s=null;do{for(u=!1,p=_;k.length;){try{v=k.shift(),v.scope.$eval(v.expression,v.locals)}catch(S){l(S)}s=null}e:do{if(r=p.$$watchers)for(c=r.length;c--;)try{if(e=r[c])if((n=e.get(p))===(o=e.last)||(e.eq?F(n,o):"number"==typeof n&&"number"==typeof o&&isNaN(n)&&isNaN(o))){if(e===s){u=!1;break e}}else u=!0,s=e,e.last=e.eq?L(n,null):n,e.fn(n,o===y?n:o,p),b<5&&(f=4-b,x[f]||(x[f]=[]),x[f].push({msg:C(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:o}))}catch(S){l(S)}if(!(d=p.$$childHead||p!==_&&p.$$nextSibling))for(;p!==_&&!(d=p.$$nextSibling);)p=p.$parent}while(p=d);if((u||k.length)&&!b--)throw g(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(u||k.length);for(g();T.length;)try{T.shift()()}catch(S){l(S)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$){for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){$.$$phase||k.length||h.defer(function(){k.length&&$.$digest()}),k.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{return m("$apply"),this.$eval(e)}catch(t){l(t)}finally{g();try{$.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){i.$eval(e)}var i=this;e&&S.push(t),x()},$on:function(e,t){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(t);var n=this;do n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++;while(n=n.$parent);var o=this;return function(){var n=i.indexOf(t);n!==-1&&(i[n]=null,b(o,1,e))}},$emit:function(e,t){var i,n,o,r=[],s=this,a=!1,c={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=j([c],arguments,1);do{for(i=s.$$listeners[e]||r,c.currentScope=s,n=0,o=i.length;n<o;n++)if(i[n])try{i[n].apply(null,u)}catch(h){l(h)}else i.splice(n,1),n--,o--;if(a)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var i=this,n=i,o=i,r={name:e,targetScope:i,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return r;for(var s,a,c,u=j([r],arguments,1);n=o;){for(r.currentScope=n,s=n.$$listeners[e]||[],a=0,c=s.length;a<c;a++)if(s[a])try{s[a].apply(null,u)}catch(h){l(h)}else s.splice(a,1),a--,c--;if(!(o=n.$$listenerCount[e]&&n.$$childHead||n!==i&&n.$$nextSibling))for(;n!==i&&!(o=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var $=new p,k=$.$$asyncQueue=[],T=$.$$postDigestQueue=[],S=$.$$applyAsyncQueue=[];return $}]}function Kt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(i,n){var o,r=n?t:e;return o=oi(i).href,""===o||o.match(r)?i:"unsafe:"+o}}}function Xt(e){if("self"===e)return e;if(y(e)){if(e.indexOf("***")>-1)throw Co("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=mn(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw Co("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Qt(e){var t=[];return b(e)&&r(e,function(e){t.push(Xt(e))}),t}function Zt(){this.SCE_CONTEXTS=$o;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Qt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Qt(e)),t},this.$get=["$injector",function(n){function o(e,t){return"self"===e?ri(t):!!e.exec(t.href)}function r(i){var n,r,s=oi(i.toString()),a=!1;for(n=0,r=e.length;n<r;n++)if(o(e[n],s)){a=!0;break}if(a)for(n=0,r=t.length;n<r;n++)if(o(t[n],s)){a=!1;break}return a}function s(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw Co("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===i||""===t)return t;if("string"!=typeof t)throw Co("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function l(e){return e instanceof h?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||t===i||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===$o.RESOURCE_URL){if(r(t))return t;throw Co("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===$o.HTML)return u(t);throw Co("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw Co("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var h=s(),d={};return d[$o.HTML]=s(h),d[$o.CSS]=s(h),d[$o.URL]=s(h),d[$o.JS]=s(h),d[$o.RESOURCE_URL]=s(d[$o.URL]),{trustAs:a,getTrusted:c,valueOf:l}}]}function Jt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,i){if(e&&en<8)throw Co("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=H($o);n.isEnabled=function(){return e},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=m),n.parseAs=function(e,i){var o=t(i);return o.literal&&o.constant?o:t(i,function(t){return n.getTrusted(e,t)})};var o=n.parseAs,s=n.getTrusted,a=n.trustAs;return r($o,function(e,t){var i=Ki(t);n[me("parse_as_"+i)]=function(t){return o(e,t)},n[me("get_trusted_"+i)]=function(t){return s(e,t)},n[me("trust_as_"+i)]=function(t){return a(e,t)}}),n}]}function ei(){this.$get=["$window","$document",function(e,t){var i,n,o={},r=d((/android (\d+)/.exec(Ki((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=a.body&&a.body.style,u=!1,h=!1;if(c){for(var p in c)if(n=l.exec(p)){i=n[0],i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||i+"Transition"in c),h=!!("animation"in c||i+"Animation"in c),!r||u&&h||(u=y(a.body.style.webkitTransition),h=y(a.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||r<4||s),hasEvent:function(e){if("input"===e&&en<=11)return!1;if(v(o[e])){var t=a.createElement("div");o[e]="on"+e in t}return o[e]},csp:gn(),vendorPrefix:i,transitions:u,animations:h,android:r}}]}function ti(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,i,n){function o(r,s){function a(e){if(!s)throw Qn("tpload","Failed to load template: {0}",r);return i.reject(e)}o.totalPendingRequests++,y(r)&&e.get(r)||(r=n.getTrustedResourceUrl(r));var l=t.defaults&&t.defaults.transformResponse;pn(l)?l=l.filter(function(e){return e!==ot}):l===ot&&(l=null);var c={cache:e,transformResponse:l};return t.get(r,c)["finally"](function(){o.totalPendingRequests--}).then(function(e){return e.data},a)}return o.totalPendingRequests=0,o}]}function ii(){this.$get=["$rootScope","$browser","$location",function(e,t,i){var n={};return n.findBindings=function(e,t,i){var n=e.getElementsByClassName("ng-binding"),o=[];return r(n,function(e){var n=un.element(e).data("$binding");n&&r(n,function(n){if(i){var r=new RegExp("(^|\\s)"+mn(t)+"(\\s|\\||$)");r.test(n)&&o.push(e)}else n.indexOf(t)!=-1&&o.push(e)})}),o},n.findModels=function(e,t,i){for(var n=["ng-","data-ng-","ng\\:"],o=0;o<n.length;++o){var r=i?"=":"*=",s="["+n[o]+"model"+r+'"'+t+'"]',a=e.querySelectorAll(s);if(a.length)return a}},n.getLocation=function(){return i.url()},n.setLocation=function(t){t!==i.url()&&(i.url(t),e.$digest())},n.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},n}]}function ni(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,i,n,o){function r(r,a,l){var c,u=b(l)&&!l,h=(u?n:i).defer(),d=h.promise;return c=t.defer(function(){try{h.resolve(r())}catch(t){h.reject(t),o(t)}finally{delete s[d.$$timeoutId]}u||e.$apply()},a),d.$$timeoutId=c,s[c]=h,d}var s={};return r.cancel=function(e){return!!(e&&e.$$timeoutId in s)&&(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},r}]}function oi(e){var t=e;return en&&(ko.setAttribute("href",t),t=ko.href),ko.setAttribute("href",t),{href:ko.href,protocol:ko.protocol?ko.protocol.replace(/:$/,""):"",host:ko.host,search:ko.search?ko.search.replace(/^\?/,""):"",hash:ko.hash?ko.hash.replace(/^#/,""):"",hostname:ko.hostname,port:ko.port,pathname:"/"===ko.pathname.charAt(0)?ko.pathname:"/"+ko.pathname}}function ri(e){var t=y(e)?oi(e):e;return t.protocol===To.protocol&&t.host===To.host}function si(){this.$get=g(e)}function ai(e){function t(n,o){if(_(n)){var s={};return r(n,function(e,i){s[i]=t(i,e)}),s}return e.factory(n+i,o)}var i="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}],t("currency",hi),t("date",$i),t("filter",li),t("json",ki),t("limitTo",Ti),t("lowercase",Eo),t("number",di),t("orderBy",Si),t("uppercase",Io)}function li(){return function(e,t,i){if(!pn(e))return e;var n,o,r=null!==t?typeof t:"null";switch(r){case"function":n=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":n=ci(t,i,o);break;default:return e}return e.filter(n)}}function ci(e,t,i){var n,o=_(e)&&"$"in e;return t===!0?t=F:C(t)||(t=function(e,t){return!v(e)&&(null===e||null===t?e===t:!_(e)&&!_(t)&&(e=Ki(""+e),t=Ki(""+t),e.indexOf(t)!==-1))}),n=function(n){return o&&!_(n)?ui(n,e.$,t,!1):ui(n,e,t,i)}}function ui(e,t,i,n,o){var r=null!==e?typeof e:"null",s=null!==t?typeof t:"null";if("string"===s&&"!"===t.charAt(0))return!ui(e,t.substring(1),i,n);if(pn(e))return e.some(function(e){return ui(e,t,i,n)});switch(r){case"object":var a;if(n){for(a in e)if("$"!==a.charAt(0)&&ui(e[a],t,i,!0))return!0;return!o&&ui(e,t,i,!1)}if("object"===s){for(a in t){var l=t[a];if(!C(l)&&!v(l)){var c="$"===a,u=c?e:e[a];if(!ui(u,l,i,c,c))return!1}}return!0}return i(e,t);case"function":return!1;default:return i(e,t)}}function hi(e){var t=e.NUMBER_FORMATS;return function(e,i,n){return v(i)&&(i=t.CURRENCY_SYM),v(n)&&(n=t.PATTERNS[1].maxFrac),null==e?e:pi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(/\u00A4/g,i)}}function di(e){var t=e.NUMBER_FORMATS;return function(e,i){return null==e?e:pi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function pi(e,t,i,n,o){if(!isFinite(e)||_(e))return"";var r=e<0;e=Math.abs(e);var s=e+"",a="",l=[],c=!1;if(s.indexOf("e")!==-1){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>o+1?e=0:(a=s,c=!0)}if(c)o>0&&e<1&&(a=e.toFixed(o),e=parseFloat(a));else{var h=(s.split(So)[1]||"").length;v(o)&&(o=Math.min(Math.max(t.minFrac,h),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+o)).toString()+"e"+-o);var d=(""+e).split(So),p=d[0];d=d[1]||"";var f,m=0,g=t.lgSize,b=t.gSize;if(p.length>=g+b)for(m=p.length-g,f=0;f<m;f++)(m-f)%b===0&&0!==f&&(a+=i),a+=p.charAt(f);for(f=m;f<p.length;f++)(p.length-f)%g===0&&0!==f&&(a+=i),a+=p.charAt(f);for(;d.length<o;)d+="0";o&&"0"!==o&&(a+=n+d.substr(0,o))}return 0===e&&(r=!1),l.push(r?t.negPre:t.posPre,a,r?t.negSuf:t.posSuf),l.join("")}function fi(e,t,i){var n="";for(e<0&&(n="-",e=-e),e=""+e;e.length<t;)e="0"+e;return i&&(e=e.substr(e.length-t)),n+e}function mi(e,t,i,n){return i=i||0,function(o){var r=o["get"+e]();return(i>0||r>-i)&&(r+=i),0===r&&i==-12&&(r=12),fi(r,t,n)}}function gi(e,t){return function(i,n){var o=i["get"+e](),r=Qi(t?"SHORT"+e:e);return n[r][o]}}function vi(e){var t=-1*e.getTimezoneOffset(),i=t>=0?"+":"";return i+=fi(Math[t>0?"floor":"ceil"](t/60),2)+fi(Math.abs(t%60),2)}function bi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function _i(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function yi(e){return function(t){var i=bi(t.getFullYear()),n=_i(t),o=+n-+i,r=1+Math.round(o/6048e5);return fi(r,e)}}function wi(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function xi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Ci(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function $i(e){function t(e){var t;if(t=e.match(i)){var n=new Date(0),o=0,r=0,s=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(o=d(t[9]+t[10]),r=d(t[9]+t[11])),s.call(n,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-o,c=d(t[5]||0)-r,u=d(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,l,c,u,h),n}return e}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,o){var s,a,l="",c=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,y(i)&&(i=Ao.test(i)?d(i):t(i)),w(i)&&(i=new Date(i)),!x(i))return i;for(;n;)a=Po.exec(n),a?(c=j(c,a,1),n=c.pop()):(c.push(n),n=null);return o&&"UTC"===o&&(i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),r(c,function(t){s=Do[t],l+=s?s(i,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ki(){return function(e,t){return v(t)&&(t=2),B(e,t)}}function Ti(){return function(e,t){return w(e)&&(e=e.toString()),pn(e)||y(e)?(t=Math.abs(Number(t))===1/0?Number(t):d(t),t?t>0?e.slice(0,t):e.slice(t):y(e)?"":[]):e}}function Si(e){return function(t,i,n){function r(e,t){for(var n=0;n<i.length;n++){var o=i[n](e,t);if(0!==o)return o}return 0}function s(e,t){return t?function(t,i){return e(i,t)}:e}function a(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function l(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),a(e))?e:"function"==typeof e.toString&&(e=e.toString(),a(e))?e:""}function c(e,t){var i=typeof e,n=typeof t;return i===n&&"object"===i&&(e=l(e),t=l(t)),i===n?("string"===i&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):i<n?-1:1}return o(t)?(i=pn(i)?i:[i],0===i.length&&(i=["+"]),i=i.map(function(t){var i=!1,n=t||m;if(y(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0),t=t.substring(1)),""===t)return s(c,i);if(n=e(t),n.constant){var o=n();return s(function(e,t){return c(e[o],t[o])},i)}}return s(function(e,t){return c(n(e),n(t))},i)}),rn.call(t).sort(s(r,n))):t}}function Di(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Pi(e,t){e.$name=t}function Ai(e,t,n,o,s){var a=this,l=[],c=a.$$parentForm=e.parent().controller("form")||Mo;a.$error={},a.$$success={},a.$pending=i,a.$name=s(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,c.$addControl(a),a.$rollbackViewValue=function(){r(l,function(e){e.$rollbackViewValue();
})},a.$commitViewValue=function(){r(l,function(e){e.$commitViewValue()})},a.$addControl=function(e){se(e.$name,"input"),l.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var i=e.$name;a[i]===e&&delete a[i],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,i){a.$setValidity(i,null,e)}),r(a.$error,function(t,i){a.$setValidity(i,null,e)}),r(a.$$success,function(t,i){a.$setValidity(i,null,e)}),M(l,e)},Ui({ctrl:this,$element:e,set:function(e,t,i){var n=e[t];if(n){var o=n.indexOf(i);o===-1&&n.push(i)}else e[t]=[i]},unset:function(e,t,i){var n=e[t];n&&(M(n,i),0===n.length&&delete e[t])},parentForm:c,$animate:o}),a.$setDirty=function(){o.removeClass(e,vr),o.addClass(e,br),a.$dirty=!0,a.$pristine=!1,c.$setDirty()},a.$setPristine=function(){o.setClass(e,vr,br+" "+Lo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(l,function(e){e.$setPristine()})},a.$setUntouched=function(){r(l,function(e){e.$setUntouched()})},a.$setSubmitted=function(){o.addClass(e,Lo),a.$submitted=!0,c.$setSubmitted()}}function Ei(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Ii(e,t,i,n,o,r){Oi(e,t,i,n,o,r),Ei(n)}function Oi(e,t,i,n,o,r){var s=Ki(t[0].type);if(!o.android){var a=!1;t.on("compositionstart",function(e){a=!0}),t.on("compositionend",function(){a=!1,l()})}var l=function(e){if(c&&(r.defer.cancel(c),c=null),!a){var o=t.val(),l=e&&e.type;"password"===s||i.ngTrim&&"false"===i.ngTrim||(o=fn(o)),(n.$viewValue!==o||""===o&&n.$$hasNativeValidators)&&n.$setViewValue(o,l)}};if(o.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,i){c||(c=r.defer(function(){c=null,t&&t.value===i||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),n.$render=function(){t.val(n.$isEmpty(n.$viewValue)?"":n.$viewValue)}}function Ni(e,t){if(x(e))return e;if(y(e)){Vo.lastIndex=0;var i=Vo.exec(e);if(i){var n=+i[1],o=+i[2],r=0,s=0,a=0,l=0,c=bi(n),u=7*(o-1);return t&&(r=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds()),new Date(n,0,c.getDate()+u,r,s,a,l)}}return NaN}function Mi(e,t){return function(i,n){var o,s;if(x(i))return i;if(y(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),Ro.test(i))return new Date(i);if(e.lastIndex=0,o=e.exec(i))return o.shift(),s=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,i){i<t.length&&(s[t[i]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function Li(e,t,n,o){return function(r,s,a,l,c,u,h){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return b(e)?x(e)?e:n(e):i}Hi(r,s,a,l),Oi(r,s,a,l,c,u);var f,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var o=n(e,f);return"UTC"===m&&o.setMinutes(o.getMinutes()-o.getTimezoneOffset()),o}return i}),l.$formatters.push(function(e){if(e&&!x(e))throw xr("datefmt","Expected `{0}` to be a date",e);if(d(e)){if(f=e,f&&"UTC"===m){var t=6e4*f.getTimezoneOffset();f=new Date(f.getTime()+t)}return h("date")(e,o,m)}return f=null,""}),b(a.min)||a.ngMin){var g;l.$validators.min=function(e){return!d(e)||v(g)||n(e)>=g},a.$observe("min",function(e){g=p(e),l.$validate()})}if(b(a.max)||a.ngMax){var _;l.$validators.max=function(e){return!d(e)||v(_)||n(e)<=_},a.$observe("max",function(e){_=p(e),l.$validate()})}}}function Hi(e,t,n,o){var r=t[0],s=o.$$hasNativeValidators=_(r.validity);s&&o.$parsers.push(function(e){var n=t.prop(Gi)||{};return n.badInput&&!n.typeMismatch?i:e})}function Fi(e,t,n,o,r,s){if(Hi(e,t,n,o),Oi(e,t,n,o,r,s),o.$$parserName="number",o.$parsers.push(function(e){return o.$isEmpty(e)?null:Bo.test(e)?parseFloat(e):i}),o.$formatters.push(function(e){if(!o.$isEmpty(e)){if(!w(e))throw xr("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),b(n.min)||n.ngMin){var a;o.$validators.min=function(e){return o.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){b(e)&&!w(e)&&(e=parseFloat(e,10)),a=w(e)&&!isNaN(e)?e:i,o.$validate()})}if(b(n.max)||n.ngMax){var l;o.$validators.max=function(e){return o.$isEmpty(e)||v(l)||e<=l},n.$observe("max",function(e){b(e)&&!w(e)&&(e=parseFloat(e,10)),l=w(e)&&!isNaN(e)?e:i,o.$validate()})}}function ji(e,t,i,n,o,r){Oi(e,t,i,n,o,r),Ei(n),n.$$parserName="url",n.$validators.url=function(e,t){var i=e||t;return n.$isEmpty(i)||Wo.test(i)}}function Ri(e,t,i,n,o,r){Oi(e,t,i,n,o,r),Ei(n),n.$$parserName="email",n.$validators.email=function(e,t){var i=e||t;return n.$isEmpty(i)||zo.test(i)}}function Wi(e,t,i,n){v(i.name)&&t.attr("name",c());var o=function(e){t[0].checked&&n.$setViewValue(i.value,e&&e.type)};t.on("click",o),n.$render=function(){var e=i.value;t[0].checked=e==n.$viewValue},i.$observe("value",n.$render)}function zi(e,t,i,n,o){var r;if(b(n)){if(r=e(n),!r.constant)throw xr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,n);return r(t)}return o}function Bi(e,t,i,n,o,r,s,a){var l=zi(a,e,"ngTrueValue",i.ngTrueValue,!0),c=zi(a,e,"ngFalseValue",i.ngFalseValue,!1),u=function(e){n.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return e===!1},n.$formatters.push(function(e){return F(e,l)}),n.$parsers.push(function(e){return e?l:c})}function qi(e,t){return e="ngClass"+e,["$animate",function(i){function n(e,t){var i=[];e:for(var n=0;n<e.length;n++){for(var o=e[n],r=0;r<t.length;r++)if(o==t[r])continue e;i.push(o)}return i}function o(e){if(pn(e))return e;if(y(e))return e.split(" ");if(_(e)){var t=[];return r(e,function(e,i){e&&(t=t.concat(i.split(" ")))}),t}return e}return{restrict:"AC",link:function(s,a,l){function c(e){var t=h(e,1);l.$addClass(t)}function u(e){var t=h(e,-1);l.$removeClass(t)}function h(e,t){var i=a.data("$classCounts")||{},n=[];return r(e,function(e){(t>0||i[e])&&(i[e]=(i[e]||0)+t,i[e]===+(t>0)&&n.push(e))}),a.data("$classCounts",i),n.join(" ")}function d(e,t){var o=n(t,e),r=n(e,t);o=h(o,1),r=h(r,-1),o&&o.length&&i.addClass(a,o),r&&r.length&&i.removeClass(a,r)}function p(e){if(t===!0||s.$index%2===t){var i=o(e||[]);if(f){if(!F(e,f)){var n=o(f);d(n,i)}}else c(i)}f=H(e)}var f;s.$watch(l[e],p,!0),l.$observe("class",function(t){p(s.$eval(l[e]))}),"ngClass"!==e&&s.$watch("$index",function(i,n){var r=1&i;if(r!==(1&n)){var a=o(s.$eval(l[e]));r===t?c(a):u(a)}})}}}]}function Ui(e){function t(e,t,l){t===i?n("$pending",e,l):o("$pending",e,l),A(t)?t?(h(a.$error,e,l),u(a.$$success,e,l)):(u(a.$error,e,l),h(a.$$success,e,l)):(h(a.$error,e,l),h(a.$$success,e,l)),a.$pending?(r(wr,!0),a.$valid=a.$invalid=i,s("",null)):(r(wr,!1),a.$valid=Vi(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var c;c=a.$pending&&a.$pending[e]?i:!a.$error[e]&&(!!a.$$success[e]||null),s(e,c),d.$setValidity(e,c,a)}function n(e,t,i){a[e]||(a[e]={}),u(a[e],t,i)}function o(e,t,n){a[e]&&h(a[e],t,n),Vi(a[e])&&(a[e]=i)}function r(e,t){t&&!c[e]?(p.addClass(l,e),c[e]=!0):!t&&c[e]&&(p.removeClass(l,e),c[e]=!1)}function s(e,t){e=e?"-"+ie(e,"-"):"",r(mr+e,t===!0),r(gr+e,t===!1)}var a=e.ctrl,l=e.$element,c={},u=e.set,h=e.unset,d=e.parentForm,p=e.$animate;c[gr]=!(c[mr]=l.hasClass(mr)),a.$setValidity=t}function Vi(e){if(e)for(var t in e)return!1;return!0}var Yi=/^\/(.+)\/([a-z]*)$/,Gi="validity",Ki=function(e){return y(e)?e.toLowerCase():e},Xi=Object.prototype.hasOwnProperty,Qi=function(e){return y(e)?e.toUpperCase():e},Zi=function(e){return y(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ji=function(e){return y(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Ki=Zi,Qi=Ji);var en,tn,nn,on,rn=[].slice,sn=[].splice,an=[].push,ln=Object.prototype.toString,cn=n("ng"),un=e.angular||(e.angular={}),hn=0;en=t.documentMode,f.$inject=[],m.$inject=[];var dn,pn=Array.isArray,fn=function(e){return y(e)?e.trim():e},mn=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gn=function(){if(b(gn.isActive_))return gn.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(i){e=!0}return gn.isActive_=e},vn=["ng-","data-ng-","ng:","x-ng-"],bn=/[A-Z]/g,_n=!1,yn=1,wn=2,xn=3,Cn=8,$n=9,kn=11,Tn={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};ye.expando="ng339";var Sn=ye.cache={},Dn=1,Pn=function(e,t,i){e.addEventListener(t,i,!1)},An=function(e,t,i){e.removeEventListener(t,i,!1)};ye._data=function(e){return this.cache[e[this.expando]]||{}};var En=/([\:\-\_]+(.))/g,In=/^moz([A-Z])/,On={mouseleave:"mouseout",mouseenter:"mouseover"},Nn=n("jqLite"),Mn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ln=/<|&#?\w+;/,Hn=/<([\w:]+)/,Fn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jn={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jn.optgroup=jn.option,jn.tbody=jn.tfoot=jn.colgroup=jn.caption=jn.thead,jn.th=jn.td;var Rn=ye.prototype={ready:function(i){function n(){o||(o=!0,i())}var o=!1;"complete"===t.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),ye(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return tn(e>=0?this[e]:this[this.length+e])},length:0,push:an,sort:[].sort,splice:[].splice},Wn={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Wn[Ki(e)]=e});var zn={};r("input,select,option,textarea,button,form,details".split(","),function(e){zn[e]=!0});var Bn={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Te,removeData:$e},function(e,t){ye[t]=e}),r({data:Te,inheritedData:Ie,scope:function(e){return tn.data(e,"$scope")||Ie(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return tn.data(e,"$isolateScope")||tn.data(e,"$isolateScopeNoTemplate")},controller:Ee,injector:function(e){return Ie(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Se,css:function(e,t,i){return t=me(t),b(i)?void(e.style[t]=i):e.style[t]},attr:function(e,t,n){var o=e.nodeType;if(o!==xn&&o!==wn&&o!==Cn){var r=Ki(t);if(Wn[r]){if(!b(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:i;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(b(n))e.setAttribute(t,n);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?i:s}}},prop:function(e,t,i){return b(i)?void(e[t]=i):e[t]},text:function(){function e(e,t){if(v(t)){var i=e.nodeType;return i===yn||i===xn?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===N(e)){var i=[];return r(e.options,function(e){e.selected&&i.push(e.value||e.text)}),0===i.length?null:i}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(xe(e,!0),void(e.innerHTML=t))},empty:Oe},function(e,t){ye.prototype[t]=function(t,n){var o,r,s=this.length;if(e!==Oe&&(2==e.length&&e!==Se&&e!==Ee?t:n)===i){if(_(t)){for(o=0;o<s;o++)if(e===Te)e(this[o],t);else for(r in t)e(this[o],r,t[r]);return this}for(var a=e.$dv,l=a===i?Math.min(s,1):s,c=0;c<l;c++){var u=e(this[c],t,n);a=a?a+u:u}return a}for(o=0;o<s;o++)e(this[o],t,n);return this}}),r({removeData:$e,on:function Kr(e,t,i,n){if(b(n))throw Nn("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(e)){var o=ke(e,!0),r=o.events,s=o.handle;s||(s=o.handle=Fe(e,r));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],l=a.length;l--;){t=a[l];var c=r[t];c||(r[t]=[],"mouseenter"===t||"mouseleave"===t?Kr(e,On[t],function(e){var i=this,n=e.relatedTarget;n&&(n===i||i.contains(n))||s(e,t)}):"$destroy"!==t&&Pn(e,t,s),c=r[t]),c.push(i)}}},off:Ce,one:function(e,t,i){e=tn(e),e.on(t,function n(){e.off(t,i),e.off(t,n)}),e.on(t,i)},replaceWith:function(e,t){var i,n=e.parentNode;xe(e),r(new ye(t),function(t){i?n.insertBefore(t,i.nextSibling):n.replaceChild(t,e),i=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===yn&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var i=e.nodeType;if(i===yn||i===kn){t=new ye(t);for(var n=0,o=t.length;n<o;n++){var r=t[n];e.appendChild(r)}}},prepend:function(e,t){if(e.nodeType===yn){var i=e.firstChild;r(new ye(t),function(t){e.insertBefore(t,i)})}},wrap:function(e,t){t=tn(t).eq(0).clone()[0];var i=e.parentNode;i&&i.replaceChild(t,e),t.appendChild(e)},remove:Ne,detach:function(e){Ne(e,!0)},after:function(e,t){var i=e,n=e.parentNode;t=new ye(t);for(var o=0,r=t.length;o<r;o++){var s=t[o];n.insertBefore(s,i.nextSibling),i=s}},addClass:Pe,removeClass:De,toggleClass:function(e,t,i){t&&r(t.split(" "),function(t){var n=i;v(n)&&(n=!Se(e,t)),(n?Pe:De)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==kn?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:we,triggerHandler:function(e,t,i){var n,o,s,a=t.type||t,l=ke(e),c=l&&l.events,u=c&&c[a];u&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:a,target:e},t.type&&(n=h(n,t)),o=H(u),s=i?[n].concat(i):[n],r(o,function(t){n.isImmediatePropagationStopped()||t.apply(e,s)}))}},function(e,t){ye.prototype[t]=function(t,i,n){for(var o,r=0,s=this.length;r<s;r++)v(o)?(o=e(this[r],t,i,n),b(o)&&(o=tn(o))):Ae(o,e(this[r],t,i,n));return b(o)?o:this},ye.prototype.bind=ye.prototype.on,ye.prototype.unbind=ye.prototype.off}),We.prototype={put:function(e,t){this[Re(e,this.nextUid)]=t},get:function(e){return this[Re(e,this.nextUid)]},remove:function(e){var t=this[e=Re(e,this.nextUid)];return delete this[e],t}};var qn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Un=/,/,Vn=/^\s*(_?)(\S+?)\1\s*$/,Yn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Gn=n("$injector");qe.$$annotate=Be;var Kn=n("$animate"),Xn=["$provide",function(e){this.$$selectors={},this.register=function(t,i){var n=t+"-animation";if(t&&"."!=t.charAt(0))throw Kn("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=n,e.factory(n,i)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,i){function n(t){var n,o=e.defer();return o.promise.$$cancelFn=function(){n&&n()},i.$$postDigest(function(){n=t(function(){o.resolve()})}),o.promise}function o(e,t){var i=[],n=[],o=ce();return r((e.attr("class")||"").split(/\s+/),function(e){o[e]=!0}),r(t,function(e,t){var r=o[t];e===!1&&r?n.push(t):e!==!0||r||i.push(t)}),i.length+n.length>0&&[i.length?i:null,n.length?n:null]}function s(e,t,i){for(var n=0,o=t.length;n<o;++n){var r=t[n];e[r]=i}}function a(){return c||(c=e.defer(),t(function(){c.resolve(),c=null})),c.promise}function l(e,t){if(un.isObject(t)){var i=h(t.from||{},t.to||{});e.css(i)}}var c;return{animate:function(e,t,i){return l(e,{from:t,to:i}),a()},enter:function(e,t,i,n){return l(e,n),i?i.after(e):t.prepend(e),a()},leave:function(e,t){return l(e,t),e.remove(),a()},move:function(e,t,i,n){return this.enter(e,t,i,n)},addClass:function(e,t,i){return this.setClass(e,t,[],i)},$$addClassImmediately:function(e,t,i){return e=tn(e),t=y(t)?t:pn(t)?t.join(" "):"",r(e,function(e){Pe(e,t)}),l(e,i),a()},removeClass:function(e,t,i){return this.setClass(e,[],t,i)},$$removeClassImmediately:function(e,t,i){return e=tn(e),t=y(t)?t:pn(t)?t.join(" "):"",r(e,function(e){De(e,t)}),l(e,i),a()},setClass:function(e,t,i,r){var a=this,l="$$animateClasses",c=!1;e=tn(e);var u=e.data(l);u?r&&u.options&&(u.options=un.extend(u.options||{},r)):(u={classes:{},options:r},c=!0);var h=u.classes;return t=pn(t)?t:t.split(" "),i=pn(i)?i:i.split(" "),s(h,t,!0),s(h,i,!1),c&&(u.promise=n(function(t){var i=e.data(l);if(e.removeData(l),i){var n=o(e,i.classes);n&&a.$$setClassImmediately(e,n[0],n[1],i.options)}t()}),e.data(l,u)),u.promise},$$setClassImmediately:function(e,t,i,n){return t&&this.$$addClassImmediately(e,t),i&&this.$$removeClassImmediately(e,i),l(e,n),a()},enabled:f,cancel:f}}]}],Qn=n("$compile");Qe.$inject=["$provide","$$sanitizeUriProvider"];var Zn=/^((?:x|data)[\:\-_])/i,Jn=n("$controller"),eo="application/json",to={"Content-Type":eo+";charset=utf-8"},io=/^\[|^\{(?!\{)/,no={"[":/]$/,"{":/}$/},oo=/^\)\]\}',?\n/,ro=n("$interpolate"),so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ao={http:80,https:443,ftp:21},lo=n("$location"),co={$$html5:!1,$$replace:!1,absUrl:Dt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=so.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Dt("$$protocol"),host:Dt("$$host"),port:Dt("$$port"),path:Pt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(y(e)||w(e))e=e.toString(),this.$$search=Y(e);else{if(!_(e))throw lo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=L(e,{}),r(e,function(t,i){null==t&&delete e[i]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Pt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([St,Tt,kt],function(e){e.prototype=Object.create(co),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==kt||!this.$$html5)throw lo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var uo=n("$parse"),ho=Function.prototype.call,po=Function.prototype.apply,fo=Function.prototype.bind,mo=ce();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,mo[t]=e}),mo["this"]=function(e){return e},mo["this"].sharedGetter=!0;var go=h(ce(),{"+":function(e,t,n,o){return n=n(e,t),o=o(e,t),b(n)?b(o)?n+o:n:b(o)?o:i},"-":function(e,t,i,n){return i=i(e,t),n=n(e,t),(b(i)?i:0)-(b(n)?n:0)},"*":function(e,t,i,n){return i(e,t)*n(e,t)},"/":function(e,t,i,n){return i(e,t)/n(e,t)},"%":function(e,t,i,n){return i(e,t)%n(e,t)},"===":function(e,t,i,n){return i(e,t)===n(e,t)},"!==":function(e,t,i,n){return i(e,t)!==n(e,t)},"==":function(e,t,i,n){return i(e,t)==n(e,t)},"!=":function(e,t,i,n){return i(e,t)!=n(e,t)},"<":function(e,t,i,n){return i(e,t)<n(e,t)},">":function(e,t,i,n){return i(e,t)>n(e,t)},"<=":function(e,t,i,n){return i(e,t)<=n(e,t)},">=":function(e,t,i,n){return i(e,t)>=n(e,t)},"&&":function(e,t,i,n){return i(e,t)&&n(e,t)},"||":function(e,t,i,n){return i(e,t)||n(e,t)},"!":function(e,t,i){return!i(e,t)},"=":!0,"|":!0}),vo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},bo=function(e){this.options=e};bo.prototype={constructor:bo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),n=i+this.peek(2),o=go[t],r=go[i],s=go[n];if(o||r||s){var a=s?n:r?i:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,i){i=i||this.index;var n=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw uo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var i=Ki(this.text.charAt(this.index));if("."==i||this.isNumber(i))e+=i;else{var n=this.peek();if("e"==i&&this.isExpOperator(n))e+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"==e.charAt(e.length-1))e+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var i="",n=e,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(n+=r,o){if("u"===r){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,i+=String.fromCharCode(parseInt(s,16))}else{var a=vo[r];i+=a||r}o=!1}else if("\\"===r)o=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:i});i+=r}this.index++}this.throwError("Unterminated quote",t)}};var _o=function(e,t,i){this.lexer=e,this.$filter=t,this.options=i};_o.ZERO=h(function(){return 0},{sharedGetter:!0,constant:!0}),_o.prototype={constructor:_o,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in mo?e=mo[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,i;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,i),i=null):"["===t.text?(i=e,e=this.objectIndex(e)):"."===t.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw uo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,i,n){return this.peekAhead(0,e,t,i,n)},peekAhead:function(e,t,i,n,o){if(this.tokens.length>e){var r=this.tokens[e],s=r.text;if(s===t||s===i||s===n||s===o||!t&&!i&&!n&&!o)return r}return!1},expect:function(e,t,i,n){var o=this.peek(e,t,i,n);return!!o&&(this.tokens.shift(),o)},consume:function(e){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var i=go[e];return h(function(e,n){return i(e,n,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,i,n){var o=go[t];return h(function(t,n){return o(t,n,e,i)},{constant:e.constant&&i.constant,inputs:!n&&[e,i]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Wt(e,this.options,this.text)},constant:function(){var e=this.consume().value;return h(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,i){for(var n,o=0,r=e.length;o<r;o++)n=e[o](t,i);return n}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,n,o=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],n=[];this.expect(":");)t.push(this.expression());var r=[e].concat(t||[]);return h(function(r,s){var a=e(r,s);if(n){n[0]=a;for(var l=t.length;l--;)n[l+1]=t[l](r,s);return o.apply(i,n)}return o(a)},{constant:!o.$stateful&&r.every(Lt),inputs:!o.$stateful&&r})},expression:function(){return this.assignment()},assignment:function(){var e,t,i=this.ternary();return(t=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),h(function(t,n){return i.assign(t,e(t,n),n)},{inputs:[i,e]})):i},ternary:function(){var e,t,i=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var n=this.assignment();return h(function(t,o){return i(t,o)?e(t,o):n(t,o)},{constant:i.constant&&e.constant&&n.constant})}return i},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(_o.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return h(function(n,o,r){var s=r||e(n,o);return null==s?i:t(s)},{assign:function(i,n,o){var r=e(i,o);return r||e.assign(i,r={},o),t.assign(r,n)}})},objectIndex:function(e){var t=this.text,n=this.expression();return this.consume("]"),h(function(o,r){var s,a=e(o,r),l=Ot(n(o,r),t);return It(l,t),a?s=Nt(a[l],t):i},{assign:function(i,o,r){var s=It(Ot(n(i,r),t),t),a=Nt(e(i,r),t);return a||e.assign(i,a={},r),a[s]=o}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var o=this.text,r=n.length?[]:null;return function(s,a){var l=t?t(s,a):b(t)?i:s,c=e(s,a,l)||f;if(r)for(var u=n.length;u--;)r[u]=Nt(n[u](s,a),o);Nt(l,o),Mt(c,o);var h=c.apply?c.apply(l,r):c(r[0],r[1],r[2],r[3],r[4]);return r&&(r.length=0),Nt(h,o)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),h(function(t,i){for(var n=[],o=0,r=e.length;o<r;o++)n.push(e[o](t,i));return n},{literal:!0,constant:e.every(Lt),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var i=this.consume();i.constant?e.push(i.value):i.identifier?e.push(i.text):this.throwError("invalid key",i),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),h(function(i,n){for(var o={},r=0,s=t.length;r<s;r++)o[e[r]]=t[r](i,n);return o},{literal:!0,constant:t.every(Lt),inputs:t})}};var yo=ce(),wo=ce(),xo=Object.prototype.valueOf,Co=n("$sce"),$o={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qn=n("$compile"),ko=t.createElement("a"),To=oi(e.location.href);ai.$inject=["$provide"],hi.$inject=["$locale"],di.$inject=["$locale"];var So=".",Do={yyyy:mi("FullYear",4),yy:mi("FullYear",2,0,!0),y:mi("FullYear",1),MMMM:gi("Month"),MMM:gi("Month",!0),MM:mi("Month",2,1),M:mi("Month",1,1),dd:mi("Date",2),d:mi("Date",1),HH:mi("Hours",2),H:mi("Hours",1),hh:mi("Hours",2,-12),h:mi("Hours",1,-12),mm:mi("Minutes",2),m:mi("Minutes",1),ss:mi("Seconds",2),s:mi("Seconds",1),sss:mi("Milliseconds",3),EEEE:gi("Day"),EEE:gi("Day",!0),a:wi,Z:vi,ww:yi(2),w:yi(1),G:xi,GG:xi,GGG:xi,GGGG:Ci},Po=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ao=/^\-?\d+$/;$i.$inject=["$locale"];var Eo=g(Ki),Io=g(Qi);Si.$inject=["$parse"];var Oo=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref&&!t.name)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===ln.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(i)||e.preventDefault()})}}}}),No={};r(Wn,function(e,t){if("multiple"!=e){var i=Ze("ng-"+t);No[i]=function(){return{restrict:"A",priority:100,link:function(e,n,o){e.$watch(o[i],function(e){o.$set(t,!!e)})}}}}}),r(Bn,function(e,t){No[t]=function(){return{priority:100,link:function(e,i,n){if("ngPattern"===t&&"/"==n.ngPattern.charAt(0)){var o=n.ngPattern.match(Yi);if(o)return void n.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(n[t],function(e){n.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=Ze("ng-"+e);No[t]=function(){return{priority:99,link:function(i,n,o){var r=e,s=e;"href"===e&&"[object SVGAnimatedString]"===ln.call(n.prop("href"))&&(s="xlinkHref",o.$attr[s]="xlink:href",r=null),o.$observe(t,function(t){return t?(o.$set(s,t),void(en&&r&&n.prop(r,o[s]))):void("href"===e&&o.$set(s,null))})}}}});var Mo={$addControl:f,$$renameControl:Pi,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Lo="ng-submitted";Ai.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ho=function(e){return["$timeout",function(t){var n={name:"form",restrict:e?"EAC":"E",controller:Ai,compile:function(n,o){n.addClass(vr).addClass(mr);var r=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,n,o,s){if(!("action"in o)){var a=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};Pn(n[0],"submit",a),n.on("$destroy",function(){t(function(){An(n[0],"submit",a)},0,!1)})}var l=s.$$parentForm;r&&(Ht(e,null,s.$name,s,s.$name),o.$observe(r,function(t){s.$name!==t&&(Ht(e,null,s.$name,i,s.$name),l.$$renameControl(s,t),Ht(e,null,s.$name,s,s.$name))})),n.on("$destroy",function(){l.$removeControl(s),r&&Ht(e,null,o[r],i,s.$name),h(s,Mo)})}}}};return n}]},Fo=Ho(),jo=Ho(!0),Ro=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Wo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,zo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qo=/^(\d{4})-(\d{2})-(\d{2})$/,Uo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Vo=/^(\d{4})-W(\d\d)$/,Yo=/^(\d{4})-(\d\d)$/,Go=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ko={text:Ii,date:Li("date",qo,Mi(qo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Li("datetimelocal",Uo,Mi(Uo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Li("time",Go,Mi(Go,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Li("week",Vo,Ni,"yyyy-Www"),month:Li("month",Yo,Mi(Yo,["yyyy","MM"]),"yyyy-MM"),number:Fi,
url:ji,email:Ri,radio:Wi,checkbox:Bi,hidden:f,button:f,submit:f,reset:f,file:f},Xo=["$browser","$sniffer","$filter","$parse",function(e,t,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,r,s,a){a[0]&&(Ko[Ki(s.type)]||Ko.text)(o,r,s,a[0],t,e,i,n)}}}}],Qo=/^(true|false|\d+)$/,Zo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Qo.test(t.ngValue)?function(e,t,i){i.$set("value",e.$eval(i.ngValue))}:function(e,t,i){e.$watch(i.ngValue,function(e){i.$set("value",e)})}}}},Jo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,o){e.$$addBindingInfo(n,o.ngBind),n=n[0],t.$watch(o.ngBind,function(e){n.textContent=e===i?"":e})}}}}],er=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,o,r){var s=e(o.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(o,s.expressions),o=o[0],r.$observe("ngBindTemplate",function(e){o.textContent=e===i?"":e})}}}}],tr=["$sce","$parse","$compile",function(e,t,i){return{restrict:"A",compile:function(n,o){var r=t(o.ngBindHtml),s=t(o.ngBindHtml,function(e){return(e||"").toString()});return i.$$addBindingClass(n),function(t,n,o){i.$$addBindingInfo(n,o.ngBindHtml),t.$watch(s,function(){n.html(e.getTrustedHtml(r(t))||"")})}}}}],ir=g({restrict:"A",require:"ngModel",link:function(e,t,i,n){n.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}}),nr=qi("",!0),or=qi("Odd",0),rr=qi("Even",1),sr=Di({compile:function(e,t){t.$set("ngCloak",i),e.removeClass("ng-cloak")}}),ar=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],lr={},cr={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ze("ng-"+e);lr[t]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(o,r){var s=i(r[t],null,!0);return function(t,i){i.on(e,function(i){var o=function(){s(t,{$event:i})};cr[e]&&n.$$phase?t.$evalAsync(o):t.$apply(o)})}}}}]});var ur=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,o,r,s){var a,l,c;i.$watch(o.ngIf,function(i){i?l||s(function(i,r){l=r,i[i.length++]=t.createComment(" end ngIf: "+o.ngIf+" "),a={clone:i},e.enter(i,n.parent(),n)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=le(a.clone),e.leave(c).then(function(){c=null}),a=null))})}}}],hr=["$templateRequest","$anchorScroll","$animate",function(e,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:un.noop,compile:function(n,o){var r=o.ngInclude||o.src,s=o.onload||"",a=o.autoscroll;return function(n,o,l,c,u){var h,d,p,f=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(i.leave(p).then(function(){d=null}),d=p,p=null)};n.$watch(r,function(r){var l=function(){!b(a)||a&&!n.$eval(a)||t()},d=++f;r?(e(r,!0).then(function(e){if(d===f){var t=n.$new();c.template=e;var a=u(t,function(e){m(),i.enter(e,null,o).then(l)});h=t,p=a,h.$emit("$includeContentLoaded",r),n.$eval(s)}},function(){d===f&&(m(),n.$emit("$includeContentError",r))}),n.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],dr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,o,r){return/SVG/.test(n[0].toString())?(n.empty(),void e(be(r.template,t).childNodes)(i,function(e){n.append(e)},{futureParentElement:n})):(n.html(r.template),void e(n.contents())(i))}}}],pr=Di({priority:450,compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),fr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,o){var s=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,l=a?fn(s):s,c=function(e){if(!v(e)){var t=[];return e&&r(e.split(l),function(e){e&&t.push(a?fn(e):e)}),t}};o.$parsers.push(c),o.$formatters.push(function(e){return pn(e)?e.join(s):i}),o.$isEmpty=function(e){return!e||!e.length}}}},mr="ng-valid",gr="ng-invalid",vr="ng-pristine",br="ng-dirty",_r="ng-untouched",yr="ng-touched",wr="ng-pending",xr=n("ngModel"),Cr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,o,s,a,l,c,u,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=i,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=i,this.$name=h(n.name||"",!1)(e);var d,p=s(n.ngModel),m=p.assign,g=p,_=m,y=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=s(n.ngModel+"()"),i=s(n.ngModel+"($$$p)");g=function(e){var i=p(e);return C(i)&&(i=t(e)),i},_=function(e,t){C(p(e))?i(e,{$$$p:x.$modelValue}):m(e,x.$modelValue)}}else if(!p.assign)throw xr("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,U(o))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var $=o.inheritedData("$formController")||Mo,k=0;Ui({ctrl:this,$element:o,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:$,$animate:a}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,a.removeClass(o,br),a.addClass(o,vr)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,a.removeClass(o,vr),a.addClass(o,br),$.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,a.setClass(o,_r,yr)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,a.setClass(o,yr,_r)},this.$rollbackViewValue=function(){l.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!w(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,n=x.$valid,o=x.$modelValue,r=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){r||n===e||(x.$modelValue=e?t:i,x.$modelValue!==o&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function o(){var e=x.$$parserName||"parse";return d!==i?(d||(r(x.$validators,function(e,t){l(t,null)}),r(x.$asyncValidators,function(e,t){l(t,null)})),l(e,d),d):(l(e,null),!0)}function s(){var i=!0;return r(x.$validators,function(n,o){var r=n(e,t);i=i&&r,l(o,r)}),!!i||(r(x.$asyncValidators,function(e,t){l(t,null)}),!1)}function a(){var n=[],o=!0;r(x.$asyncValidators,function(r,s){var a=r(e,t);if(!E(a))throw xr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",a);l(s,i),n.push(a.then(function(){l(s,!0)},function(e){o=!1,l(s,!1)}))}),n.length?u.all(n).then(function(){c(o)},f):c(!0)}function l(e,t){h===k&&x.$setValidity(e,t)}function c(e){h===k&&n(e)}k++;var h=k;return o()&&s()?void a():void c(!1)},this.$commitViewValue=function(){var e=x.$viewValue;l.cancel(y),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==s&&x.$$writeModelToScope()}var n=x.$$lastCommittedViewValue,o=n;if(d=!v(o)||i)for(var r=0;r<x.$parsers.length;r++)if(o=x.$parsers[r](o),v(o)){d=!1;break}w(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=g(e));var s=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=o,a&&(x.$modelValue=o,t()),x.$$runValidators(o,x.$$lastCommittedViewValue,function(e){a||(x.$modelValue=e?o:i,t())})},this.$$writeModelToScope=function(){_(e,x.$modelValue),r(x.$viewChangeListeners,function(e){try{e()}catch(i){t(i)}})},this.$setViewValue=function(e,t){x.$viewValue=e,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var i,n=0,o=x.$options;o&&b(o.debounce)&&(i=o.debounce,w(i)?n=i:w(i[t])?n=i[t]:w(i["default"])&&(n=i["default"])),l.cancel(y),n?y=l(function(){x.$commitViewValue()},n):c.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,d=i;for(var n=x.$formatters,o=n.length,r=t;o--;)r=n[o](r);x.$viewValue!==r&&(x.$viewValue=x.$$lastCommittedViewValue=r,x.$render(),x.$$runValidators(t,r,f))}return t})}],$r=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Cr,priority:1,compile:function(t){return t.addClass(vr).addClass(_r).addClass(mr),{pre:function(e,t,i,n){var o=n[0],r=n[1]||Mo;o.$$setOptions(n[2]&&n[2].$options),r.$addControl(o),i.$observe("name",function(e){o.$name!==e&&r.$$renameControl(o,e)}),e.$on("$destroy",function(){r.$removeControl(o)})},post:function(t,i,n,o){var r=o[0];r.$options&&r.$options.updateOn&&i.on(r.$options.updateOn,function(e){r.$$debounceViewValueCommit(e&&e.type)}),i.on("blur",function(i){r.$touched||(e.$$phase?t.$evalAsync(r.$setTouched):t.$apply(r.$setTouched))})}}}}}],kr=/(\s+|^)default(\s+|$)/,Tr=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=fn(this.$options.updateOn.replace(kr,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Sr=Di({terminal:!0,priority:1e3}),Dr=["$locale","$interpolate",function(e,t){var i=/{}/g,n=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(o,s,a){function l(e){s.text(e||"")}var c,u=a.count,h=a.$attr.when&&s.attr(a.$attr.when),d=a.offset||0,p=o.$eval(h)||{},f={},m=t.startSymbol(),g=t.endSymbol(),v=m+u+"-"+d+g,b=un.noop;r(a,function(e,t){var i=n.exec(t);if(i){var o=(i[1]?"-":"")+Ki(i[2]);p[o]=s.attr(a.$attr[t])}}),r(p,function(e,n){f[n]=t(e.replace(i,v))}),o.$watch(u,function(t){var i=parseFloat(t),n=isNaN(i);n||i in p||(i=e.pluralCat(i-d)),i===c||n&&isNaN(c)||(b(),b=o.$watch(f[i],l),c=i)})}}}],Pr=["$parse","$animate",function(e,s){var a="$$NG_REMOVED",l=n("ngRepeat"),c=function(e,t,i,n,o,r,s){e[i]=n,o&&(e[o]=r),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},h=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,d){var p=d.ngRepeat,f=t.createComment(" end ngRepeat: "+p+" "),m=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=m[1],v=m[2],b=m[3],_=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var y=m[3]||m[1],w=m[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var x,C,$,k,T={$id:Re};return _?x=e(_):($=function(e,t){return Re(t)},k=function(e){return e}),function(e,t,n,d,m){x&&(C=function(t,i,n){return w&&(T[w]=t),T[y]=i,T.$index=n,x(e,T)});var g=ce();e.$watchCollection(v,function(n){var d,v,_,x,T,S,D,P,A,E,I,O,N=t[0],M=ce();if(b&&(e[b]=n),o(n))A=n,P=C||$;else{P=C||k,A=[];for(var L in n)n.hasOwnProperty(L)&&"$"!=L.charAt(0)&&A.push(L);A.sort()}for(x=A.length,I=new Array(x),d=0;d<x;d++)if(T=n===A?d:A[d],S=n[T],D=P(T,S,d),g[D])E=g[D],delete g[D],M[D]=E,I[d]=E;else{if(M[D])throw r(I,function(e){e&&e.scope&&(g[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,D,S);I[d]={id:D,scope:i,clone:i},M[D]=!0}for(var H in g){if(E=g[H],O=le(E.clone),s.leave(O),O[0].parentNode)for(d=0,v=O.length;d<v;d++)O[d][a]=!0;E.scope.$destroy()}for(d=0;d<x;d++)if(T=n===A?d:A[d],S=n[T],E=I[d],E.scope){_=N;do _=_.nextSibling;while(_&&_[a]);u(E)!=_&&s.move(le(E.clone),null,tn(N)),N=h(E),c(E.scope,d,y,S,w,T,x)}else m(function(e,t){E.scope=t;var i=f.cloneNode(!1);e[e.length++]=i,s.enter(e,null,tn(N)),N=i,E.clone=e,M[E.id]=E,c(E.scope,d,y,S,w,T,x)});g=M})}}}}],Ar="ng-hide",Er="ng-hide-animate",Ir=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngShow,function(t){e[t?"removeClass":"addClass"](i,Ar,{tempClasses:Er})})}}}],Or=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngHide,function(t){e[t?"addClass":"removeClass"](i,Ar,{tempClasses:Er})})}}}],Nr=Di(function(e,t,i){e.$watch(i.ngStyle,function(e,i){i&&e!==i&&r(i,function(e,i){t.css(i,"")}),e&&t.css(e)},!0)}),Mr=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,o,s){var a=o.ngSwitch||o.on,l=[],c=[],u=[],h=[],d=function(e,t){return function(){e.splice(t,1)}};i.$watch(a,function(i){var n,o;for(n=0,o=u.length;n<o;++n)e.cancel(u[n]);for(u.length=0,n=0,o=h.length;n<o;++n){var a=le(c[n].clone);h[n].$destroy();var p=u[n]=e.leave(a);p.then(d(u,n))}c.length=0,h.length=0,(l=s.cases["!"+i]||s.cases["?"])&&r(l,function(i){i.transclude(function(n,o){h.push(o);var r=i.element;n[n.length++]=t.createComment(" end ngSwitchWhen: ");var s={clone:n};c.push(s),e.enter(n,r.parent(),r)})})})}}}],Lr=Di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,o){n.cases["!"+i.ngSwitchWhen]=n.cases["!"+i.ngSwitchWhen]||[],n.cases["!"+i.ngSwitchWhen].push({transclude:o,element:t})}}),Hr=Di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,o){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:o,element:t})}}),Fr=Di({restrict:"EAC",link:function(e,t,i,o,r){if(!r)throw n("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",U(t));r(function(e){t.empty(),t.append(e)})}}),jr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){if("text/ng-template"==i.type){var n=i.id,o=t[0].text;e.put(n,o)}}}}],Rr=n("ngOptions"),Wr=g({restrict:"A",terminal:!0}),zr=["$compile","$parse",function(e,n){var o=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,i){var n,o,r=this,s={},l=a;r.databound=i.ngModel,r.init=function(e,t,i){l=e,n=t,o=i},r.addOption=function(t,i){se(t,'"option value"'),s[t]=!0,l.$viewValue==t&&(e.val(t),o.parent()&&o.remove()),i&&i[0].hasAttribute("selected")&&(i[0].selected=!0)},r.removeOption=function(e){this.hasOption(e)&&(delete s[e],l.$viewValue===e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){var i="? "+Re(t)+" ?";o.val(i),e.prepend(o),e.val(i),o.prop("selected",!0)},r.hasOption=function(e){return s.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=f})}],link:function(a,l,c,u){function h(e,t,i,n){i.$render=function(){var e=i.$viewValue;n.hasOption(e)?($.parent()&&$.remove(),t.val(e),""===e&&f.prop("selected",!0)):null==e&&f?t.val(""):n.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){$.parent()&&$.remove(),i.$setViewValue(t.val())})})}function d(e,t,i){var n;i.$render=function(){var e=new We(i.$viewValue);r(t.find("option"),function(t){t.selected=b(e.get(t.value))})},e.$watch(function(){F(n,i.$viewValue)||(n=H(i.$viewValue),i.$render())}),t.on("change",function(){e.$apply(function(){var e=[];r(t.find("option"),function(t){t.selected&&e.push(t.value)}),i.$setViewValue(e)})})}function p(t,a,l){function c(e,i,n){return F[S]=n,A&&(F[A]=i),e(t,F)}function u(){t.$apply(function(){var e,i=O(t)||[];if(v)e=[],r(a.val(),function(t){t=M?L[t]:t,e.push(h(t,i[t]))});else{var n=M?L[a.val()]:a.val();e=h(n,i[n])}l.$setViewValue(e),$()})}function h(e,t){if("?"===e)return i;if(""===e)return null;var n=P?P:I;return c(n,e,t)}function d(){var e,i=O(t);if(i&&pn(i)){e=new Array(i.length);for(var n=0,o=i.length;n<o;n++)e[n]=c(T,n,i[n]);return e}if(i){e={};for(var r in i)i.hasOwnProperty(r)&&(e[r]=c(T,r,i[r]))}return e}function p(e){var t;if(v)if(M&&pn(e)){t=new We([]);for(var i=0;i<e.length;i++)t.put(c(M,null,e[i]),!0)}else t=new We(e);else M&&(e=c(M,null,e));return function(i,n){var o;return o=M?M:P?P:I,v?b(t.remove(c(o,i,n))):e===c(o,i,n)}}function f(){w||(t.$$postDigest($),w=!0)}function g(e,t,i){e[t]=e[t]||0,e[t]+=i?1:-1}function $(){w=!1;var e,i,n,o,u,h,d,f,_,$,k,S,D,P,I,N,j,R={"":[]},W=[""],z=l.$viewValue,B=O(t)||[],q=A?s(B):B,U={},V=p(z),Y=!1;for(L={},S=0;$=q.length,S<$;S++)d=S,A&&(d=q[S],"$"===d.charAt(0))||(f=B[d],e=c(E,d,f)||"",(i=R[e])||(i=R[e]=[],W.push(e)),D=V(d,f),Y=Y||D,N=c(T,d,f),N=b(N)?N:"",j=M?M(t,F):A?q[S]:S,M&&(L[j]=d),i.push({id:j,label:N,selected:D}));for(v||(y||null===z?R[""].unshift({id:"",label:"",selected:!Y}):Y||R[""].unshift({id:"?",label:"",selected:!0})),k=0,_=W.length;k<_;k++){for(e=W[k],i=R[e],H.length<=k?(o={element:C.clone().attr("label",e),label:i.label},u=[o],H.push(u),a.append(o.element)):(u=H[k],o=u[0],o.label!=e&&o.element.attr("label",o.label=e)),P=null,S=0,$=i.length;S<$;S++)n=i[S],(h=u[S+1])?(P=h.element,h.label!==n.label&&(g(U,h.label,!1),g(U,n.label,!0),P.text(h.label=n.label),P.prop("label",h.label)),h.id!==n.id&&P.val(h.id=n.id),P[0].selected!==n.selected&&(P.prop("selected",h.selected=n.selected),en&&P.prop("selected",h.selected))):(""===n.id&&y?I=y:(I=x.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),u.push(h={element:I,label:n.label,id:n.id,selected:n.selected}),g(U,n.label,!0),P?P.after(I):o.element.append(I),P=I);for(S++;u.length>S;)n=u.pop(),g(U,n.label,!1),n.element.remove()}for(;H.length>k;){for(i=H.pop(),S=1;S<i.length;++S)g(U,i[S].label,!1);i[0].element.remove()}r(U,function(e,t){e>0?m.addOption(t):e<0&&m.removeOption(t)})}var k;if(!(k=_.match(o)))throw Rr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",_,U(a));var T=n(k[2]||k[1]),S=k[4]||k[6],D=/ as /.test(k[0])&&k[1],P=D?n(D):null,A=k[5],E=n(k[3]||""),I=n(k[2]?k[1]:S),O=n(k[7]),N=k[8],M=N?n(k[8]):null,L={},H=[[{element:a,label:""}]],F={};y&&(e(y)(t),y.removeClass("ng-scope"),y.remove()),a.empty(),a.on("change",u),l.$render=$,t.$watchCollection(O,f),t.$watchCollection(d,f),v&&t.$watchCollection(function(){return l.$modelValue},f)}if(u[1]){for(var f,m=u[0],g=u[1],v=c.multiple,_=c.ngOptions,y=!1,w=!1,x=tn(t.createElement("option")),C=tn(t.createElement("optgroup")),$=x.clone(),k=0,T=l.children(),S=T.length;k<S;k++)if(""===T[k].value){f=y=T.eq(k);break}m.init(g,y,$),v&&(g.$isEmpty=function(e){return!e||0===e.length}),_?p(a,l,g):v?d(a,l,g):h(a,l,g,m)}}}}],Br=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(i,n){if(v(n.value)){var o=e(i.text(),!0);o||n.$set("value",i.text())}return function(e,i,n){var r="$selectController",s=i.parent(),a=s.data(r)||s.parent().data(r);a&&a.databound||(a=t),o?e.$watch(o,function(e,t){n.$set("value",e),t!==e&&a.removeOption(t),a.addOption(e,i)}):a.addOption(n.value,i),i.on("$destroy",function(){a.removeOption(n.value)})}}}}],qr=g({restrict:"E",terminal:!1}),Ur=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){n&&(i.required=!0,n.$validators.required=function(e,t){return!i.required||!n.$isEmpty(t)},i.$observe("required",function(){n.$validate()}))}}},Vr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,r){if(r){var s,a=o.ngPattern||o.pattern;o.$observe("pattern",function(e){if(y(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw n("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,U(t));s=e||i,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||v(s)||s.test(t)}}}}},Yr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var o=-1;i.$observe("maxlength",function(e){var t=d(e);o=isNaN(t)?-1:t,n.$validate()}),n.$validators.maxlength=function(e,t){return o<0||n.$isEmpty(t)||t.length<=o}}}}},Gr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var o=0;i.$observe("minlength",function(e){o=d(e)||0,n.$validate()}),n.$validators.minlength=function(e,t){return n.$isEmpty(t)||t.length>=o}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ne(),pe(un),void tn(t).ready(function(){Z(t,J)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,t,i){"use strict";function n(){function e(e,i){return t.extend(Object.create(e),i)}function i(e,t){var i=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},o=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,i,n){var r="?"===n?n:null,s="*"===n?n:null;return o.push({name:i,optional:!!r}),t=t||"",""+(r?"":t)+"(?:"+(r?t:"")+(s&&"(.+?)"||"([^/]+)")+(r||"")+")"+(r||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",i?"i":""),n}var n={};this.when=function(e,o){var r=t.copy(o);if(t.isUndefined(r.reloadOnSearch)&&(r.reloadOnSearch=!0),t.isUndefined(r.caseInsensitiveMatch)&&(r.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=t.extend(r,e&&i(e,r)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[s]=t.extend({redirectTo:e},i(s,r))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(i,o,r,s,a,c,u){function h(e,t){var i=t.keys,n={};if(!t.regexp)return null;var o=t.regexp.exec(e);if(!o)return null;for(var r=1,s=o.length;r<s;++r){var a=i[r-1],l=o[r];a&&l&&(n[a.name]=l)}return n}function d(e){var n=_.current;g=f(),v=g&&n&&g.$$route===n.$$route&&t.equals(g.pathParams,n.pathParams)&&!g.reloadOnSearch&&!b,v||!n&&!g||i.$broadcast("$routeChangeStart",g,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=_.current,n=g;v?(e.params=n.params,t.copy(e.params,r),i.$broadcast("$routeUpdate",e)):(n||e)&&(b=!1,_.current=n,n&&n.redirectTo&&(t.isString(n.redirectTo)?o.path(m(n.redirectTo,n.params)).search(n.params).replace():o.url(n.redirectTo(n.pathParams,o.path(),o.search())).replace()),s.when(n).then(function(){if(n){var e,i,o=t.extend({},n.resolve);return t.forEach(o,function(e,i){o[i]=t.isString(e)?a.get(e):a.invoke(e,null,null,i)}),t.isDefined(e=n.template)?t.isFunction(e)&&(e=e(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),t.isDefined(i)&&(n.loadedTemplateUrl=u.valueOf(i),e=c(i))),t.isDefined(e)&&(o.$template=e),s.all(o)}}).then(function(o){n==_.current&&(n&&(n.locals=o,t.copy(n.params,r)),i.$broadcast("$routeChangeSuccess",n,e))},function(t){n==_.current&&i.$broadcast("$routeChangeError",n,e,t)}))}function f(){var i,r;return t.forEach(n,function(n,s){!r&&(i=h(o.path(),n))&&(r=e(n,{params:t.extend({},o.search(),i),pathParams:i}),r.$$route=n)}),r||n[null]&&e(n[null],{params:{},pathParams:{}})}function m(e,i){var n=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var o=e.match(/(\w+)(?:[?*])?(.*)/),r=o[1];n.push(i[r]),n.push(o[2]||""),delete i[r]}}),n.join("")}var g,v,b=!1,_={routes:n,reload:function(){b=!0,i.$evalAsync(function(){d(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw l("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),o.path(m(this.current.$$route.originalPath,e)),o.search(e)}};return i.$on("$locationChangeStart",d),i.$on("$locationChangeSuccess",p),_}]}function o(){this.$get=function(){return{}}}function r(e,i,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,r,s,a,l){function c(){p&&(n.cancel(p),p=null),h&&(h.$destroy(),h=null),d&&(p=n.leave(d),p.then(function(){p=null}),d=null)}function u(){var s=e.current&&e.current.locals,a=s&&s.$template;if(t.isDefined(a)){var u=o.$new(),p=e.current,g=l(u,function(e){n.enter(e,null,d||r).then(function(){!t.isDefined(f)||f&&!o.$eval(f)||i()}),c()});d=g,h=p.scope=u,h.$emit("$viewContentLoaded"),h.$eval(m)}else c()}var h,d,p,f=s.autoscroll,m=s.onload||"";o.$on("$routeChangeSuccess",u),u()}}}function s(e,t,i){return{restrict:"ECA",priority:-400,link:function(n,o){var r=i.current,s=r.locals;o.html(s.$template);var a=e(o.contents());if(r.controller){s.$scope=n;var l=t(r.controller,s);r.controllerAs&&(n[r.controllerAs]=l),o.data("$ngControllerController",l),o.children().data("$ngControllerController",l)}a(n)}}}var a=t.module("ngRoute",["ng"]).provider("$route",n),l=t.$$minErr("ngRoute");a.provider("$routeParams",o),a.directive("ngView",r),a.directive("ngView",s),r.$inject=["$route","$anchorScroll","$animate"],s.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,i){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(i,n,o){var r=o.ngAnimateChildren;t.isString(r)&&0===r.length?n.data(e,!0):i.$watch(r,function(t){n.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var i=t[0].body;return function(t){return e(function(){t(i.offsetWidth)})}}]).config(["$provide","$animateProvider",function(n,o){function r(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.nodeType==g)return i}}function s(e){return e&&t.element(e)}function a(e){return t.element(r(e))}function l(e,t){return r(e)==r(t)}var c,u=t.noop,h=t.forEach,d=o.$$selectors,p=t.isArray,f=t.isString,m=t.isObject,g=1,v="$$ngAnimateState",b="$$ngAnimateChildren",_="ng-animate",y={running:!0};n.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,i,n,g,w,x,C,$,k,T){function S(e,t){var i=e.data(v)||{};return t&&(i.running=!0,i.structural=!0,e.data(v,i)),i.disabled||i.running&&i.structural}function D(e){var t,n=i.defer();return n.promise.$$cancelFn=function(){t&&t()},C.$$postDigest(function(){t=e(function(){n.resolve()})}),n.promise}function P(e){if(m(e))return e.tempClasses&&f(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e}function A(e,t,i){i=i||{};var n={};h(i,function(e,t){h(t.split(" "),function(t){n[t]=e})});var o=Object.create(null);h((e.attr("class")||"").split(/\s+/),function(e){o[e]=!0});var r=[],s=[];return h(t&&t.classes||[],function(e,t){var i=o[t],a=n[t]||{};e===!1?(i||"addClass"==a.event)&&s.push(t):e===!0&&(i&&"removeClass"!=a.event||r.push(t))}),r.length+s.length>0&&[r.join(" "),s.join(" ")]}function E(e){if(e){var t=[],i={},o=e.substr(1).split(".");(g.transitions||g.animations)&&t.push(n.get(d[""]));for(var r=0;r<o.length;r++){var s=o[r],a=d[s];a&&!i[s]&&(t.push(n.get(a)),i[s]=!0)}return t}}function I(e,i,n,o){function r(e,t){var i=e[t],n=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];if(i||n)return"leave"==t&&(n=i,i=null),x.push({event:t,fn:i}),_.push({event:t,fn:n}),!0}function s(t,i,r){function s(e){if(i){if((i[e]||u)(),++d<a.length)return;i=null}r()}var a=[];h(t,function(e){e.fn&&a.push(e)});var d=0;h(a,function(t,r){var a=function(){s(r)};switch(t.event){case"setClass":i.push(t.fn(e,l,c,a,o));break;case"animate":i.push(t.fn(e,n,o.from,o.to,a));break;case"addClass":i.push(t.fn(e,l||n,a,o));break;case"removeClass":i.push(t.fn(e,c||n,a,o));break;default:i.push(t.fn(e,a,o))}}),i&&0===i.length&&r()}var a=e[0];if(a){o&&(o.to=o.to||{},o.from=o.from||{});var l,c;p(n)&&(l=n[0],c=n[1],l?c?n=l+" "+c:(n=l,i="addClass"):(n=c,i="removeClass"));var d="setClass"==i,f=d||"addClass"==i||"removeClass"==i||"animate"==i,m=e.attr("class"),g=m+" "+n;if(R(g)){var v=u,b=[],_=[],y=u,w=[],x=[],C=(" "+g).replace(/\s+/g,".");return h(E(C),function(e){var t=r(e,i);!t&&d&&(r(e,"addClass"),r(e,"removeClass"))}),{node:a,event:i,className:n,isClassBased:f,isSetClassOperation:d,applyStyles:function(){o&&e.css(t.extend(o.from||{},o.to||{}))},before:function(e){v=e,s(_,b,function(){v=u,e()})},after:function(e){y=e,s(x,w,function(){y=u,e()})},cancel:function(){b&&(h(b,function(e){(e||u)(!0)}),v(!0)),w&&(h(w,function(e){(e||u)(!0)}),y(!0))}}}}}function O(e,i,n,o,r,s,a,l){function d(t){var o="$animate:"+t;C&&C[o]&&C[o].length>0&&x(function(){n.triggerHandler(o,{event:e,className:i})})}function p(){d("before")}function f(){d("after")}function m(){d("close"),l()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,s())}function b(){if(!b.hasBeenRun){w&&w.applyStyles(),b.hasBeenRun=!0,a&&a.tempClasses&&h(a.tempClasses,function(e){c.removeClass(n,e)});var t=n.data(v);t&&(w&&w.isClassBased?M(n,i):(x(function(){var t=n.data(v)||{};O==t.index&&M(n,i,e)}),n.data(v,t))),m()}}var y=u,w=I(n,e,i,a);if(!w)return g(),p(),f(),b(),y;e=w.event,i=w.className;var C=t.element._data(w.node);if(C=C&&C.events,o||(o=r?r.parent():n.parent()),L(n,o))return g(),p(),f(),b(),y;var $=n.data(v)||{},k=$.active||{},T=$.totalActive||0,S=$.last,D=!1;if(T>0){var P=[];if(w.isClassBased){if("setClass"==S.event)P.push(S),M(n,i);else if(k[i]){var A=k[i];A.event==e?D=!0:(P.push(A),M(n,i))}}else if("leave"==e&&k["ng-leave"])D=!0;else{for(var E in k)P.push(k[E]);$={},M(n,!0)}P.length>0&&h(P,function(e){e.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==e||D||(D="addClass"==e==n.hasClass(i)),D)return g(),p(),f(),m(),y;k=$.active||{},T=$.totalActive||0,"leave"==e&&n.one("$destroy",function(e){var i=t.element(this),n=i.data(v);if(n){var o=n.active["ng-leave"];o&&(o.cancel(),M(i,"ng-leave"))}}),c.addClass(n,_),a&&a.tempClasses&&h(a.tempClasses,function(e){c.addClass(n,e)});var O=F++;return T++,k[i]=w,n.data(v,{last:w,active:k,index:O,totalActive:T}),p(),w.before(function(t){var o=n.data(v);t=t||!o||!o.active[i]||w.isClassBased&&o.active[i].event!=e,g(),t===!0?b():(f(),w.after(b))}),w.cancel}function N(e){var i=r(e);if(i){var n=t.isFunction(i.getElementsByClassName)?i.getElementsByClassName(_):i.querySelectorAll("."+_);h(n,function(e){e=t.element(e);var i=e.data(v);i&&i.active&&h(i.active,function(e){e.cancel()})})}}function M(e,t){if(l(e,w))y.disabled||(y.running=!1,y.structural=!1);else if(t){var i=e.data(v)||{},n=t===!0;!n&&i.active&&i.active[t]&&(i.totalActive--,delete i.active[t]),!n&&i.totalActive||(c.removeClass(e,_),e.removeData(v))}}function L(e,i){if(y.disabled)return!0;if(l(e,w))return y.running;var n,o,r;do{if(0===i.length)break;var s=l(i,w),a=s?y:i.data(v)||{};if(a.disabled)return!0;if(s&&(r=!0),n!==!1){var c=i.data(b);t.isDefined(c)&&(n=c)}o=o||a.running||a.last&&!a.last.isClassBased}while(i=i.parent());return!r||!n&&o}c=T,w.data(v,y);var H=C.$watch(function(){return k.totalPendingRequests},function(e,t){0===e&&(H(),C.$$postDigest(function(){C.$$postDigest(function(){y.running=!1})}))}),F=0,j=o.classNameFilter(),R=j?function(e){return j.test(e)}:function(){return!0};return{animate:function(e,t,i,n,o){return n=n||"ng-inline-animate",o=P(o)||{},o.from=i?t:null,o.to=i?i:t,D(function(t){return O("animate",n,a(e),null,null,u,o,t)})},enter:function(i,n,o,r){return r=P(r),i=t.element(i),n=s(n),o=s(o),S(i,!0),e.enter(i,n,o),D(function(e){return O("enter","ng-enter",a(i),n,o,u,r,e)})},leave:function(i,n){return n=P(n),i=t.element(i),N(i),S(i,!0),D(function(t){return O("leave","ng-leave",a(i),null,null,function(){e.leave(i)},n,t)})},move:function(i,n,o,r){
return r=P(r),i=t.element(i),n=s(n),o=s(o),N(i),S(i,!0),e.move(i,n,o),D(function(e){return O("move","ng-move",a(i),n,o,u,r,e)})},addClass:function(e,t,i){return this.setClass(e,t,[],i)},removeClass:function(e,t,i){return this.setClass(e,[],t,i)},setClass:function(i,n,o,s){s=P(s);var l="$$animateClasses";if(i=t.element(i),i=a(i),S(i))return e.$$setClassImmediately(i,n,o,s);var c,u=i.data(l),d=!!u;return u||(u={},u.classes={}),c=u.classes,n=p(n)?n:n.split(" "),h(n,function(e){e&&e.length&&(c[e]=!0)}),o=p(o)?o:o.split(" "),h(o,function(e){e&&e.length&&(c[e]=!1)}),d?(s&&u.options&&(u.options=t.extend(u.options||{},s)),u.promise):(i.data(l,u={classes:c,options:s}),u.promise=D(function(t){var n,o,s,a=r(i);if(a&&(n=i.data(l),i.removeData(l),s=i.parent(),o=a.parentNode),!o||o.$$NG_REMOVED||a.$$NG_REMOVED)return void t();var c=i.data(v)||{},u=A(i,n,c.active);return u?O("setClass",u,i,s,null,function(){u[0]&&e.$$addClassImmediately(i,u[0]),u[1]&&e.$$removeClassImmediately(i,u[1])},n.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)M(t);else{var i=t.data(v)||{};i.disabled=!0,t.data(v,i)}break;case 1:y.disabled=!e;break;default:e=!y.disabled}return!!e}}}]),o.register("",["$window","$sniffer","$timeout","$$animateReflow",function(n,o,s,a){function l(){M||(M=a(function(){G=[],M=null,V={}}))}function d(e,t){M&&M(),G.push(t),M=a(function(){h(G,function(e){e()}),G=[],M=null,V={}})}function m(e,i){var n=r(e);e=t.element(n),Q.push(e);var o=Date.now()+i;o<=X||(s.cancel(K),X=o,K=s(function(){v(Q),Q=[]},i,!1))}function v(e){h(e,function(e){var t=e.data(z);t&&h(t.closeAnimationFns,function(e){e()})})}function b(e,t){var i=t?V[t]:null;if(!i){var o=0,r=0,s=0,a=0;h(e,function(e){if(e.nodeType==g){var t=n.getComputedStyle(e)||{},i=t[A+L];o=Math.max(_(i),o);var l=t[A+F];r=Math.max(_(l),r);t[I+F];a=Math.max(_(t[I+F]),a);var c=_(t[I+L]);c>0&&(c*=parseInt(t[I+j],10)||1),s=Math.max(c,s)}}),i={total:0,transitionDelay:r,transitionDuration:o,animationDelay:a,animationDuration:s},t&&(V[t]=i)}return i}function _(e){var t=0,i=f(e)?e.split(/\s*,\s*/):[];return h(i,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function y(e){var t=e.parent(),i=t.data(W);return i||(t.data(W,++Y),i=Y),i+"-"+r(e).getAttribute("class")}function w(e,t,i,n){var o=["ng-enter","ng-leave","ng-move"].indexOf(i)>=0,s=y(t),a=s+" "+i,l=V[a]?++V[a].total:0,u={};if(l>0){var h=i+"-stagger",d=s+" "+h,p=!V[d];p&&c.addClass(t,h),u=b(t,d),p&&c.removeClass(t,h)}c.addClass(t,i);var f=t.data(z)||{},m=b(t,a),g=m.transitionDuration,v=m.animationDuration;if(o&&0===g&&0===v)return c.removeClass(t,i),!1;var _=n||o&&g>0,w=v>0&&u.animationDelay>0&&0===u.animationDuration,x=f.closeAnimationFns||[];t.data(z,{stagger:u,cacheKey:a,running:f.running||0,itemIndex:l,blockTransition:_,closeAnimationFns:x});var k=r(t);return _&&(C(k,!0),n&&t.css(n)),w&&$(k,!0),!0}function x(e,t,i,n,o){function a(){t.off(F,l),c.removeClass(t,p),c.removeClass(t,f),L&&s.cancel(L),D(t,i);var e=r(t);for(var n in v)e.style.removeProperty(v[n])}function l(e){e.stopPropagation();var t=e.originalEvent||e,i=t.$manualTimeStamp||t.timeStamp||Date.now(),o=parseFloat(t.elapsedTime.toFixed(B));Math.max(i-H,0)>=I&&o>=P&&n()}var u=r(t),d=t.data(z);if(u.getAttribute("class").indexOf(i)==-1||!d)return void n();var p="",f="";h(i.split(" "),function(e,t){var i=(t>0?" ":"")+e;p+=i+"-active",f+=i+"-pending"});var g="",v=[],_=d.itemIndex,y=d.stagger,w=0;if(_>0){var x=0;y.transitionDelay>0&&0===y.transitionDuration&&(x=y.transitionDelay*_);var k=0;y.animationDelay>0&&0===y.animationDuration&&(k=y.animationDelay*_,v.push(N+"animation-play-state")),w=Math.round(100*Math.max(x,k))/100}w||(c.addClass(t,p),d.blockTransition&&C(u,!1));var T=d.cacheKey+" "+p,S=b(t,T),P=Math.max(S.transitionDuration,S.animationDuration);if(0===P)return c.removeClass(t,p),D(t,i),void n();!w&&o&&Object.keys(o).length>0&&(S.transitionDuration||(t.css("transition",S.animationDuration+"s linear all"),v.push("transition")),t.css(o));var A=Math.max(S.transitionDelay,S.animationDelay),I=A*U;if(v.length>0){var M=u.getAttribute("style")||"";";"!==M.charAt(M.length-1)&&(M+=";"),u.setAttribute("style",M+" "+g)}var L,H=Date.now(),F=O+" "+E,j=(A+P)*q,R=(w+j)*U;return w>0&&(c.addClass(t,f),L=s(function(){L=null,S.transitionDuration>0&&C(u,!1),S.animationDuration>0&&$(u,!1),c.addClass(t,p),c.removeClass(t,f),o&&(0===S.transitionDuration&&t.css("transition",S.animationDuration+"s linear all"),t.css(o),v.push("transition"))},w*U,!1)),t.on(F,l),d.closeAnimationFns.push(function(){a(),n()}),d.running++,m(t,R),a}function C(e,t){e.style[A+H]=t?"none":""}function $(e,t){e.style[I+R]=t?"paused":""}function k(e,t,i,n){if(w(e,t,i,n))return function(e){e&&D(t,i)}}function T(e,t,i,n,o){return t.data(z)?x(e,t,i,n,o):(D(t,i),void n())}function S(e,t,i,n,o){var r=k(e,t,i,o.from);if(!r)return l(),void n();var s=r;return d(t,function(){s=T(e,t,i,n,o.to)}),function(e){(s||u)(e)}}function D(e,t){c.removeClass(e,t);var i=e.data(z);i&&(i.running&&i.running--,i.running&&0!==i.running||e.removeData(z))}function P(e,t){var i="";return e=p(e)?e:e.split(/\s+/),h(e,function(e,n){e&&e.length>0&&(i+=(n>0?" ":"")+e+t)}),i}var A,E,I,O,N="";e.ontransitionend===i&&e.onwebkittransitionend!==i?(N="-webkit-",A="WebkitTransition",E="webkitTransitionEnd transitionend"):(A="transition",E="transitionend"),e.onanimationend===i&&e.onwebkitanimationend!==i?(N="-webkit-",I="WebkitAnimation",O="webkitAnimationEnd animationend"):(I="animation",O="animationend");var M,L="Duration",H="Property",F="Delay",j="IterationCount",R="PlayState",W="$$ngAnimateKey",z="$$ngAnimateCSS3Data",B=3,q=1.5,U=1e3,V={},Y=0,G=[],K=null,X=0,Q=[];return{animate:function(e,t,i,n,o,r){return r=r||{},r.from=i,r.to=n,S("animate",e,t,o,r)},enter:function(e,t,i){return i=i||{},S("enter",e,"ng-enter",t,i)},leave:function(e,t,i){return i=i||{},S("leave",e,"ng-leave",t,i)},move:function(e,t,i){return i=i||{},S("move",e,"ng-move",t,i)},beforeSetClass:function(e,t,i,n,o){o=o||{};var r=P(i,"-remove")+" "+P(t,"-add"),s=k("setClass",e,r,o.from);return s?(d(e,n),s):(l(),void n())},beforeAddClass:function(e,t,i,n){n=n||{};var o=k("addClass",e,P(t,"-add"),n.from);return o?(d(e,i),o):(l(),void i())},beforeRemoveClass:function(e,t,i,n){n=n||{};var o=k("removeClass",e,P(t,"-remove"),n.from);return o?(d(e,i),o):(l(),void i())},setClass:function(e,t,i,n,o){o=o||{},i=P(i,"-remove"),t=P(t,"-add");var r=i+" "+t;return T("setClass",e,r,n,o.to)},addClass:function(e,t,i,n){return n=n||{},T("addClass",e,P(t,"-add"),i,n.to)},removeClass:function(e,t,i,n){return n=n||{},T("removeClass",e,P(t,"-remove"),i,n.to)}}}])}])}(window,window.angular),angular.module("MessageCenter",["ngAnimate","template/message-center/message.html","template/message-center/message-center.html"]).run(["$document","$compile","$rootScope",function(e,t,i){if(!e.find("message-center").length){var n=t("<message-center></message-center>")(i);e.find("body").append(n)}}]).factory("MessageService",["$rootScope",function(e){var t={};t.config={disabled:!1,max:3,timeout:3e3};var i=[],n=[],o=0;return t.configure=function(e){this.config.disabled=angular.isDefined(e.disabled)?e.disabled:this.config.disabled,this.config.max=angular.isDefined(e.max)?e.max:this.config.max,this.config.timeout=angular.isDefined(e.timeout)?e.timeout:this.config.timeout},t.broadcast=function(r,s){if(this.config.disabled)return void n.push({message:r,opts:s});o++;var a={classes:[],message:r,id:o,timeout:t.config.timeout};s&&(s.important&&(a.type="important"),s.color&&a.classes.push(s.color),angular.isDefined(s.timeout)&&angular.isNumber(s.timeout)&&(a.timeout=s.timeout)),i.push(a),e.$broadcast("MessageService.broadcast",a)},t.info=function(e,t){t=t||{},t.color="info",this.broadcast(e,t)},t.danger=function(e,t){t=t||{},t.color="danger",this.broadcast(e,t)},t.error=function(e,t){t=t||{},t.color="danger",this.broadcast(e,t)},t.success=function(e,t){t=t||{},t.color="success",this.broadcast(e,t)},t.warn=function(e,t){t=t||{},t.color="warning",this.broadcast(e,t)},t.warning=function(e,t){t=t||{},t.color="warning",this.broadcast(e,t)},t.getHistory=function(){return i},t.getDisabledHistory=function(){return n},t.clearHistory=function(){i=[],o=0},t}]).directive("messageCenter",["$timeout","MessageService",function(e,t){function i(e,t){var i=e.indexOf(t);return i!==-1&&e.splice(i,1),e}return{restrict:"E",scope:{},templateUrl:"template/message-center/message-center.html",controller:["$scope",function(e){e.removeItem=function(t){t.type?i(e.impMessages,t):i(e.messages,t)}}],link:function(n){function o(t,n){if(0!==t.length){var r=t.shift();n.push(r),e(function(){i(n,r),t.length>0&&e(function(){o(t,n)},r.timeout)},r.timeout)}}n.messages=[],n.impMessages=[];var r=[],s=[];n.$on("MessageService.broadcast",function(e,i){var a,l;i.type?(a=s,l=n.impMessages):(a=r,l=n.messages),a.push(i),l.length<t.config.max&&1===a.length&&o(a,l)})}}}]).directive("message",[function(){return{replace:!0,restrict:"E",templateUrl:"template/message-center/message.html"}}]),angular.module("ng-context-menu",[]).factory("ContextMenuService",function(){return{element:null,menuElement:null}}).directive("contextMenu",["$document","ContextMenuService",function(e,t){return{restrict:"A",scope:{callback:"&contextMenu",disabled:"&contextMenuDisabled",closeCallback:"&contextMenuClose"},link:function(i,n,o){function r(t,i){i.addClass("open");var n=e[0].documentElement,o=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),r=(window.pageYOffset||n.scrollTop)-(n.clientTop||0),s=i[0].scrollWidth,a=i[0].scrollHeight,l=n.clientWidth+o,u=n.clientHeight+r,h=s+t.pageX,d=a+t.pageY,p=Math.max(t.pageX-o,0),f=Math.max(t.pageY-r,0);h>l&&(p-=h-l),d>u&&(f-=d-u),i.css("top",f+"px"),i.css("left",p+"px"),c=!0}function s(e){e.removeClass("open"),c&&i.closeCallback(),c=!1}function a(e){!i.disabled()&&c&&27===e.keyCode&&i.$apply(function(){s(t.menuElement)})}function l(e){i.disabled()||!c||2===e.button&&e.target===t.element||i.$apply(function(){s(t.menuElement)})}var c=!1;n.bind("contextmenu",function(e){i.disabled()||(null!==t.menuElement&&s(t.menuElement),t.menuElement=angular.element(document.getElementById(o.target)),t.element=e.target,e.preventDefault(),e.stopPropagation(),i.$apply(function(){i.callback({$event:e})}),i.$apply(function(){r(e,t.menuElement)}))}),e.bind("keyup",a),e.bind("click",l),e.bind("contextmenu",l),i.$on("$destroy",function(){e.unbind("keyup",a),e.unbind("click",l),e.unbind("contextmenu",l)})}}}]),angular.module("template/message-center/message-center.html",[]).run(["$templateCache",function(e){e.put("template/message-center/message-center.html",'<span><span class="message-center-important"><message ng-repeat="message in impMessages" class="message-animation"></message></span><span class="message-center-regular"><message ng-repeat="message in messages" class="message-animation"></message></span><span>')}]),angular.module("template/message-center/message.html",[]).run(["$templateCache",function(e){e.put("template/message-center/message.html",'<div class="message-box" ng-class="message.classes"><span class="message">{{message.message}}</span><button type="button" class="close" aria-hidden="true" ng-click="removeItem(message)">&times;</button></div>')}]),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,i){try{Object.defineProperty(e,t,{get:i})}catch(n){}}function i(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}var n=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1};if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var o=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(i,n){e.__listeners[i]=n,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,n){o(this),this.__url=i;try{e.apply(this,[t,i,n])}catch(r){r.message.indexOf("Access is denied")>-1&&(this.__origError=r,e.apply(this,[t,"_fix_for_ie_crossdomain__",n]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){o(this);var n=i(this);n instanceof Function&&n(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var i=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var o=arguments[0],r={url:i.__url,jsonp:!1,cache:!0,complete:function(e,n){i.__completed=!0,!e&&i.__listeners.load&&i.__listeners.load({type:"load",loaded:i.__loaded,total:i.__total,target:i,lengthComputable:!0}),!e&&i.__listeners.loadend&&i.__listeners.loadend({type:"loadend",loaded:i.__loaded,total:i.__total,target:i,lengthComputable:!0}),"abort"===e&&i.__listeners.abort&&i.__listeners.abort({type:"abort",loaded:i.__loaded,total:i.__total,target:i,lengthComputable:!0}),void 0!==n.status&&t(i,"status",function(){return 0==n.status&&e&&"abort"!==e?500:n.status}),void 0!==n.statusText&&t(i,"statusText",function(){return n.statusText}),t(i,"readyState",function(){return 4}),void 0!==n.response&&t(i,"response",function(){return n.response});var o=n.responseText||(e&&0==n.status&&"abort"!==e?e:void 0);t(i,"responseText",function(){return o}),t(i,"response",function(){return o}),e&&t(i,"err",function(){return e}),i.__fileApiXHR=n,i.onreadystatechange&&i.onreadystatechange(),i.onload&&i.onload()},fileprogress:function(e){if(e.target=i,i.__listeners.progress&&i.__listeners.progress(e),i.__total=e.total,i.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){i.__completed||(i.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:i.__requestHeaders};r.data={},r.files={};for(var s=0;s<o.data.length;s++){var a=o.data[s];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?r.files[a.key]=a.val:r.data[a.key]=a.val}setTimeout(function(){if(!n())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';i.__fileApiXHR=FileAPI.upload(r)},1)}else{if(this.__origError)throw this.__origError;e.apply(i,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,i){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:i})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var e,t,i,o,r,s=document.createElement("script"),a=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)e=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)t=window.FileAPI.jsPath;else for(i=0;i<a.length;i++)if(r=a[i].src,o=r.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),o>-1){t=r.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=t),s.setAttribute("src",e||t+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s),FileAPI.hasFlash=n()}}(),FileAPI.ngfFixIE=function(e,t,o,r){if(!n())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var s=function(){function n(e){var t,i;if(t=i=0,e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while(e=e.offsetParent);return{left:t,top:i}}if(e.attr("disabled"))e.__ngf_elem__.removeClass("js-fileapi-wrapper");else{var l=e.__ngf_elem__;l?o(e.__ngf_elem__):(l=e.__ngf_elem__=t(),l.addClass("js-fileapi-wrapper"),!i(e),setTimeout(function(){l.bind("mouseenter",s)},10),l.bind("change",function(e){a.apply(this,[e]),r.apply(this,[e])})),i(e)||l.css("position","absolute").css("top",n(e[0]).top+"px").css("left",n(e[0]).left+"px").css("width",e[0].offsetWidth+"px").css("height",e[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",e.css("display")).css("overflow","hidden").css("z-index","900000")}};e.bind("mouseenter",s);var a=function(e){for(var t=FileAPI.getFiles(e),i=0;i<t.length;i++)void 0===t[i].size&&(t[i].size=0),void 0===t[i].name&&(t[i].name="file"),void 0===t[i].type&&(t[i].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!=t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,i){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(i)},this.removeEventListener=function(t,i){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(i),1)},this.dispatchEvent=function(t){var i=e.listeners[t.type];if(i)for(var n=0;n<i.length;n++)i[n].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var i=function(t,i){var n={type:t,target:e,loaded:i.loaded,total:i.total,error:i.error};return null!=i.result&&(n.target.result=i.result),n},n=function(n){if(t||(t=!0,e.onloadstart&&e.onloadstart(i("loadstart",n))),"load"===n.type){e.onloadend&&e.onloadend(i("loadend",n));var o=i("load",n);e.onload&&e.onload(o),e.dispatchEvent(o)}else if("progress"===n.type){var o=i("progress",n);e.onprogress&&e.onprogress(o),e.dispatchEvent(o)}else{var o=i("error",n);e.onerror&&e.onerror(o),e.dispatchEvent(o)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,n)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,n)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,n)},this.readAsText=function(e){FileAPI.readAsText(e,n)}})}(),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,i,n,s,a){function l(){return"input"===t[0].tagName.toLowerCase()&&t.attr("type")&&"file"===t.attr("type").toLowerCase()}function c(t){if(!m){m=!0;try{for(var l=t.__files_||t.target&&t.target.files,c=[],u=[],h=0;h<l.length;h++){var d=l.item(h);r(e,s,i,d,t)?c.push(d):u.push(d)}o(s,a,e,n,i,f,c,u,t),0==c.length&&(t.target.value=c)}finally{m=!1}}}function u(n){i.ngfMultiple&&n.attr("multiple",s(i.ngfMultiple)(e)),s(i.ngfMultiple)(e)||n.attr("multiple",void 0),i.accept&&n.attr("accept",i.accept),i.ngfCapture&&n.attr("capture",s(i.ngfCapture)(e)),i.ngfDisabled&&n.attr("disabled",s(i.ngfDisabled)(e));for(var o=0;o<t[0].attributes.length;o++){var r=t[0].attributes[o];"type"!==r.name&&"class"!==r.name&&"id"!==r.name&&"style"!==r.name&&n.attr(r.name,r.value)}}function h(){if(!t.attr("disabled")){var e=angular.element('<input type="file">');return u(e),l()?(t.replaceWith(e),t=e):(e.css("display","none").attr("tabindex","-1").attr("__ngf_gen__",!0),t.__ngf_ref_elem__&&t.__ngf_ref_elem__.remove(),t.__ngf_ref_elem__=e,document.body.appendChild(e[0])),e}}function d(t){o(s,a,e,n,i,f,[],[],t,!0)}function p(e){function i(){n[0].click(),l()&&(t.bind("click touchend",p),e.preventDefault())}e.preventDefault();var n=h(e);n&&(n.bind("change",c),d(e),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){i()},0):i())}var f=i.ngfChange||i.ngfSelect&&i.ngfSelect.indexOf("(")>0,m=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(t,h,u,c,d):t.bind("click touchend",p)}function i(e,t,i,s,a,l,c){function u(e,t,i){var n=!0,o=i.dataTransfer.items;if(null!=o)for(var s=0;s<o.length&&n;s++)n=n&&("file"==o[s].kind||""==o[s].kind)&&r(e,a,t,o[s],i);var l=a(t.ngfDragOverClass)(e,{$event:i});return l&&(l.delay&&(g=l.delay),l.accept&&(l=n?l.accept:l.reject)),l||t.ngfDragOverClass||"dragover"}function h(t,n,o,s){function u(n){r(e,a,i,n,t)?d.push(n):p.push(n)}function h(e,t,i){if(null!=t)if(t.isDirectory){var n=(i||"")+t.name;u({name:t.name,type:"directory",path:n});var o=t.createReader(),r=[];m++;var s=function(){o.readEntries(function(n){try{if(n.length)r=r.concat(Array.prototype.slice.call(n||[],0)),s();else{for(var o=0;o<r.length;o++)h(e,r[o],(i?i:"")+t.name+"/");m--}}catch(a){m--,console.error(a)}},function(){m--})};s()}else m++,t.file(function(e){try{m--,e.path=(i?i:"")+e.name,u(e)}catch(t){m--,console.error(t)}},function(){m--})}var d=[],p=[],f=t.dataTransfer.items,m=0;if(f&&f.length>0&&"file"!=c.protocol())for(var g=0;g<f.length;g++){if(f[g].webkitGetAsEntry&&f[g].webkitGetAsEntry()&&f[g].webkitGetAsEntry().isDirectory){var v=f[g].webkitGetAsEntry();if(v.isDirectory&&!o)continue;null!=v&&h(d,v)}else{var b=f[g].getAsFile();null!=b&&u(b)}if(!s&&d.length>0)break}else{var _=t.dataTransfer.files;if(null!=_)for(var g=0;g<_.length&&(u(_.item(g)),s||!(d.length>0));g++);}var y=0;!function w(e){l(function(){if(m)10*y++<2e4&&w(10);else{if(!s&&d.length>1){for(g=0;"directory"==d[g].type;)g++;d=[d[g]]}n(d,p)}},e||0)}()}var d=n();if(i.dropAvailable&&l(function(){e[i.dropAvailable]?e[i.dropAvailable].value=d:e[i.dropAvailable]=d}),!d)return void(1==a(i.ngfHideOnDropNotAvailable)(e)&&t.css("display","none"));var p,f=null,m=a(i.ngfStopPropagation),g=1,v=(a(i.ngfAccept),a(i.ngfDisabled));t[0].addEventListener("dragover",function(n){if(!v(e)){if(n.preventDefault(),m(e)&&n.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var o=n.dataTransfer.effectAllowed;n.dataTransfer.dropEffect="move"===o||"linkMove"===o?"move":"copy"}l.cancel(f),e.actualDragOverClass||(p=u(e,i,n)),t.addClass(p)}},!1),t[0].addEventListener("dragenter",function(t){v(e)||(t.preventDefault(),m(e)&&t.stopPropagation())},!1),t[0].addEventListener("dragleave",function(){v(e)||(f=l(function(){t.removeClass(p),p=null},g||1))},!1),t[0].addEventListener("drop",function(n){v(e)||(n.preventDefault(),m(e)&&n.stopPropagation(),t.removeClass(p),p=null,h(n,function(t,r){o(a,l,e,s,i,i.ngfChange||i.ngfDrop&&i.ngfDrop.indexOf("(")>0,t,r,n)},0!=a(i.ngfAllowDir)(e),i.multiple||a(i.ngfMultiple)(e)))},!1)}function n(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}function o(e,t,i,n,o,r,s,a,l,c){function u(){n&&(e(o.ngModel).assign(i,s),t(function(){n&&n.$setViewValue(null!=s&&0==s.length?null:s)})),o.ngModelRejected&&e(o.ngModelRejected).assign(i,a),r&&e(r)(i,{$files:s,$rejectedFiles:a,$event:l})}c?u():t(function(){u()})}function r(e,t,i,n,o){var r=t(i.ngfAccept),a=t(i.ngfMaxSize)(e)||9007199254740991,l=t(i.ngfMinSize)(e)||-1,c=r(e,{$file:n,$event:o}),u=!1;if(null!=c&&angular.isString(c)){var h=new RegExp(s(c),"gi");u=null!=n.type&&n.type.match(h)||null!=n.name&&n.name.match(h)}return(null==c||u)&&(null==n.size||n.size<a&&n.size>l)}function s(e){if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])return e.substring(1,e.length-1);var t=e.split(","),i="";if(t.length>1)for(var n=0;n<t.length;n++)i+="("+s(t[n])+")",n<t.length-1&&(i+="|");else 0==e.indexOf(".")&&(e="*"+e),i="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",i=i.replace(/\\\*/g,".*").replace(/\\\?/g,".");return i}var a;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){var n=i(this);n instanceof Function&&n(this)}else e.apply(this,arguments)}});var l=angular.module("ngFileUpload",[]);l.version="4.0.4",l.service("Upload",["$http","$q","$timeout",function(e,t,i){function n(n){n.method=n.method||"POST",n.headers=n.headers||{},n.transformRequest=n.transformRequest||function(t,i){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](t,i)};var o=t.defer(),r=o.promise;return n.headers.__setXHR_=function(){return function(e){e&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,o.notify?o.notify(e):r.progress_fn&&i(function(){r.progress_fn(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,o.notify?o.notify(e):r.progress_fn&&i(function(){r.progress_fn(e)}))},!1))}},e(n).then(function(e){o.resolve(e)},function(e){o.reject(e)},function(e){o.notify(e)}),r.success=function(e){return r.then(function(t){e(t.data,t.status,t.headers,n)}),r},r.error=function(e){return r.then(null,function(t){e(t.data,t.status,t.headers,n)}),r},r.progress=function(e){return r.progress_fn=e,r.then(null,null,function(t){e(t)}),r},r.abort=function(){return n.__XHR&&i(function(){n.__XHR.abort()}),r},r.xhr=function(e){return n.xhrFn=function(t){return function(){t&&t.apply(r,arguments),e.apply(r,arguments)}}(n.xhrFn),r},r}this.upload=function(e){return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var i=new FormData,n={};for(a in e.fields)e.fields.hasOwnProperty(a)&&(n[a]=e.fields[a]);if(t&&(n.data=t),e.formDataAppender)for(a in n)n.hasOwnProperty(a)&&e.formDataAppender(i,a,n[a]);else for(a in n)if(n.hasOwnProperty(a)){var o=n[a];void 0!==o&&(angular.isDate(o)&&(o=o.toISOString()),angular.isString(o)?i.append(a,o):e.sendObjectsAsJsonBlob&&angular.isObject(o)?i.append(a,new Blob([o],{type:"application/json"})):i.append(a,JSON.stringify(o)))}if(null!=e.file){var r=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var s=angular.isString(r),l=0;l<e.file.length;l++)i.append(s?r:r[l],e.file[l],e.fileName&&e.fileName[l]||e.file[l].name);else i.append(r,e.file,e.fileName||e.file.name)}return i}),n(e)},this.http=function(e){return n(e)}}]),l.directive("ngfSelect",["$parse","$timeout","$compile",function(e,i,n){return{restrict:"AEC",require:"?ngModel",link:function(o,r,s,a){t(o,r,s,a,e,i,n)}}}]),l.directive("ngfDrop",["$parse","$timeout","$location",function(e,t,n){return{restrict:"AEC",require:"?ngModel",link:function(o,r,s,a){i(o,r,s,a,e,t,n)}}}]),l.directive("ngfNoFileDrop",function(){return function(e,t){n()&&t.css("display","none")}}),l.directive("ngfDropAvailable",["$parse","$timeout",function(e,t){return function(i,o,r){if(n()){var s=e(r.ngfDropAvailable);t(function(){s(i),s.assign&&s.assign(i,!0)})}}}]),l.directive("ngfThumbnail",["$parse","$timeout",function(e,t){return{restrict:"AE",link:function(e,i,n){window.FileReader&&e.$watch(n.ngfThumbnail,function(e){e&&e.type.indexOf("image")>-1?t(function(){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(function(){i.attr("src",e.target.result)})}}):i.attr("src","")})}}}])}(),angular.module("globalsModule",[]).factory("globals",["$rootScope","$log","$location","$injector",function(e,t,i,n){var o={},r="http://"+location.hostname+":8080/irods-cloud-backend/";o.backendUrl=function(e){var i=r+e;return t.info("computed URL:"+i),i},e.selectDashboardView=function(){t.info("going to Dashboard View"),i.url("/dashboard/")},e.selectHierView=function(){t.info("going to Hierarchical View"),i.url("/home")},e.selectSearchView=function(e){if(e)t.info("going to Dashboard View"),i.url("/search/?query_id="+e);else{var n=uuid.v1();t.info("going to Dashboard View"),i.url("/search/?query_id="+n)}},e.get_query_params=function(e){return $http({method:"GET",url:$globals.backendUrl("metadataQuery"),params:{uniqueName:e}}).success(function(e){$scope.query_vc=e;var t=$scope.query_vc.queryString;$scope.query_params=JSON.parse(t),$scope.search_objs="BOTH"})};var s="yes";e.side_nav_toggle=function(){"no"==s?(s="yes",$(".side_nav_options").animate({opacity:"0"}),$("#side_nav").addClass("collapsed_nav"),$("#side_nav").removeClass("uncollapsed_nav"),$("#main_contents").addClass("uncollapsed_main_contents"),$("#main_contents").removeClass("collapsed_main_contents")):"yes"==s&&(s="no",$("#side_nav").addClass("uncollapsed_nav"),$("#side_nav").removeClass("collapsed_nav"),$("#main_contents").addClass("collapsed_main_contents"),$("#main_contents").removeClass("uncollapsed_main_contents"),$(".side_nav_options").animate({opacity:"1"}))};var a;e.side_nav_autotoggle=function(t){"off"==t?"no"==s&&(a=setTimeout(e.side_nav_toggle,1e3)):"on"==t&&clearTimeout(a)},e.logout_func=function(){var e;return e||(e=n.get("$http")),e({method:"POST",url:o.backendUrl("logout")}).then(function(){i.path("/login").search({})})};var l=navigator.userAgent.toLowerCase();return l.indexOf("safari")!=-1&&l.indexOf("chrome")>-1,o.lastPath=null,o.loggedInIdentity=null,o.setLastPath=function(e){this.lastPath=e},o.getLastPath=function(){return this.lastPath},o.getLoggedInIdentity=function(){return this.loggedInIdentity},o.setLoggedInIdentity=function(e){this.loggedInIdentity=e},o.sanitizeCollName=function(e){if(!e)throw"no collName provided";return encodeURIComponent(e)},o}]).factory("breadcrumbsService",function(e,t){var i={};return i.currentAbsolutePath=null,i.pathComponents=[],i.setCurrentAbsolutePath=function(e){return e?(this.currentAbsolutePath=e,t.info("path:"+e),this.pathComponents=this.pathToArray(e),void t.info("path components set:"+this.pathComponents)):void this.clear()},i.pathToArray=function(e){if(!e)return t.info("no pathin"),[];var i=e.split("/");return t.info("array orig is:"+i),0==i.length?[]:(i.shift(),i)},i.buildPathUpToIndex=function(e){var i=this.getWholePathComponents();if(!i)throw t.error("no path components, cannot go to breadcrumb"),"cannot build path";for(var n="",o=0;o<=e;o++)i[o]&&(n=n+"/"+i[o]);return t.info("got total path:"+n),n},i.getWholePathComponents=function(){return this.pathComponents?this.pathComponents:[]},i.clear=function(){this.currentAbsolutePath=null,this.pathComponents=[]},i}),angular.module("httpInterceptorModule",[]).factory("myHttpResponseInterceptor",["$q","$location","$log","MessageService","globals",function(e,t,i,n,o){return{request:function(t){return $(".spinning_wheel").fadeIn(),t||e.when(t)},requestError:function(t){return console.log(t),e.reject(t)},response:function(t){return $(".spinning_wheel").fadeOut(),i.info(t),t||e.when(t)},responseError:function(r){console.log(r),i.error(r);var s=r.status;if(i.info("status for rejection:"+s),$(".spinning_wheel").fadeOut(),0==s);else if(500==s){if(i.info("internal server error"),"/search"!=t.path()){r.data.error.localizedMessage.startsWith("no virtual collections")&&t.path("/home/My Home"),o.setLastPath(t.path());var a=r.data.error.localizedMessage;return a||(a="An error occurred"),n.error(a),e.reject(r)}}else if(401==s)"/login"!=t.path()&&(i.info("intercepted unauthorized, save the last path"),o.setLastPath(t.path()),i.info("saved last path:"+t.path()),n.warn("Please log in")),t.path("/login");else{if(400==s){var l=r.data.errors.errors.length;if(l>0)for(var c=0;c<l;c++)n.warn(r.data.errors.errors[c].message);return e.reject(r)}if(r&&r.data){if(r.data.error)var u=r.data.error.localizedMessage;u&&null!=u||(u="unknown exception occurred"),i.error("unknown exception, message is:"+u),n.error(u)}else{var u="unknown exception occurred";i.error("unknown exception, but with rejection, which was:"+r.data),n.error(u)}}return e.reject(r)}}}]).config(["$httpProvider",function(e){e.interceptors.push("myHttpResponseInterceptor")}]),angular.module("myApp.dashboard",["ngRoute","ngFileUpload","ng-context-menu","ui.codemirror"]).config(["$routeProvider",function(e){e.when("/dashboard/:vcName",{templateUrl:"dashboard/dashboard.html",controller:"dashboardCtrl",resolve:{selectedVc:function(e,t){var i=t.listUserVirtualCollectionData(e.current.params.vcName);return i},pagingAwareCollectionListing:function(e,t){var i=e.current.params.vcName,n=e.current.params.path;
return null==n&&(n=""),t.listCollectionContents(i,n,0)}}}).when("/dashboard",{templateUrl:"dashboard/dashboard.html",controller:"dashboardCtrl",resolve:{selectedVc:function(e){return null},pagingAwareCollectionListing:function(e,t){return{}}}})}]).directive("onLastRepeat",function(){return function(e,t,i){e.$last&&setTimeout(function(){e.$emit("onRepeatLast",t,i)},1)}}).directive("ngDoubleTap",function(){return function(e,t,i){var n;n=!1,t.bind("touchstart",function(e){t.addClass("active"),n=!0}),t.bind("touchmove",function(e){t.removeClass("active"),n=!1}),t.bind("touchend",function(o){t.removeClass("active"),n&&("yes"==e.tapped?e.$apply(i.ngDoubleTap,t):e.tapped="yes",e.explode=function(){e.tapped="no"},setTimeout(e.explode,300))})}}).controller("dashboardCtrl",["$scope","Upload","$log","$http","$location","MessageService","globals","breadcrumbsService","downloadService","virtualCollectionsService","collectionsService","fileService","selectedVc","pagingAwareCollectionListing",function(e,t,i,n,o,r,s,a,l,c,u,h,d,p){e.selectedVc=d,e.pagingAwareCollectionListing=p.data,e.$on("onRepeatLast",function(e,t,i){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$(".ui-selectee").on("tap",function(e){var t=$("#select-result").empty();if(e.preventDefault(),$(e.target).hasClass("ui-selected")?$(e.target).removeClass("ui-selected"):$(e.target).addClass("ui-selected"),$(".ui-selected").length>1)t.append($(".ui-selected").length+" files");else if(1==$(".ui-selected").length){var i=$(".ui-selected").text();t.append(i)}else 0==$(".ui-selected").length}):$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected");var e=$("#select-result").empty();if($(".copy_list_item.ui-selected").length>1&&$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected"),$("li.ui-selected").length>1)e.append($(".ui-selected").length+" files"),$(".download_button").fadeIn(),$(".download_divider").fadeIn(),$(".rename_button").fadeOut(),$(".rename_divider").fadeOut(),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$("li.ui-selected").length){var t=$(".ui-selected").children(".list_content").children(".data_object").text();e.append(t),$(".download_button").fadeIn(),$(".rename_button").fadeIn(),$(".rename_divider").fadeIn(),$(".download_divider").fadeIn(),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()}else 0==$("li.ui-selected").length&&($(".download_button").fadeOut(),$(".rename_button").fadeOut(),$(".rename_divider").fadeOut(),$(".download_divider").fadeOut(),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}}),$(".grid").masonry()}),e.$watch("files",function(){e.upload(e.files)}),e.multiple=!0,e.upload=function(n){if(n&&n.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var o=0;o<n.length;o++){var r=n[o];$(".upload_container_result ul").append('<li id="uploading_item_'+o+'" class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+r.name+"</div></li>"),t.upload({url:s.backendUrl("file"),fields:{collectionParentName:e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath},file:r}).progress(function(e){var t=parseInt(100*e.loaded/e.total);i.info(t)}).success(function(e,t,i,n){console.log("file "+n.file.name+"uploaded. Response: "+e)})}}},e.listVirtualCollections=function(){return i.info("getting virtual colls"),n({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(t){e.virtualCollections=t}).error(function(){e.virtualCollections=[]})},e.selectVirtualCollection=function(e,t){return i.info("selectVirtualCollection()"),e?(i.info("list vc contents for vc name:"+e),o.path("/dashboard/"+e),void o.search("path",t)):void r.danger("missing vcName")},e.getBreadcrumbPaths=function(){return e.pagingAwareCollectionListing?(a.setCurrentAbsolutePath(e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath),a.getWholePathComponents()):[]},e.pagingAwareCollectionListing&&e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents&&(e.current_collection_index=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.length-1),e.delete_action=function(){var e=$(".ui-selected"),t="";return e.each(function(){void 0!=$(this).attr("id")&&(t+="path="+$(this).attr("id")+"&")}),t=t.substring(0,t.length-1),i.info("Deleting:"+t),n({method:"DELETE",url:s.backendUrl("file")+"?"+t}).success(function(e){alert("Deletion completed"),location.reload()})},e.rename_action=function(){var e=$(".ui-selected").attr("id"),t=$("#new_renaming_name").val();return i.info("Renaming:"+e),n({method:"PUT",url:s.backendUrl("rename"),params:{path:e,newName:t}}).success(function(e){location.reload()})},e.create_collection_action=function(){var t=$("#new_collection_name").val();return i.info("Adding:"+t),n({method:"PUT",url:s.backendUrl("file")+"?path="+e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath+"/"+t}).success(function(e){location.reload()})},e.getDownloadLink=function(){$(".list_content").removeClass("ui-selected");var e=$(".ui-selected");i.info(e);var t="";if(1==e.length){var n=$(".ui-selected").attr("id");window.open(s.backendUrl("download")+"?path="+n,"_blank")}else e.each(function(){if(void 0!=$(this).attr("id")){var e=$(this).attr("id");t+="path="+e+"&"}}),t=t.substring(0,t.length-1),window.open(s.backendUrl("download")+"?"+t,"_blank")},e.copy_pop_up_open=function(){return $(".pop_up_window").fadeIn(100),e.name_of_selection=$(".ui-selected"),e.name_of_selection.each(function(){void 0!=$(this).attr("id")&&($(this).hasClass("data_true")?$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+$(this).attr("id")+"</div></li>"):$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/collection_icon.png">'+$(this).attr("id")+"</div></li>"))}),$(".copier").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(t){e.copy_vc_list=t}).error(function(){alert("Something went wrong while fetching the Virtual Collections"),e.copy_vc_list=[]})},e.copy_list_refresh=function(t,i){return e.copyVC=t,n({method:"GET",url:s.backendUrl("collection/")+t,params:{path:i,offset:0}}).success(function(t){e.copy_list=t}).error(function(){alert("Something went wrong while fetching the contents of the Collection"),e.copy_list=[]})},e.create_pop_up_open=function(){$(".pop_up_window").fadeIn(100),$(".creater").fadeIn(100)},e.rename_pop_up_open=function(){$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100);var e=$(".ui-selected").children(".list_content").children(".data_object").text();$(".selected_object").append(e)},e.upload_pop_up_open=function(){$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},e.delete_pop_up_open=function(){$(".pop_up_window").fadeIn(100);var e=$(".ui-selected");e.each(function(){void 0!=$(this).attr("id")&&$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+$(this).attr("id")+"</div></li>")}),$(".deleter").fadeIn(100)},e.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(100,function(){$(".upload_container").css("display","block"),$(".upload_container_result").html("<ul></ul>"),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),location.reload()})},e.goToBreadcrumb=function(e){return e?(o.path("/dashboard/root"),void o.search("path",a.buildPathUpToIndex(e))):void i.error("cannot go to breadcrumb, no index")};var f="yes";e.side_nav_toggle=function(){"no"==f?(f="yes",$(".side_nav_options").animate({opacity:"0"}),$("#side_nav").addClass("collapsed_nav"),$("#side_nav").removeClass("uncollapsed_nav"),$("#main_contents").addClass("uncollapsed_main_contents"),$("#main_contents").removeClass("collapsed_main_contents")):"yes"==f&&(f="no",$("#side_nav").addClass("uncollapsed_nav"),$("#side_nav").removeClass("collapsed_nav"),$("#main_contents").addClass("collapsed_main_contents"),$("#main_contents").removeClass("uncollapsed_main_contents"),$(".side_nav_options").animate({opacity:"1"}))};var m;e.side_nav_autotoggle=function(t){"off"==t?"no"==f&&(m=setTimeout(e.side_nav_toggle,1e3)):"on"==t&&clearTimeout(m)},e.listVirtualCollections(),e.selectProfile=function(e){i.info("going to Data Profile"),e||(i.error("missing irodsAbsolutePath"),r.danger("missing irodsAbsolutePath")),o.url("/profile/"),o.search("path",e)},e.selectDashboardView=function(){i.info("going to Dashboard View"),o.url("/dashboard/")},e.selectHierView=function(){i.info("going to Hierarchical View"),o.url("/home/")},e.selectSearchView=function(){i.info("going to Dashboard View"),o.url("/search/")}}]),angular.module("myApp.edit",["ngRoute"]).config(["$routeProvider",function(e){e.when("/edit",{templateUrl:"edit/edit.html",controller:"editCtrl",resolve:{dataProfile:function(e,t){var i=t.retrieveDataProfile(e.current.params.path);return i}}})}]).directive("onLastRepeat",function(){return function(e,t,i){e.$last&&setTimeout(function(){e.$emit("onRepeatLast",t,i)},1)}}).controller("editCtrl",["$scope","$log","Upload","$http","$location","MessageService","globals","breadcrumbsService","virtualCollectionsService","collectionsService","fileService","metadataService","dataProfile",function(e,t,i,n,o,r,s,a,l,c,u,h,d){e.dataProfile=d,e.pop_up_form="",e.initial_file_content="",e.initial_rule_string="",e.file_content="",e.rule_object="",e.rule_results_raw="",e.get_file_content=function(){return t.info("getting file content"),n({method:"GET",url:s.backendUrl("fileEdit"),params:{irodsPath:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.file_content=t,e.initial_file_content=t}).error(function(){e.file_content=""})},e.get_rule_string=function(){return t.info("getting rule object"),n({method:"GET",url:s.backendUrl("rawRule"),params:{irodsPath:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.rule_string=t,e.initial_rule_string_body=e.rule_string.ruleText,e.initial_rule_string=t}).error(function(){e.rule_string=""})},e.exec_rule=function(){return t.info("executing rule"),n({method:"POST",url:s.backendUrl("ruleExecution"),params:{rule:e.rule_string.ruleText}}).success(function(t){e.rule_results_raw=t})},e.save_rule=function(){return t.info("saving rule"),n({method:"POST",url:s.backendUrl("rawRule"),params:{irodsPath:e.dataProfile.parentPath+"/"+e.dataProfile.childName,rule:e.rule_string.ruleText}}).success(function(){r.success("Rule saved!"),e.get_rule_string()})},e.reload_file_content=function(){e.get_file_content()},e.reload_rule_string=function(){e.get_rule_string(),e.rule_results_raw=""},"text/plain"==e.dataProfile.mimeType?e.editorOptions={lineWrapping:!1,lineNumbers:!0}:"application/xml"==e.dataProfile.mimeType?e.editorOptions={lineWrapping:!1,lineNumbers:!0,mode:{name:"xml",typescript:!0}}:"application/irods-rule"==e.dataProfile.mimeType&&(e.editorOptions={lineWrapping:!1,lineNumbers:!0,mode:{name:"javascript",typescript:!0}}),e.resultsOptions={lineWrapping:!0,lineNumbers:!0,readOnly:!0,mode:{name:"javascript",typescript:!0}},n({method:"GET",url:s.backendUrl("collection/")+"root",params:{path:e.dataProfile.parentPath,offset:0}}).then(function(t){e.copy_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("virtualCollection/")+"root"})}).then(function(t){e.copyVC=t,e.getBreadcrumbPaths()}),e.getBreadcrumbPaths=function(){e.breadcrumb_full_array=e.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),e.breadcrumb_full_array.shift(),e.breadcrumb_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_full_array.length;i++)t=t+"/"+e.breadcrumb_full_array[i],e.breadcrumb_full_array_paths.push({b:e.breadcrumb_full_array[i],path:t});e.breadcrumb_full_array.length>5?e.breadcrumb_compressed_array=e.breadcrumb_full_array_paths.splice(0,e.breadcrumb_full_array_paths.length-5):e.breadcrumb_compressed_array=[]},e.goToBreadcrumb=function(e){return e?(o.path("/home/root"),void o.search("path",e)):void t.error("cannot go to breadcrumb, no path")},e.$on("onRepeatLast",function(t,i,n){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var t=$("#select-result").empty();$(".dropdown").removeClass("open");var i=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)t.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){e.selected_target=$(".general_list_item .ui-selected").attr("id");var r="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==r)var r="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();t.append(r),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),e.go_back=function(){e.file_content!=e.initial_file_content||e.rule_string.ruleText!=e.initial_rule_string_body?confirm("Are you sure you want to leave this page without saving your changes?")&&window.history.go(-1):window.history.go(-1)},e.listVirtualCollections=function(){return t.info("getting virtual colls"),n({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(t){e.virtualCollections=t}).error(function(){e.virtualCollections=[]})},e.listVirtualCollections();var p="yes";e.side_nav_toggle=function(){"no"==p?(p="yes",$(".side_nav_options").animate({opacity:"0"}),$("#side_nav").addClass("collapsed_nav"),$("#side_nav").removeClass("uncollapsed_nav"),$("#main_contents").addClass("uncollapsed_main_contents"),$("#main_contents").removeClass("collapsed_main_contents")):"yes"==p&&(p="no",$("#side_nav").addClass("uncollapsed_nav"),$("#side_nav").removeClass("collapsed_nav"),$("#main_contents").addClass("collapsed_main_contents"),$("#main_contents").removeClass("uncollapsed_main_contents"),$(".side_nav_options").animate({opacity:"1"}))};var f;e.side_nav_autotoggle=function(t){"off"==t?"no"==p&&(f=setTimeout(e.side_nav_toggle,1e3)):"on"==t&&clearTimeout(f)},e.$watch("files",function(){e.upload(e.files)}),e.multiple=!0,e.current_page="info_view",e.upload=function(n){if(n&&n.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var o=0;o<n.length;o++){var r=n[o];$(".upload_container_result ul").append('<li id="uploading_item_'+o+'" class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+r.name+"</div></li>"),i.upload({url:s.backendUrl("file"),fields:{collectionParentName:e.dataProfile.parentPath+"/"+e.dataProfile.childName},file:r}).progress(function(e){var i=parseInt(100*e.loaded/e.total);t.info(i)}).success(function(e,t,i,n){console.log("file "+n.file.name+"uploaded. Response: "+e)})}}},e.save_content_action=function(){return t.info("saving file content"),n({method:"POST",url:s.backendUrl("fileEdit"),params:{data:e.file_content,irodsPath:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){r.success("File saved!"),e.get_file_content()}).error(function(){})},e.get_file_content(),e.get_rule_string(),e.delete_action=function(){var i=e.dataProfile.parentPath+"/"+e.dataProfile.childName;return t.info("Deleting:"+i),n({method:"DELETE",url:s.backendUrl("file"),params:{path:i}}).then(function(e){r.info("Deletion completed!"),window.history.back()})},e.rename_action=function(){var i=e.dataProfile.parentPath+"/"+e.dataProfile.childName,o=$("#new_renaming_name").val(),a=window.location,l=String(a).lastIndexOf("%2F"),c=String(a).substr(0,l),c=c+"%2F"+o;t.info("Renaming:"+i);for(var u="yes",h=0;h<e.copy_list.data.collectionAndDataObjectListingEntries.length;h++){var d=e.copy_list.data.collectionAndDataObjectListingEntries[h];o===d.nodeLabelDisplayValue&&(r.danger('There is already an item named "'+o+'", please choose a different name'),u="no",$("#new_renaming_name").addClass("has_error"),$("#new_renaming_name").focus())}"yes"===u&&(t.info("Renaming:"+i),n({method:"PUT",url:s.backendUrl("rename"),params:{path:i,newName:o}}).then(function(e){r.success("Renaming completed!"),location.assign(c)}))},e.copy_action=function(){e.copy_source=e.dataProfile.parentPath+"/"+e.dataProfile.childName,t.info("||||||||||||| copying:"+e.copy_source+" to "+e.copy_target),n({method:"POST",url:s.backendUrl("copy"),params:{sourcePath:e.copy_source,targetPath:e.copy_target,resource:"",overwrite:"false"}}).then(function(){r.success("Copy completed!"),e.pop_up_close_clear()})},e.move_action=function(){e.copy_source=e.dataProfile.parentPath+"/"+e.dataProfile.childName;var i=e.dataProfile.childName,o=window.location,a=String(o).lastIndexOf("="),l=String(o).substr(0,a),l=l+"="+e.copy_target+"%2F"+i;t.info("||||||||||||| moving:"+e.copy_source+" to "+e.copy_target),n({method:"POST",url:s.backendUrl("move"),params:{sourcePath:e.copy_source,targetPath:e.copy_target,resource:"",overwrite:"false"}}).then(function(){r.success("Move completed!"),location.assign(l)})},e.logout_func=function(){var e=n({method:"POST",url:s.backendUrl("logout")}).then(function(){o.path("/login").search({}),s.setLastPath("/home")});return e},e.getCopyBreadcrumbPaths=function(){e.breadcrumb_popup_full_array=e.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),e.breadcrumb_popup_full_array.shift(),e.breadcrumb_popup_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_popup_full_array.length;i++)t=t+"/"+e.breadcrumb_popup_full_array[i],e.breadcrumb_popup_full_array_paths.push({b:e.breadcrumb_popup_full_array[i],path:t});e.breadcrumb_popup_full_array.length>5?e.breadcrumb_popup_compressed_array=e.breadcrumb_popup_full_array_paths.splice(0,e.breadcrumb_popup_full_array_paths.length-5):e.breadcrumb_popup_compressed_array=[]},e.set_path=function(t,i){var n=$(".copy_select_result").empty(),o=t;n.append(o),e.copy_target=i},e.hide_breadcrumbs=function(){$(".dark_back_option_double").removeClass("open")},e.copy_list_refresh=function(t,i){if(""==t)var o="root";else var o=t;n({method:"GET",url:s.backendUrl("collection/")+o,params:{path:i,offset:0}}).then(function(t){e.copy_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("virtualCollection/")+o})}).then(function(t){e.copyVC=t,"COLLECTION"==e.copyVC.data.type&&e.getCopyBreadcrumbPaths()})},$(window).keyup(function(t){"13"==t.keyCode&&("delete"===e.pop_up_form&&(e.pop_up_form="",e.delete_action()),"upload"===e.pop_up_form&&e.upload(),"copy"===e.pop_up_form&&(e.pop_up_form="",e.copy_action()),"move"===e.pop_up_form&&(e.pop_up_form="",e.move_action()),"create"===e.pop_up_form&&(e.pop_up_form="",e.create_collection_action()),"rename"===e.pop_up_form&&(e.pop_up_form="",e.rename_action()))}),e.move_pop_up_open=function(){e.pop_up_form="move",e.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var t=$(".copy_select_result").empty(),i=e.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.copy_source=e.dataProfile.parentPath+"/"+e.dataProfile.childName,e.copy_target=e.dataProfile.parentPath,t.append(o),1==e.dataProfile.file?$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+e.dataProfile.childName+"</div></li>"):$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+e.dataProfile.childName+"</div></li>"),$(".mover").fadeIn(100),$(".mover_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t,e.getCopyBreadcrumbPaths()})},e.copy_pop_up_open=function(){e.pop_up_form="copy",e.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var t=$(".copy_select_result").empty(),i=e.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.copy_source=e.dataProfile.parentPath+"/"+e.dataProfile.childName,e.copy_target=e.dataProfile.parentPath,t.append(o),1==e.dataProfile.file?$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+e.dataProfile.childName+"</div></li>"):$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+e.dataProfile.childName+"</div></li>"),$(".copier").fadeIn(100),$(".copier_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t,e.getCopyBreadcrumbPaths()})},e.upload_pop_up_open=function(){e.pop_up_form="upload",$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},e.rename_pop_up_open=function(){e.pop_up_form="rename",$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100),$("#new_renaming_name").focus();var t=e.dataProfile.childName;$(".selected_object").append(t)},e.delete_pop_up_open=function(){e.pop_up_form="delete",$(".pop_up_window").fadeIn(100),1==e.dataProfile.file?$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">&nbsp;'+e.dataProfile.parentPath+"/"+e.dataProfile.childName+"</div></li>"):$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/collection_icon.png">&nbsp;'+e.dataProfile.parentPath+"/"+e.dataProfile.childName+"</div></li>"),$(".deleter").fadeIn(100)},e.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),e.pop_up_form="",e.files_to_upload=[],e.files_name=[],$("#select-result").empty(),$(".download_button").animate({opacity:"0.1"}),$(".download_button").css("pointer-events","none"),$(".rename_button").animate({opacity:"0.1"}),$(".rename_button").css("pointer-events","none"),$(".rename_divider").animate({opacity:"0.1"}),$(".download_divider").animate({opacity:"0.1"}),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn()})},e.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),$("#new_metadata_attribute").removeClass("has_error"),$("#new_metadata_value").removeClass("has_error"),e.pop_up_form="",e.files_to_upload=[],e.files_name=[]})},e.selectProfile=function(i,n){t.info("going to Data Profile"),i||(t.error("missing irodsAbsolutePath"),r.danger("missing irodsAbsolutePath")),o.url("/profile/"),o.search("path",i),t.info("end: "+i),1==n&&e.$apply()},$(window).mousedown(function(e){switch(e.which){case 1:$(e.target).is("div")&&($(e.target).parents().hasClass("ui-selectee")||$(e.target).parents().hasClass("selection_actions_container")||$(e.target).parents().hasClass("pop_up_window")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn(),$("#select-result").empty()));break;case 3:0!=$(".general_list_item .ui-selected").length&&1!=$(".general_list_item .ui-selected").length||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(e.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})),$(".general_list_item .ui-selected").length>1&&($(e.target).parents("li").hasClass("ui-selected")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(e.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})))}}),e.available_metadata=e.dataProfile.metadata,e.star_action=function(){var t=e.dataProfile.parentPath+"/"+e.dataProfile.childName;u.starFileOrFolder(t).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear(),e.dataProfile.starred=!0})},e.unstar_action=function(){var t=e.dataProfile.parentPath+"/"+e.dataProfile.childName;u.unstarFileOrFolder(t).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear(),e.dataProfile.starred=!1})},e.add_metadata_pop_up=function(){$("#new_metadata_attribute").val(""),$("#new_metadata_value").val(""),$("#new_metadata_unit").val(""),$(".pop_up_window").fadeIn(100),$(".metadata_adder").fadeIn(100)},e.edit_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),$(".metadata_editor").fadeIn(100),$("#edit_metadata_attribute").val($(".metadata_item.ui-selected").children(".metadata_attribute").text()),$("#edit_metadata_value").val($(".metadata_item.ui-selected").children(".metadata_value").text()),$("#edit_metadata_unit").val($(".metadata_item.ui-selected").children(".metadata_unit").text()),e.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),e.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),e.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text()},e.delete_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),e.delete_objects=$(".metadata_item.ui-selected"),e.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),e.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),e.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text(),t.info(e.delete_objects),$(".metadata_delete_container ul").empty(),$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column"><b>ATTRIBUTE</b></div><div class="q_column"><b>VALUE</b></div><div class="q_column"><b>UNIT</b></div></li>'),e.delete_objects.each(function(){$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column">'+$(this).children(".metadata_attribute").text()+'</div><div class="q_column">'+$(this).children(".metadata_value").text()+'</div><div class="q_column">'+$(this).children(".metadata_unit").text()+"</div></li>")}),$(".metadata_deleter").fadeIn(100)},e.metadata_add_action=function(){for(var t=e.dataProfile.parentPath+"/"+e.dataProfile.childName,i=$("#new_metadata_attribute").val(),o=$("#new_metadata_value").val(),a=$("#new_metadata_unit").val(),l="yes",c="yes",u=0;u<e.available_metadata.length;u++){var d=e.available_metadata[u];i===d.avuAttribute&&(l="no"),o===d.avuValue&&(c="no")}"no"==c&&"no"==l?(r.danger('There is already an AVU with Attribute: "'+i+'" and Value: "'+o+'". Please choose a different Attribute or Value'),$("#new_metadata_attribute").addClass("has_error"),$("#new_metadata_value").addClass("has_error"),$("#new_metadata_attribute").focus()):h.addMetadataForPath(t,i,o,a).then(function(){
n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear()})},e.metadata_edit_action=function(){var t=e.dataProfile.parentPath+"/"+e.dataProfile.childName,i=$("#edit_metadata_attribute").val(),o=$("#edit_metadata_value").val(),r=$("#edit_metadata_unit").val();h.updateMetadataForPath(t,e.old_metadata_attribute,e.old_metadata_value,e.old_metadata_unit,i,o,r).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear()})},e.metadata_delete_action=function(){var t=e.dataProfile.parentPath+"/"+e.dataProfile.childName;$("#edit_metadata_attribute").val(),$("#edit_metadata_value").val(),$("#edit_metadata_unit").val();h.deleteMetadataForPath(t,e.old_metadata_attribute,e.old_metadata_value,e.old_metadata_unit).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.parentPath+"/"+e.dataProfile.childName}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear()})},e.green_action_toggle=function(e){var t=e.currentTarget.nextElementSibling,i=e.currentTarget.parentElement;$(t).toggle("normal"),$(i).toggleClass("green_toggle_container_open")},e.getDownloadLink=function(){return s.backendUrl("download")+"?path="+e.dataProfile.domainObject.absolutePath}}]),angular.module("fileModule",[]).factory("fileService",["$http","$log","$q","globals",function(e,t,i,n){return{retrieveDataProfile:function(o){if(t.info("retriveDataProfile()"),!o)throw t.error("absolutePath is missing"),"absolutePath is missing";var r=i.defer();e({method:"GET",url:n.backendUrl("file"),params:{path:o}}).success(function(e,i,n,o){r.resolve(e),t.info("return from call to get fileBasics:"+e)}).error(function(){return null});return r.promise},starFileOrFolder:function(i){if(t.info("starFileOrFolder()"),!i)throw t.error("absolutePath is missing"),"absolutePath is missing";var o=e({method:"PUT",url:n.backendUrl("star"),params:{path:i}}).then(function(e){return t.info(e),e.data});return o},unstarFileOrFolder:function(i){if(t.info("unstarFileOrFolder()"),!i)throw t.error("absolutePath is missing"),"absolutePath is missing";var o=e({method:"DELETE",url:n.backendUrl("star"),params:{path:i}}).then(function(e){return t.info(e),e.data});return o},moveFileOrFolder:function(i,o,r){if(t.info("move()"),!i)throw t.error("sourcePath is missing"),"sourcePath is missing";o||(o=""),r||(r="");var s=e({method:"POST",url:n.backendUrl("move"),params:{sourcePath:i,targetPath:o,resource:r}}).then(function(e){return t(e),e.data});return s},copyFileOrFolder:function(i,o,r,s){if(t.info("copy()"),!i)throw t.error("sourcePath is missing"),"sourcePath is missing";if(!o)throw t.error("targetPath is missing"),"targetPath is missing";r||(r=""),s||(s=!1);var a=e({method:"POST",url:n.backendUrl("copy"),params:{sourcePath:i,targetPath:o,resource:r,overwrite:s}}).then(function(e){return t.info(e),e.data});return a}}}]),angular.module("myApp.home",["ngRoute","ngFileUpload","ng-context-menu","ui.codemirror"]).config(["$routeProvider",function(e,t){e.when("/home/:vcName",{templateUrl:"home/home.html",controller:"homeCtrl",resolve:{selectedVc:function(e,t,i){var n=t.listUserVirtualCollectionData(e.current.params.vcName);return n},pagingAwareCollectionListing:function(e,t,i){var n=e.current.params.vcName,o=e.current.params.path;return null==o&&(o=""),t.listCollectionContents(n,o,0)}}}).when("/home",{templateUrl:"home/home.html",controller:"homeCtrl",resolve:{selectedVc:function(e,t){var i=t.listUserVirtualCollectionData("My Home");return i},pagingAwareCollectionListing:function(e,t){var i="My Home",n=e.current.params.path;return null==n&&(n=""),t.listCollectionContents(i,n,0)}}})}]).directive("onLastRepeat",function(){return function(e,t,i){e.$last&&setTimeout(function(){e.$emit("onRepeatLast",t,i)},1)}}).directive("ngDoubleTap",function(){return function(e,t,i){var n;n=!1,t.bind("touchstart",function(e){t.addClass("active"),n=!0}),t.bind("touchmove",function(e){t.removeClass("active"),n=!1}),t.bind("touchend",function(o){t.removeClass("active"),n&&("yes"==e.tapped?e.$apply(i.ngDoubleTap,t):e.tapped="yes",e.explode=function(){e.tapped="no"},setTimeout(e.explode,300))})}}).filter("iconic",function(){return function(e,t){var i="";if("virtual.collection.default.icon"==e)var i="folder";else if("virtual.collection.icon.starred"==e)var i="star";else if("Text File"==e)var i="file-text-o";else if("XML File"==e)var i="file-o";else if("iRODS Rule"==e)var i="file-code-o";return i}}).controller("homeCtrl",["$scope","Upload","$log","$http","$location","MessageService","globals","breadcrumbsService","downloadService","virtualCollectionsService","collectionsService","fileService","metadataService","selectedVc","pagingAwareCollectionListing",function(e,t,i,n,o,r,s,a,l,c,u,h,d,p,f){e.editorOptions={lineWrapping:!1,lineNumbers:!0,mode:{name:"javascript",typescript:!0}},e.pop_up_form="",e.list_file_templates=function(){return i.info("getting file templates"),n({method:"GET",url:s.backendUrl("fileCreatorTemplate")}).success(function(t){e.file_templates=t}).error(function(){e.file_templates=[]})},e.edittest6,e.list_file_templates(),e.selectedVc=p,e.pagingAwareCollectionListing=f,e.selected_target="",e.$on("onRepeatLast",function(t,i,n){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var t=$("#select-result").empty();$(".dropdown").removeClass("open");var i=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)t.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){e.selected_target=$(".general_list_item .ui-selected").attr("id");var r="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==r)var r="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();t.append(r),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".general_list_item .ui-selected").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),e.$watch("files",function(){e.upload(e.files)}),e.multiple=!0,e.current_page="browsing",e.files_to_upload=[],e.files_name=[],e.copy_source="",e.copy_target="",e.stage_files=function(t){if(t&&t.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var i=0;i<t.length;i++){var n=t[i],o=$.inArray(n.name,e.files_name);0===o?r.danger('There is already a file named "'+n.name+'" on your list'):(e.files_to_upload.push(n),e.files_name.push(n.name),$(".upload_container_result ul").append('<li id="uploading_item_'+i+'" class="light_back_option_even"><div class="col-xs-10 list_content"><i class="fa fa-file-o"></i>&nbsp'+n.name+"</div></li>"))}}},e.upload=function(n){if(e.files_to_upload&&e.files_to_upload.length)for(var o=0;o<e.files_to_upload.length;o++){var a=e.files_to_upload[o];t.upload({url:s.backendUrl("file"),fields:{collectionParentName:n},file:a}).progress(function(e){var t=parseInt(100*e.loaded/e.total);i.info(t)}).then(function(t){return u.listCollectionContents(e.selectedVc.data.uniqueName,e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(t){r.success("Upload completed!"),e.pagingAwareCollectionListing=t,e.pop_up_close_clear(),e.files_to_upload=[],e.files_name=[]})}},e.listVirtualCollections=function(){return i.info("getting virtual colls"),n({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(t){e.virtualCollections=t}).error(function(){e.virtualCollections=[]})},e.selectVirtualCollection=function(t,n,s){return i.info("selectVirtualCollection()"),t?(i.info("list vc contents for vc name:"+t),o.path("/home/"+t),o.search("path",n),void(1==s&&e.$apply())):void r.danger("missing vcName")},e.getBreadcrumbPaths=function(){a.setCurrentAbsolutePath(e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath),e.breadcrumb_full_array=a.getWholePathComponents(),e.breadcrumb_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_full_array.length;i++)t=t+"/"+e.breadcrumb_full_array[i],e.breadcrumb_full_array_paths.push({b:e.breadcrumb_full_array[i],path:t});e.breadcrumb_full_array_paths.length>5&&(e.breadcrumb_compressed_array=e.breadcrumb_full_array_paths.splice(0,e.breadcrumb_full_array_paths.length-5))},e.pagingAwareCollectionListing&&e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents&&(e.current_collection_index=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.length-1),e.goToBreadcrumb=function(e){return e?(o.path("/home/root"),void o.search("path",e)):void i.error("cannot go to breadcrumb, no path")},e.delete_action=function(){var t=$(".ui-selected"),o=[];return t.each(function(){void 0!=$(this).attr("id")&&o.push($(this).attr("id"))}),i.info("Deleting:"+o),n({method:"DELETE",url:s.backendUrl("file"),params:{path:o}}).then(function(t){return u.listCollectionContents(e.selectedVc.data.uniqueName,e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(t){r.info("Deletion completed!"),e.pagingAwareCollectionListing=t,e.listVirtualCollections(),e.pop_up_close_clear()})},e.query_delete_action=function(){return i.info("Deleting:"+e.right_clicked_query),i.info("ID:"+e.right_clicked_query_id),n({method:"DELETE",url:s.backendUrl("virtualCollection/"+encodeURI(e.right_clicked_query_id)),params:{}}).then(function(e){r.info("Deletion completed!"),o.path("/home/My Home")})},e.move_query_to_my_folders=function(){return i.info("Moving:"+e.right_clicked_query),i.info("ID:"+e.right_clicked_query_id),n({method:"POST",url:s.backendUrl("virtualCollection/"+encodeURI(e.right_clicked_query_id)),params:{collType:"USER_HOME"}}).then(function(t){return e.listVirtualCollections()}).then(function(e){r.success("Move completed!")})},e.copy_action=function(){return i.info("||||||||||||| copying:"+e.copy_source+" to "+e.copy_target),n({method:"POST",url:s.backendUrl("copy"),params:{sourcePath:e.copy_source,targetPath:e.copy_target,resource:"",overwrite:"false"}}).then(function(t){return u.listCollectionContents(e.selectedVc.data.uniqueName,e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(t){r.success("Copy completed!"),e.pagingAwareCollectionListing=t,e.pop_up_close_clear()})},e.move_action=function(){return i.info("||||||||||||| moving:"+e.copy_source+" to "+e.copy_target),n({method:"POST",url:s.backendUrl("move"),params:{sourcePath:e.copy_source,targetPath:e.copy_target,resource:"",overwrite:"false"}}).then(function(t){return u.listCollectionContents(e.selectedVc.data.uniqueName,e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(t){r.success("File Successfully moved"),e.pagingAwareCollectionListing=t,e.pop_up_close_clear()})},e.rename_action=function(){for(var t=$("li.ui-selected").attr("id"),o=$("#new_renaming_name").val(),a="yes",l=0;l<e.pagingAwareCollectionListing.collectionAndDataObjectListingEntries.length;l++){var c=e.pagingAwareCollectionListing.collectionAndDataObjectListingEntries[l];o===c.nodeLabelDisplayValue&&(r.danger('There is already an item named "'+o+'", please choose a different name'),a="no",$("#new_renaming_name").addClass("has_error"),$("#new_renaming_name").focus())}"yes"===a&&(i.info("Renaming:"+t),n({method:"PUT",url:s.backendUrl("rename"),params:{path:t,newName:o}}).then(function(t){return u.listCollectionContents(e.selectedVc.data.uniqueName,e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(t){r.success("Renaming completed!"),e.pagingAwareCollectionListing=t,e.pop_up_close_clear()}))},e.create_collection_action=function(){for(var t=$("#new_collection_name").val(),o="yes",a=0;a<e.pagingAwareCollectionListing.collectionAndDataObjectListingEntries.length;a++){var l=e.pagingAwareCollectionListing.collectionAndDataObjectListingEntries[a];t===l.nodeLabelDisplayValue&&(r.danger('There is already a collection named "'+t+'", please choose a different name'),o="no",$("#new_collection_name").focus(),$("#new_collection_name").addClass("has_error"))}if("yes"===o)return i.info("Adding:"+t),n({method:"PUT",url:s.backendUrl("file")+"?path="+s.sanitizeCollName(e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath+"/"+t)}).then(function(t){return u.listCollectionContents(e.selectedVc.data.uniqueName,e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(t){r.success("Collection Added!"),e.pagingAwareCollectionListing=t,e.pop_up_close_clear()})},e.create_file_action=function(){var t=$("#new_file_name").val();return i.info("Adding:"+t+e.file_to_be_created.templateUniqueIdentifier),n({method:"PUT",url:s.backendUrl("fileCreatorTemplate"),params:{parentPath:e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,fileName:t,templateUniqueIdentifier:e.file_to_be_created.templateUniqueIdentifier}}).success(function(i){e.pop_up_close_clear(),e.editFile(e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath+"/"+t)}).error(function(e){r.danger(e)})},e.getDownloadLink=function(){$(".list_content").removeClass("ui-selected");var e=$(".ui-selected");i.info(e);var t="";if(1==e.length){var n=$(".ui-selected").attr("id");window.open(s.backendUrl("download")+"?path="+n,"_blank")}else e.each(function(){if(void 0!=$(this).attr("id")){var e=$(this).attr("id");t+="path="+e+"&"}}),t=t.substring(0,t.length-1),window.open(s.backendUrl("download")+"?"+t,"_blank")},e.green_action_toggle=function(e){var t=e.currentTarget.nextElementSibling,i=e.currentTarget.parentElement;$(t).toggle("normal"),$(i).toggleClass("green_toggle_container_open")},$(window).keyup(function(t){"13"==t.keyCode&&("delete"==e.pop_up_form&&e.delete_action(),"upload"==e.pop_up_form&&e.upload(),"copy"==e.pop_up_form&&e.copy_action(),"move"==e.pop_up_form&&e.move_action(),"create"==e.pop_up_form&&e.create_collection_action(),"file_create"==e.pop_up_form&&e.create_file_action(),"rename"==e.pop_up_form&&e.rename_action())}),e.event_z="",$(window).mousedown(function(t){switch(t.which){case 1:$(t.target).is("div")&&($(t.target).parents().hasClass("ui-selectee")||$(t.target).parents().hasClass("selection_actions_container")||$(t.target).parents().hasClass("pop_up_window")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(".recent_query").removeClass("selected"),$(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn(),$("#select-result").empty(),$(".dropdown").removeClass("open")));break;case 3:$(".dropdown").removeClass("open"),0!=$(".general_list_item .ui-selected").length&&1!=$(".general_list_item .ui-selected").length||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(t.target).parents("li").addClass("ui-selected","fast",function(){var i=$("#select-result").empty();e.selected_target=$(".general_list_item .ui-selected").attr("id");var n="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==n)var n="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();i.append(n),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(t.target).parents("li").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))}),$(t.target).parents("li").hasClass("recent_query")&&(e.right_clicked_query=$(t.target).parents("li").children("span").attr("id"),e.right_clicked_query_id=$(t.target).parents("li").attr("id")),$(t.target).parents("li").hasClass("permanent_folder")&&(e.right_clicked_query=$(t.target).parents("li").children("span").attr("id"),e.right_clicked_query_id=$(t.target).parents("li").attr("id"))),$(".general_list_item .ui-selected").length>1&&($(t.target).parents("li").hasClass("ui-selected")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(t.target).parents("li").addClass("ui-selected","fast",function(){var i=$("#select-result").empty();e.selected_target=$(".general_list_item .ui-selected").attr("id");var n="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==n)var n="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();i.append(n),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(t.target).parents("li").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))})))}}),e.getCopyBreadcrumbPaths=function(){e.breadcrumb_popup_full_array=e.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),e.breadcrumb_popup_full_array.shift(),e.breadcrumb_popup_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_popup_full_array.length;i++)t=t+"/"+e.breadcrumb_popup_full_array[i],e.breadcrumb_popup_full_array_paths.push({b:e.breadcrumb_popup_full_array[i],path:t});e.breadcrumb_popup_full_array.length>5?e.breadcrumb_popup_compressed_array=e.breadcrumb_popup_full_array_paths.splice(0,e.breadcrumb_popup_full_array_paths.length-5):e.breadcrumb_popup_compressed_array=[]},e.set_path=function(t,i){var n=$(".copy_select_result").empty(),o=t;n.append(o),e.copy_target=i},e.copy_list_refresh=function(t,i){if(""==t)var o=e.copyVC.data.uniqueName;else var o=t;n({method:"GET",url:s.backendUrl("collection/")+o,params:{path:i,offset:0}}).then(function(t){e.copy_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("virtualCollection/")+o})}).then(function(t){e.copyVC=t,"COLLECTION"==e.copyVC.data.type&&e.getCopyBreadcrumbPaths()})},e.move_pop_up_open=function(){e.pop_up_form="move",window.scrollTo(0,0),e.copy_source=$(".general_list_item .ui-selected").attr("id"),e.copyVC=e.selectedVc,$(".pop_up_window").fadeIn(100),e.name_of_selection=$(".ui-selected");var t=$(".copy_select_result").empty(),i=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.copy_source=$(".general_list_item .ui-selected").attr("id"),e.copy_target=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,t.append(o),e.name_of_selection.each(function(){void 0!=$(this).attr("id")&&$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-folder folder_listing"></i>&nbsp'+$(this).attr("id")+"</div></li>")}),$(".mover").fadeIn(100),$(".mover_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("collection/")+e.copyVC.data.uniqueName,params:{path:e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,offset:0}})}).then(function(t){e.copy_list=t,e.getCopyBreadcrumbPaths()})},e.copy_pop_up_open=function(){e.pop_up_form="copy",window.scrollTo(0,0),e.copy_source=$(".general_list_item .ui-selected").attr("id"),e.copyVC=e.selectedVc,$(".pop_up_window").fadeIn(100),e.name_of_selection=$(".ui-selected");var t=$(".copy_select_result").empty(),i=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.copy_source=$(".general_list_item .ui-selected").attr("id"),e.copy_target=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,t.append(o),e.name_of_selection.each(function(){void 0!=$(this).attr("id")&&$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-folder folder_listing"></i>&nbsp'+$(this).attr("id")+"</div></li>")}),$(".copier").fadeIn(100),$(".copier_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("collection/")+e.copyVC.data.uniqueName,params:{path:e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,offset:0}})}).then(function(t){e.copy_list=t,e.getCopyBreadcrumbPaths()})},e.create_pop_up_open=function(){e.pop_up_form="create",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".creater").fadeIn(100),$("#new_collection_name").focus()},e.create_file_pop_up_open=function(t){e.pop_up_form="file_create",window.scrollTo(0,0),e.file_to_be_created=t,$(".pop_up_window").fadeIn(100),$(".file_creater").fadeIn(100),$("#new_file_name").focus()},e.rename_pop_up_open=function(){$("li.ui-selected").hasClass("data_true")?e.renaming_item="file":e.renaming_item="folder",e.pop_up_form="rename",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100),$("#new_renaming_name").focus();var t=$("li.ui-selected").children(".list_content").children("span").text();$(".selected_object").append(t)},e.upload_pop_up_open=function(){e.pop_up_form="upload",0==$(".general_list_item .ui-selected").length?(e.upload_path=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,e.upload_paths_array=e.upload_path.split("/"),e.upload_folder_name=e.upload_paths_array[e.upload_paths_array.length-1]):(e.upload_path=$(".general_list_item .ui-selected").attr("id"),e.upload_paths_array=e.upload_path.split("/"),e.upload_folder_name=e.upload_paths_array[e.upload_paths_array.length-1]),window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},e.delete_pop_up_open=function(){e.pop_up_form="delete",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100);var t=$(".ui-selected");t.each(function(){void 0!=$(this).attr("id")&&($(this).hasClass("data_true")?$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-file-o "></i>&nbsp'+$(this).attr("id")+"</div></li>"):$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-folder folder_listing"></i>&nbsp'+$(this).attr("id")+"</div></li>"))}),$(".deleter").fadeIn(100)},e.query_delete_pop_up_open=function(){e.pop_up_form="query_delete",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".query_delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-search folder_listing"></i><span>'+e.right_clicked_query+"</span></div></li>"),$(".query_deleter").fadeIn(100)},e.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$(".query_delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".query_deleter").fadeOut(100),$(".creater").fadeOut(100),$(".file_creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),e.pop_up_form="",e.files_to_upload=[],e.files_name=[],$("#select-result").empty(),$(".download_button").animate({opacity:"0.1"}),$(".download_button").css("pointer-events","none"),$(".rename_button").animate({opacity:"0.1"}),$(".rename_button").css("pointer-events","none"),$(".rename_divider").animate({opacity:"0.1"}),$(".download_divider").animate({opacity:"0.1"}),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn()})},e.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$(".query_delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".query_deleter").fadeOut(100),$(".creater").fadeOut(100),$(".file_creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),e.pop_up_form="",e.files_to_upload=[],e.files_name=[]})},e.listVirtualCollections(),e.getBreadcrumbPaths(),e.selectProfile=function(t,n){i.info("going to Data Profile"),t||(i.error("missing irodsAbsolutePath"),r.danger("missing irodsAbsolutePath")),o.url("/profile/"),o.search("path",t),i.info("end: "+t),1==n&&e.$apply()},e.editFile=function(t,n,s){i.info("going to File edit"),i.info("end: "+t),t||(i.error("missing irodsAbsolutePath"),r.danger("missing irodsAbsolutePath")),o.url("/edit/"),o.search("path",t),i.info("end: "+t),1==n&&e.$apply()},e.hide_breadcrumbs=function(){$(".dark_back_option_double").removeClass("open")}}]).factory("virtualCollectionsService",["$http","$log","globals",function(e,t,i){var n=[],o=[];return{listUserVirtualCollections:function(){return t.info("getting virtual colls"),e({method:"GET",url:i.backendUrl("virtualCollection")}).success(function(e){n=e}).error(function(){n=[]})},listUserVirtualCollectionData:function(r){return t.info("listing virtual collection data"),r?e({method:"GET",url:i.backendUrl("virtualCollection/")+r}).success(function(e){n=e}).error(function(){n=[]}):void(o=[])}}}]).factory("downloadService",["$http","$log","globals",function(e,t,i){return{downloadSingle:function(e){if(t.info("dowloading single"),!e)throw t.error("no path provided"),"no path provided";window.open(i.backendUrl("download")+"?path="+e,"_blank")},downloadBundle:function(e){if(t.info("dowloading bundle"),!path)throw t.error("no path provided"),"no path provided";window.open(i.backendUrl("download")+"?path="+path,"_blank")}}}]).factory("collectionsService",["$http","$log","globals",function(e,t,i){return{selectVirtualCollection:function(e){},listCollectionContents:function(n,o,r){if(t.info("listCollectionContents()"),!n)throw t.error("recVcName is missing"),"reqMcName is missing";o||(o=""),r||(r=0),t.info("requesting vc:"+n+" and path:"+o);var s=e({method:"GET",url:i.backendUrl("collection/")+n,params:{path:o,offset:r}}).then(function(e){return t.info("pagingAwareCollectionListing is:"),t.info(e.data),e.data});return s},addNewCollection:function(e,i){t.info("addNewCollection()")}}}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),
e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){s.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=e(r);t&&t.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),r="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.2",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),s="string"==typeof t?t:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof t?o.to(t):s?o[s]():r.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,o),s=this.interval,a="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),r=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),t.call(r,s),a&&r.data("bs.carousel").to(a),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&r.toggle&&"show"==t&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.2",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var r=t(o),s=r.data("bs.collapse"),a=s?"toggle":e.extend({},o.data(),{trigger:this});i.call(r,a)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(o).remove(),e(r).each(function(){var n=e(this),o=i(n),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.2",s.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=i(o),s=r.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),s=o.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.divider):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),s=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new i(this,s)),"string"==typeof t?r[t](n):s.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.options.backdrop&&n.adjustBackdrop(),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},i.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},i.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),r=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),r="object"==typeof t&&t;(o||"destroy"!=t)&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),h=r[0].offsetWidth,d=r[0].offsetHeight;if(c){var p=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&u.bottom+d>m.bottom?"top":"top"==a&&u.top-d<m.top?"bottom":"right"==a&&u.right+h>m.width?"left":"left"==a&&u.left-h<m.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(g,a);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(t.top=t.top+r-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var h=/top|bottom/.test(i),d=h?2*u.left-o+l:2*u.top-r+c,p=h?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][p],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=this.tip(),s=e.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,s,a,r)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=t.left-r,u=t.left+r+i;c<s.left?o.left=s.left-c:u>s.width&&(o.left=s.left+s.width-u)}return o},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.popover"),r="object"==typeof t&&t;(o||"destroy"!=t)&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.2",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(i,n){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(i).is("body")?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,r)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.2",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",i=0;e.isWindow(this.$scrollElement[0])||(t="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map(function(){var n=e(this),o=n.data("target")||n.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[t]().top+i,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=r[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),a=o&&e.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o);
}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),r="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.2",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=e-n)&&"bottom";var a=null==this.affixed,l=a?o:r.top,c=a?s:t;return null!=i&&o<=i?"top":null!=n&&l+c>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,s=e("body").height();"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,t,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){s.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=e(r);t&&t.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),r="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.2",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),s="string"==typeof t?t:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof t?o.to(t):s?o[s]():r.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,o),s=this.interval,a="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),r=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),t.call(r,s),a&&r.data("bs.carousel").to(a),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&r.toggle&&"show"==t&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.2",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var r=t(o),s=r.data("bs.collapse"),a=s?"toggle":e.extend({},o.data(),{trigger:this});i.call(r,a)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(o).remove(),e(r).each(function(){var n=e(this),o=i(n),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.2",s.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=i(o),s=r.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),s=o.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.divider):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),s=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new i(this,s)),"string"==typeof t?r[t](n):s.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.options.backdrop&&n.adjustBackdrop(),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},i.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},i.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),r=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),r="object"==typeof t&&t;(o||"destroy"!=t)&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),h=r[0].offsetWidth,d=r[0].offsetHeight;if(c){var p=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&u.bottom+d>m.bottom?"top":"top"==a&&u.top-d<m.top?"bottom":"right"==a&&u.right+h>m.width?"left":"left"==a&&u.left-h<m.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(g,a);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(t.top=t.top+r-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var h=/top|bottom/.test(i),d=h?2*u.left-o+l:2*u.top-r+c,p=h?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][p],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=this.tip(),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,s,a,r)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=t.left-r,u=t.left+r+i;c<s.left?o.left=s.left-c:u>s.width&&(o.left=s.left+s.width-u)}return o},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.popover"),r="object"==typeof t&&t;(o||"destroy"!=t)&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.2",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(i,n){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(i).is("body")?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,r)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.2",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",i=0;e.isWindow(this.$scrollElement[0])||(t="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();
var n=this;this.$body.find(this.selector).map(function(){var n=e(this),o=n.data("target")||n.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[t]().top+i,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=r[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),a=o&&e.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),r="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.2",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=r.top)&&"bottom":!(e-n>=o+s)&&"bottom";var a=null==this.affixed,l=a?o:r.top,c=a?s:t;return null!=i&&i>=o?"top":null!=n&&l+c>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,s=e("body").height();"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,t,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,n=e.ui.mouse.prototype,o=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(e){var n=this;!i&&n._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},n._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},n._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},n._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)},n._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var o,r,s,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,r=o.name,!(!t.href||!r||"map"!==o.nodeName.toLowerCase())&&(s=e("img[usemap='#"+r+"']")[0],!!s&&i(s))):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function n(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&t(i,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,r){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?s["inner"+i].call(this):this.each(function(){e(this).css(r,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(r,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,r=e.plugins[t];if(r&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,i)}};var c=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(s){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,r,s,a,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,n,o=u.call(arguments,1),r=0,s=o.length;r<s;r++)for(i in o[r])n=o[r][i],o[r].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,s=u.call(arguments,1),a=this;return r?this.each(function(){var i,r=e.data(this,n);return"instance"===o?(a=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,s),i!==r&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new i(o,this))})),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,r,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},n=t.split("."),t=n.shift(),n.length){for(o=s[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,s){function a(){if(t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):i.bind(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,s=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}});var h=(e.widget,!1);e(document).mouseup(function(){h=!1});e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),h=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),h=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,r,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),t=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,r="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=e.extend({},o);var p,m,g,v,b,_,y=e(o.of),w=e.position.getWithinInfo(o.within),x=e.position.getScrollInfo(w),C=(o.collision||"flip").split(" "),$={};return _=n(y),y[0].preventDefault&&(o.at="left top"),m=_.width,g=_.height,v=_.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(o[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=h.exec(i[0]),t=h.exec(i[1]),$[this]=[e?e[0]:0,t?t[0]:0],o[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===o.at[0]?b.left+=m:"center"===o.at[0]&&(b.left+=m/2),"bottom"===o.at[1]?b.top+=g:"center"===o.at[1]&&(b.top+=g/2),p=t($.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var n,c,u=e(this),h=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),_=i(this,"marginTop"),k=h+f+i(this,"marginRight")+x.width,T=d+_+i(this,"marginBottom")+x.height,S=e.extend({},b),D=t($.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?S.left-=h:"center"===o.my[0]&&(S.left-=h/2),"bottom"===o.my[1]?S.top-=d:"center"===o.my[1]&&(S.top-=d/2),S.left+=D[0],S.top+=D[1],r||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:f,marginTop:_},e.each(["left","top"],function(t,i){e.ui.position[C[t]]&&e.ui.position[C[t]][i](S,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:n,collisionWidth:k,collisionHeight:T,offset:[p[0]+D[0],p[1]+D[1]],my:o.my,at:o.at,within:w,elem:u})}),o.using&&(c=function(e){var t=v.left-S.left,i=t+m-h,n=v.top-S.top,r=n+g-d,l={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:S.left,top:S.top,width:h,height:d},horizontal:i<0?"left":t>0?"right":"center",vertical:r<0?"top":n>0?"bottom":"middle"};m<h&&a(t+i)<m&&(l.horizontal="center"),g<d&&a(n+r)<g&&(l.vertical="middle"),s(a(t),a(i))>s(a(n),a(r))?l.important="horizontal":l.important="vertical",o.using.call(this,e,l)}),u.offset(e.extend(S,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-r-o;t.collisionWidth>r?l>0&&c<=0?(i=e.left+l+t.collisionWidth-r-o,e.left+=l-i):c>0&&l<=0?e.left=o:l>c?e.left=o+r-t.collisionWidth:e.left=o:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-a,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-r-o;t.collisionHeight>r?l>0&&c<=0?(i=e.top+l+t.collisionHeight-r-o,e.top+=l-i):c>0&&l<=0?e.top=o:l>c?e.top=o+r-t.collisionHeight:e.top=o:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,h=c+t.collisionWidth-s-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?(i=e.left+d+p+f+t.collisionWidth-s-r,(i<0||i<a(u))&&(e.left+=d+p+f)):h>0&&(n=e.left-t.collisionPosition.marginLeft+d+p+f-l,(n>0||a(n)<h)&&(e.left+=d+p+f))},top:function(e,t){var i,n,o=t.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,h=c+t.collisionHeight-s-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];u<0?(n=e.top+p+f+m+t.collisionHeight-s-r,(n<0||n<a(u))&&(e.top+=p+f+m)):h>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,(i>0||a(i)<h)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)t.style[s]=n[s];t.appendChild(l),i=a||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,r=o>10&&o<11,t.innerHTML="",i.removeChild(t)}()}();e.ui.position;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),
!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),o=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,r=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,i,n){e.each(n.sortables,function(){var o=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",t),n.dropped=r.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(t),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),r=n.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),r=n.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var o=n.options,r=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+s.offsetHeight-t.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+s.offsetWidth-t.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?r=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(r=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?r=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(r=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var o,r,s,a,l,c,u,h,d,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,b=i.offset.top,_=b+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,c=l+n.snapElements[d].width,u=n.snapElements[d].top-n.margins.top,h=u+n.snapElements[d].height,v<l-m||g>c+m||_<u-m||b>h+m||!e.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(u-_)<=m,r=Math.abs(h-b)<=m,s=Math.abs(l-v)<=m,a=Math.abs(c-g)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=o||r||s||a,"outer"!==f.snapMode&&(o=Math.abs(u-b)<=m,r=Math.abs(h-_)<=m,s=Math.abs(l-g)<=m,a=Math.abs(c-v)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(o||r||s||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=o||r||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,r=n.options,s=e.makeArray(e(r.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(o=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),r=n.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}});e.ui.draggable;e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,o){if(!i.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=r+t.helperProportions.width,l=s+t.helperProportions.height,c=i.offset.left,u=i.offset.top,h=c+i.proportions().width,d=u+i.proportions().height;switch(n){case"fit":return c<=r&&a<=h&&u<=s&&l<=d;case"intersect":return c<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<h&&u<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<d;case"pointer":return e(o.pageY,u,i.proportions().height)&&e(o.pageX,c,i.proportions().width);case"touch":return(s>=u&&s<=d||l>=u&&l<=d||s<u&&l>d)&&(r>=c&&r<=h||a>=c&&a<=h||r<c&&a>h);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,s=e.ui.intersect(t,this,this.options.tolerance,i),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),r.length&&(n=e(r[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}};e.ui.droppable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0||(t[n]=1,o=t[n]>0,t[n]=0,o)},_create:function(){var t,i,n,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),r="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,r;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var i,n,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=e(r.containment).scrollLeft()||0,n+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,o=this.originalMousePosition,r=this.axis,s=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,o,r,s,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,r=n?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return r&&(e.width=t.minWidth),s&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(o[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0
})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,o,r,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=e(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:r,a=l._hasScroll(d)?d.scrollHeight:o,l.parentData={element:d,left:n.left,top:n.top,width:s,height:a}))},resize:function(t){var i,n,o,r,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,h={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,o=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};e(o.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},r=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,o=i.size,r=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,h=Math.round((o.width-r.width)/c)*c,d=Math.round((o.height-r.height)/u)*u,p=r.width+h,f=r.height+d,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=s.top-d):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=s.left-h):((f-u<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=s.top-d):(f=u-t.height,i.size.height=f,i.position.top=s.top+r.height-f),p-c>0?(i.size.width=p,i.position.left=s.left-h):(p=c-t.width,i.size.width=p,i.position.left=s.left+r.width-p))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.shiftKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,o=e.data(this,"selectable-item");if(o)return n=!t.metaKey&&!t.shiftKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return r>a&&(i=a,a=r,r=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>a||i.right<r||i.top>l||i.bottom<s):"fit"===o.tolerance&&(c=i.left>r&&i.right<a&&i.top>s&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.shiftKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.shiftKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return n=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),!o))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],r=this._intersectsWithPointer(n),r&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=e.left,s=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>a&&n+c<l,d="y"===this.options.axis||t+u>r&&t+u<s,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,o,r,s,a=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(r=e(c[n],this.document[0]),o=r.length-1;o>=0;o--)s=e.data(r[o],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,r,s,a,l,c,u=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(o=e(d[i],this.document[0]),n=o.length-1;n>=0;n--)r=e.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(h.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(s=h[i][1],a=h[i][0],n=0,c=a.length;n<c;n++)l=e(a[n]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===n?t._createTrPlaceholder(t.currentItem,o):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,o,r,s,a,l,c,u,h,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,u=d.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,t[h]-l>this.items[n][a]/2&&(c=!0),Math.abs(t[h]-l)<o&&(o=Math.abs(t[h]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,r=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);
return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<o.length;n++)o[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.shiftKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.shiftKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),o=n.uniqueId().attr("id");t.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=o.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),r=o[0]===n[0],s=r&&i.collapsible,a=s?e():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?e():o,newPanel:a};t.preventDefault(),r&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=!s&&this.headers.index(o),this.active=r?e():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,o,r,s=this,a=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){s._toggleComplete(i)};return"number"==typeof h&&(r=h),"string"==typeof h&&(o=h),o=o||h.easing||u.easing,r=r||h.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:r,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:r,easing:o,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==s.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,r,o,d):e.animate(this.showProps,r,o,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,o,r,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,n=this.previousFilter||"",o=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),o===n?r=!0:o=n+o,i=this._filterMenuItems(o),i=r&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),i=this._filterMenuItems(o)),i.length?(this.focus(t,i),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,n=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=r.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,r,s,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.outerHeight(),o<0?this.activeMenu.scrollTop(r+o):o+a>s&&this.activeMenu.scrollTop(r+o-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-o<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}});e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,s="input"===o;this.isMultiLine=!!r||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case r.UP:t=!0,this._keyEvent("previous",o);break;case r.DOWN:t=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,o;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(o=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),n=i.item.attr("aria-label")||o.value,void(n&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.shiftKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});var d,p=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,o=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(o)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];g(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(e(this).addClass("ui-state-active"),d=this,void t.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void e(this).removeClass("ui-state-active");
}).bind("keydown"+this.eventNamespace,function(t){return!i.disabled&&void(t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button;e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,r;n=t.nodeName.toLowerCase(),o="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),r=this._newInst(e(t),o),r.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,r):o&&this._inlineDatepicker(t,r)},_newInst:function(t,i){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,r,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(o=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:o,title:o}):o)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,r=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;o<e.length;o++)e[o].length>i&&(i=e[o].length,n=o);return n},r.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,r){var s,l,c,u,h,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),a(d.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var i,n=e(t),o=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),v===o&&(v=null))},_enableDatepicker:function(t){var i,n,o=e(t),r=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,o=e(t),r=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var o,r,s,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(o=i||{},"string"==typeof i&&(o={},o[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,r=e.datepicker._getInst(t.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv),o[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,o[0]),i=e.datepicker._get(r,"onSelect"),i?(n=e.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.shiftKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.shiftKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.shiftKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.shiftKey||t.metaKey;break;case 36:(t.shiftKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.shiftKey||t.metaKey;break;case 37:(t.shiftKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.shiftKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.shiftKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.shiftKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.shiftKey||t.metaKey;break;case 39:(t.shiftKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.shiftKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.shiftKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.shiftKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.shiftKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.shiftKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);if(e.datepicker._get(o,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.shiftKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,o,r,s,l,c,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),o=e.datepicker._get(i,"beforeShow"),r=o?o.apply(t,[t,i]):{},r!==!1&&(a(i.settings,r),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return s|="fixed"===e(this).css("position"),!s}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),u):i.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),o=n[1],r=17,a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",r*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-s:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+r>c&&c>r?Math.abs(r+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,o,r,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),o=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),n,o):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,r=this._get(s,"onClose"),r&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),r=this._getInst(o[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(t,i,n,o){var r,s=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=e("a",o).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),r=this._getInst(o[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,r=this._get(t,"altField");r&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(r).each(function(){e(this).val(o)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,r,s,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,_=!1,y=function(e){var i=o+1<t.length&&t.charAt(o+1)===e;return i&&o++,i},w=function(e){var t=y(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o="y"===e?n:1,r=new RegExp("^\\d{"+o+","+n+"}"),s=i.substring(l).match(r);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},x=function(t,n,o){var r=-1,s=e.map(y(t)?o:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=t[0],l+=n.length,!1}),r!==-1)return r+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(_)"'"!==t.charAt(o)||y("'")?C():_=!1;else switch(t.charAt(o)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":b=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":y("'")?C():_=!0;break;default:C()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),b>-1)for(g=1,v=b;;){if(r=this._getDaysInMonth(m,g-1),v<=r)break;g++,v-=r}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",d=!1;if(t)for(n=0;n<e.length;n++)if(d)"'"!==e.charAt(n)||l("'")?h+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":h+=c("d",t.getDate(),2);break;case"D":h+=u("D",t.getDay(),o,r);break;case"o":h+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",t.getMonth()+1,2);break;case"M":h+=u("M",t.getMonth(),s,a);break;case"y":h+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=e.charAt(n)}return h},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),r=o,s=this._getFormatConfig(e);try{r=this.parseDate(i,n,s)||o}catch(a){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=o.getFullYear(),s=o.getMonth(),a=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,s))}c=l.exec(i)}return new Date(r,s,a)},s=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return s=s&&"Invalid Date"===s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,r=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),o===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,o,r,s,a,l,c,u,h,d,p,f,m,g,v,b,_,y,w,x,C,$,k,T,S,D,P,A,E,I,O,N,M,L,H,F,j,R=new Date,W=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),z=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,ee=e.drawYear;if(J<0&&(J+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),t=Q&&t<Q?Q:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)J--,J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,J+G,1)),this._getFormatConfig(e)):o,r=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:W,s=U?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),y="",x=0;x<V[0];x++){for(C="",this.maxRows=4,$=0;$<V[1];$++){if(k=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),T=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",V[1]>1)switch($){case 0:S+=" ui-datepicker-group-first",T=" ui-corner-"+(z?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",T=" ui-corner-"+(z?"left":"right");break;default:S+=" ui-datepicker-group-middle",T=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?z?r:n:"")+(/all|right/.test(T)&&0===x?z?n:r:"")+this._generateMonthYearHeader(e,J,ee,Q,Z,x>0||$>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)P=(w+u)%7,D+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P]+"'>"+p[P]+"</span></th>";for(S+=D+"</tr></thead><tbody>",A=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(ee,J)-u+7)%7,I=Math.ceil((E+A)/7),O=K&&this.maxRows>I?this.maxRows:I,this.maxRows=O,N=this._daylightSavingAdjust(new Date(ee,J,1-E)),M=0;M<O;M++){for(S+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)H=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],F=N.getMonth()!==J,j=F&&!b||!H[0]||Q&&N<Q||Z&&N>Z,L+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===k.getTime()&&J===e.selectedMonth&&e._keyEvent||_.getTime()===N.getTime()&&_.getTime()===k.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+H[1]+(N.getTime()===X.getTime()?" "+this._currentClass:"")+(N.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===W.getTime()?" ui-state-highlight":"")+(N.getTime()===X.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",
N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);S+=L+"</tr>"}J++,J>11&&(J=0,ee++),S+="</tbody></table>"+(K?"</div>"+(V[0]>0&&$===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=S}y+=C}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,n,o,r,s,a){var l,c,u,h,d,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(r||!g)y+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=o.getMonth())&&(y+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");y+="</select>"}if(b||(_+=y+(!r&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),b&&(_+=(!r&&g&&v?"":"&#xa0;")+y),_+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,r)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&t<i?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(t<0?t:o[0]*o[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||t.getTime()>=o.getTime())&&(!r||t.getTime()<=r.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";var b=(e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(o){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){o.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var o,r;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(r).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(o))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(o,r){var s=r.offset.left-i.document.scrollLeft(),a=r.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,t(r))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,o=n.resizable,r=this.uiDialog.css("position"),s="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,o){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(o))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(o,r){var s=i.uiDialog.offset(),a=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,t(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);i!==-1&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,o={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(o[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,o="";e.each(i,function(i,r){r.optgroup!==o&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:r.optgroup}).appendTo(t),o=r.optgroup),n._renderItemData(t,r)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](o).eq(-1):i[e+"All"](o).eq(0),n.length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var o=e(n),r=o.parent("optgroup");i.push({element:o,index:t,value:o.val(),label:o.text(),optgroup:r.attr("label")||"",disabled:r.prop("disabled")||o.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;t<i;t++)s.push(r);this.handles=o.add(e(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,r,s,a,l,c,u=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(o>i||o===i&&(t===u._lastChangedValue||u.values(t)===h.min))&&(o=i,r=e(this),s=t)}),a=this._start(t,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),l=r.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-r.width()/2,top:t.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),r=this._valueMin()+n*o,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&(o=this.values(),o[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),r!==!1&&this.values(t,i))):i!==this.value()&&(r=this._trigger("slide",e,{handle:this.handles[t],value:i}),r!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){
var n,o,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<o;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,o,r,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),o=this._valueMin(),r=this._valueMax(),i=r!==o?(n-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var i,n,o,r,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,s),i===!1))return}switch(r=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(s):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-r)}this._slide(t,s,o)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var o=i.attr(n);void 0!==o&&o.length&&(t[n]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;t=t.cloneNode(!1),i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(o){}try{n=decodeURIComponent(n)}catch(o){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){if(e(o).attr("aria-controls")===n)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&t!==-1||(t=!!this.tabs.length&&0)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=!i&&0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.shiftKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.shiftKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),t<0&&(t=o),t}for(var o=this.tabs.length-1;e.inArray(n(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,o=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var o,r,s,a=e(n).uniqueId().attr("id"),l=e(n).closest("li"),c=l.attr("aria-controls");t._isLocal(n)?(o=n.hash,s=o.substring(1),r=t.element.find(t._sanitizeSelector(o))):(s=l.attr("aria-controls")||e({}).uniqueId()[0].id,o="#"+s,r=t.element.find(o),r.length||(r=t._createPanel(s),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":a}),r.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),r=o.closest("li"),s=r[0]===n[0],a=s&&i.collapsible,l=a?e():this._getPanelForTab(r),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():r,newPanel:l};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=!a&&this.tabs.index(r),this.active=s?e():r,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),t),this._toggle(t,u))},_toggle:function(t,i){function n(){r.running=!1,r._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),e.inArray(t,i)!==-1)return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,o=this.tabs.eq(t),r=o.find(".ui-tabs-anchor"),s=this._getPanelForTab(o),a={tab:o,panel:s},l=function(e,t){"abort"===t&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr};this._isLocal(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,o){setTimeout(function(){s.html(e),n._trigger("load",i,a),l(o,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,r){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(i,n);o!==-1&&n.splice(o,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n.element[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,r=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){o._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=r),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function o(e){c.of=e,s.is(":hidden")||s.position(c)}var r,s,a,l,c=e.extend({},this.options.position);if(n){if(r=this._find(i))return void r.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),s=r.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):s.position(e.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(c.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:s})}},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,o=e(t?t.currentTarget:this.element),r=this._find(o);return r?(i=r.tooltip,void(r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:i}),r.hiding||(r.closing=!1)))):void o.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur"),r=n.element;o.target=o.currentTarget=r[0],t.close(o,!0),e("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),"ui-effects-"),_=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,o){var r,s=o.re.exec(t),a=s&&o.parse(s),l=o.space||"rgba";if(a)return r=i[l](a),i[u[l].cache]=r[u[l].cache],n=i._rgba=r._rgba,!1}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),i):r[t]}function o(e,t,i){return i=(i+1)%1,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(o,s,a,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(s),s=t);var h=this,d=e.type(o),p=this._rgba=[];return s!==t&&(o=[o,s,a,l],d="array"),"string"===d?this.parse(n(o)||r._default):"array"===d?(f(u.rgba.props,function(e,t){p[t.idx]=i(o[t.idx],t)}),this):"object"===d?(o instanceof c?f(u,function(e,t){o[t.cache]&&(h[t.cache]=o[t.cache].slice())}):f(u,function(t,n){var r=n.cache;f(n.props,function(e,t){if(!h[r]&&n.to){if("alpha"===e||null==o[e])return;h[r]=n.to(h._rgba)}h[r][t.idx]=i(o[e],t,!0)}),h[r]&&e.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,n.from&&(h._rgba=n.from(h[r])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return f(u,function(e,o){var r,s=t[o.cache];return s&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(e,t){if(null!=s[t.idx])return i=s[t.idx]===r[t.idx]})),i}),i},_space:function(){
var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),o=n._space(),r=u[o],s=0===this.alpha()?c("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return n=n[r.cache],f(r.props,function(e,o){var r=o.idx,s=a[r],c=n[r],u=h[o.type]||{};null!==c&&(null===s?l[r]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[r]=i((c-s)*t+s,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,r=e[2]/255,s=e[3],a=Math.max(n,o,r),l=Math.min(n,o,r),c=a-l,u=a+l,h=.5*u;return t=l===a?0:n===a?60*(o-r)/c+360:o===a?60*(r-n)/c+120:60*(n-o)/c+240,i=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(t)%360,i,h,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],s=n<=.5?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,t+1/3)),Math.round(255*o(a,s,t)),Math.round(255*o(a,s,t-1/3)),r]},f(u,function(n,o){var r=o.props,s=o.cache,l=o.to,u=o.from;c.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===t)return this[s].slice();var o,a=e.type(n),h="array"===a||"object"===a?n:arguments,d=this[s].slice();return f(r,function(e,t){var n=h["object"===a?e:t.idx];null==n&&(n=d[t.idx]),d[t.idx]=i(n,t)}),u?(o=c(u(d)),o[s]=d,o):c(d)},f(r,function(t,i){c.fn[t]||(c.fn[t]=function(o){var r,s=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=e.type(o)),null==o&&i.empty?this:("string"===s&&(r=a.exec(o),r&&(o=u+parseFloat(r[2])*("+"===r[1]?1:-1))),c[i.idx]=o,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,o){var r,s,a="";if("transparent"!==o&&("string"!==e.type(o)||(r=n(o)))){if(o=c(r||o),!d.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[i]=o}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){function t(t){var i,n,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(r[e.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}function i(t,i){var n,r,s={};for(n in i)r=i[n],t[n]!==r&&(o[n]||!e.fx.step[n]&&isNaN(parseFloat(r))||(s[n]=r));return s}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(_.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(o,r,s,a){var l=e.speed(r,s,a);return this.queue(function(){var r,s=e(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var i=e(this);return{el:i,start:t(this)}}),r=function(){e.each(n,function(e,t){o[t]&&s[t+"Class"](o[t])})},r(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(i,n,o,r){return n?e.effects.animateClass.call(this,{add:i},n,o,r):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,o,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,o,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,o,r,s){return"boolean"==typeof n||void 0===n?o?e.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,o,r)}}(e.fn.toggleClass),switchClass:function(t,i,n,o,r){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,r)}})}(),function(){function t(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(b+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&(i=e.data(b+t[n]),void 0===i&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,function(e,i){var r=t.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(r)&&r.call(o[0]),e.isFunction(t)&&t()}var o=e(this),r=n.complete,a=n.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),i()):s.call(o[0],n,i)}var n=t.apply(this,arguments),o=n.mode,r=n.queue,s=e.effects.effect[n.effect];return e.fx.off||!s?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(i):this.queue(r||"fx",i)},show:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(n){if(i(n)||"boolean"==typeof n)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(e*-2+2)/2}})}();e.effects,e.effects.effect.blind=function(t,i){var n,o,r,s=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),h=t.direction||"up",d=a.test(h),p=d?"height":"width",f=d?"top":"left",m=l.test(h),g={},v="show"===u;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),c):e.effects.save(s,c),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),o=n[p](),r=parseFloat(n.css(f))||0,g[p]=v?o:0,m||(s.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:o+r),v&&(n.css(p,0),m||n.css(f,r+o)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),e.effects.restore(s,c),e.effects.removeWrapper(s),i()}})},e.effects.effect.bounce=function(t,i){var n,o,r,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,u="show"===l,h=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,_=s.queue(),y=_.length;for((u||c)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[v]=0,s.css("opacity",0).css(v,b?2*-d:2*d).animate(r,m,g)),c&&(d/=Math.pow(2,p-1)),r={},r[v]=0,n=0;n<p;n++)o={},o[v]=(b?"-=":"+=")+d,s.animate(o,m,g).animate(r,m,g),d=c?2*d:d/2;c&&(o={opacity:0},o[v]=(b?"-=":"+=")+d,s.animate(o,m,g)),s.queue(function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()}),y>1&&_.splice.apply(_,[1,0].concat(_.splice(y,f+1))),s.dequeue()},e.effects.effect.clip=function(t,i){var n,o,r,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",h="vertical"===u,d=h?"height":"width",p=h?"top":"left",f={};e.effects.save(s,a),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),o="IMG"===s[0].tagName?n:s,r=o[d](),c&&(o.css(d,0),o.css(p,r/2)),f[d]=c?r:0,f[p]=c?0:r/2,o.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()}})},e.effects.effect.drop=function(t,i){var n,o=e(this),r=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(o,t.mode||"hide"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};e.effects.save(o,r),o.show(),e.effects.createWrapper(o),n=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===u?-n:n),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.explode=function(t,i){function n(){_.push(this),_.length===h*d&&o()}function o(){p.css({visibility:"visible"}),e(_).remove(),m||p.hide(),i()}var r,s,a,l,c,u,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=h,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/h),_=[];for(r=0;r<h;r++)for(l=g.top+r*b,u=r-(h-1)/2,s=0;s<d;s++)a=g.left+s*v,c=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-r*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?c*v:0),top:l+(m?u*b:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*b),opacity:m?1:0},t.duration||500,t.easing,n)},e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var n,o,r=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,h=/([0-9]+)%/.exec(u),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(r,s),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],h&&(u=parseInt(h[1],10)/100*o[c?0:1]),l&&n.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?o[0]:u,v[f[1]]=l?o[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()})},e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,o),i()}})},e.effects.effect.size=function(t,i){var n,o,r,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=s.css("position"),b=f?a:l,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||_,s.to=t.from||n):(s.from=t.from||("show"===p?_:n),s.to=t.to||("hide"===p?_:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},"box"!==m&&"both"!==m||(r.from.y!==r.to.y&&(b=b.concat(h),s.from=e.effects.setTransition(s,h,r.from.y,s.from),s.to=e.effects.setTransition(s,h,r.to.y,s.to)),r.from.x!==r.to.x&&(b=b.concat(d),s.from=e.effects.setTransition(s,d,r.from.x,s.from),s.to=e.effects.setTransition(s,d,r.to.x,s.to))),"content"!==m&&"both"!==m||r.from.y!==r.to.y&&(b=b.concat(u).concat(c),s.from=e.effects.setTransition(s,u,r.from.y,s.from),s.to=e.effects.setTransition(s,u,r.to.y,s.to)),e.effects.save(s,b),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(o=e.effects.getBaseline(g,n),s.from.top=(n.outerHeight-s.outerHeight())*o.y,s.from.left=(n.outerWidth-s.outerWidth())*o.x,s.to.top=(n.outerHeight-s.to.outerHeight)*o.y,s.to.left=(n.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),"content"!==m&&"both"!==m||(h=h.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(d),s.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,h,r.from.y,i.from),i.to=e.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,d,r.from.x,i.from),i.to=e.effects.setTransition(i,d,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,b),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,i){var n=parseInt(i,10),o=e?s.to.left:s.to.top;return"auto"===i?o+"px":n+o+"px"})})),e.effects.removeWrapper(s),i()}})},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),r="hide"===o,s=parseInt(t.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.pulsate=function(t,i){var n,o=e(this),r=e.effects.setMode(o,t.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,c=2*(t.times||5)+(l?1:0),u=t.duration/c,h=0,d=o.queue(),p=d.length;for(!s&&o.is(":visible")||(o.css("opacity",0).show(),h=1),n=1;n<c;n++)o.animate({opacity:h},u,t.easing),h=1-h;o.animate({opacity:h},u,t.easing),o.queue(function(){a&&o.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),o.dequeue()},e.effects.effect.shake=function(t,i){var n,o=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,h=Math.round(t.duration/u),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=o.queue(),b=v.length;for(e.effects.save(o,r),o.show(),e.effects.createWrapper(o),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,o.animate(f,h,t.easing),n=1;n<c;n++)o.animate(m,h,t.easing).animate(g,h,t.easing);o.animate(m,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===s&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,u+1))),o.dequeue()},e.effects.effect.slide=function(t,i){var n,o=e(this),r=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(o,t.mode||"show"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};e.effects.save(o,r),o.show(),n=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,u?isNaN(n)?"-"+n:-n:n),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),r="fixed"===o.css("position"),s=e("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},h=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){d.remove(),i()})}}),function(e){e.fn.drop=function(t,i,n){var o="string"==typeof t?t:"",r=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==o.indexOf("drop")&&(o="drop"+o),n=(t==r?i:n)||{},r?this.bind(o,n,r):this.trigger(o)},e.drop=function(t){t=t||{},n.multi=t.multi===!0?1/0:t.multi===!1?1:isNaN(t.multi)?n.multi:t.multi,n.delay=t.delay||n.delay,n.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:n.tolerance,n.mode=t.mode||n.mode||"intersect"};var t=e.event,i=t.special,n=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){var i=e.data(this,n.datakey);i.related+=1},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var t={related:0,active:[],anyactive:0,winner:0,location:{}};e.data(this,n.datakey,t),n.targets.push(this)}},teardown:function(){var t=e.data(this,n.datakey)||{};if(!t.related){e.removeData(this,n.datakey);var i=this;n.targets=e.grep(n.targets,function(e){return e!==i})}},handler:function(t,o){var r;if(o)switch(t.type){case"mousedown":case"touchstart":r=e(n.targets),"string"==typeof o.drop&&(r=r.filter(o.drop)),r.each(function(){var t=e.data(this,n.datakey);t.active=[],t.anyactive=0,t.winner=0}),o.droppable=r,i.drag.hijack(t,"dropinit",o);break;case"mousemove":case"touchmove":n.event=t,n.timer||n.tolerate(o);break;case"mouseup":case"touchend":n.timer=clearTimeout(n.timer),o.propagates&&(i.drag.hijack(t,"drop",o),i.drag.hijack(t,"dropend",o))}},locate:function(t,i){var o=e.data(t,n.datakey),r=e(t),s=r.offset()||{},a=r.outerHeight(),l=r.outerWidth(),c={elem:t,width:l,height:a,top:s.top,left:s.left,right:s.left+l,bottom:s.top+a};return o&&(o.location=c,o.index=i,o.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,i){return this.contains(i,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,i){return Math.max(0,Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top))*Math.max(0,Math.min(i.right,t.right)-Math.max(i.left,t.left))},fit:function(e,t,i){return this.contains(i,t)?1:0},middle:function(e,t,i){return this.contains(i,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(t){var o,r,s,a,l,c,u,h,d=0,p=t.interactions.length,f=[n.event.pageX,n.event.pageY],m=n.tolerance||n.modes[n.mode];do if(h=t.interactions[d]){if(!h)return;h.drop=[],l=[],c=h.droppable.length,m&&(s=n.locate(h.proxy)),o=0;do if(u=h.droppable[o]){if(a=e.data(u,n.datakey),r=a.location,!r)continue;a.winner=m?m.call(n,n.event,s,r):n.contains(r,f)?1:0,l.push(a)}while(++o<c);l.sort(n.sort),o=0;do(a=l[o])&&(a.winner&&h.drop.length<n.multi?(a.active[d]||a.anyactive||(i.drag.hijack(n.event,"dropstart",t,d,a.elem)[0]!==!1?(a.active[d]=1,a.anyactive+=1):a.winner=0),a.winner&&h.drop.push(a.elem)):a.active[d]&&1==a.anyactive&&(i.drag.hijack(n.event,"dropend",t,d,a.elem),a.active[d]=0,a.anyactive-=1));while(++o<c)}while(++d<p);n.last&&f[0]==n.last.pageX&&f[1]==n.last.pageY?delete n.timer:n.timer=setTimeout(function(){n.tolerate(t)},n.delay),n.last=n.event}};i.dropinit=i.dropstart=i.dropend=n}(jQuery),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,i=oe.type(e);return"function"!==i&&!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function n(e,t,i){if(oe.isFunction(t))return oe.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return oe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(de.test(t))return oe.filter(t,e,i);t=oe.filter(t,e)}return oe.grep(e,function(e){return oe.inArray(e,t)>=0!==i})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=ye[e]={};return oe.each(e.match(_e)||[],function(e,i){t[i]=!0}),t}function s(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(fe.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(s(),oe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(ke,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:$e.test(i)?oe.parseJSON(i):i)}catch(o){}oe.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,n){if(oe.acceptData(e)){var o,r,s=oe.expando,a=e.nodeType,l=a?oe.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=a?e[s]=G.pop()||oe.guid++:s),l[c]||(l[c]=a?{}:{toJSON:oe.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),r=l[c],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[oe.camelCase(t)]=i),"string"==typeof t?(o=r[t],null==o&&(o=r[oe.camelCase(t)])):o=r,o}}function h(e,t,i){if(oe.acceptData(e)){var n,o,r=e.nodeType,s=r?oe.cache:e,a=r?e[oe.expando]:oe.expando;if(s[a]){if(t&&(n=i?s[a]:s[a].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in n?t=[t]:(t=oe.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!c(n):!oe.isEmptyObject(n))return}(i||(delete s[a].data,c(s[a])))&&(r?oe.cleanData([e],!0):ie.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Le.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,n,o=0,r=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||oe.nodeName(n,t)?r.push(n):oe.merge(r,g(n,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function v(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function y(e){var t=Ye.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var i,n=0;null!=(i=e[n]);n++)oe._data(i,"globalEval",!t||oe._data(t[n],"globalEval"))}function x(e,t){if(1===t.nodeType&&oe.hasData(e)){var i,n,o,r=oe._data(e),s=oe._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,o=a[i].length;n<o;n++)oe.event.add(t,i,a[i][n])}s.data&&(s.data=oe.extend({},s.data))}}function C(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[oe.expando]){o=oe._data(t);for(n in o.events)oe.removeEvent(t,n,o.handle);t.removeAttribute(oe.expando)}"script"===i&&t.text!==e.text?(_(t).text=e.text,y(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function $(t,i){var n,o=oe(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(o[0]))?n.display:oe.css(o[0],"display");return o.detach(),r}function k(e){var t=fe,i=Je[e];return i||(i=$(e,t),"none"!==i&&i||(Ze=(Ze||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ze[0].contentWindow||Ze[0].contentDocument).document,t.write(),t.close(),i=$(e,t),Ze.detach()),Je[e]=i),i}function T(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=dt.length;o--;)if(t=dt[o]+i,t in e)return t;return n}function D(e,t){for(var i,n,o,r=[],s=0,a=e.length;s<a;s++)n=e[s],n.style&&(r[s]=oe._data(n,"olddisplay"),i=n.style.display,t?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&De(n)&&(r[s]=oe._data(n,"olddisplay",k(n.nodeName)))):(o=De(n),(i&&"none"!==i||!o)&&oe._data(n,"olddisplay",o?i:oe.css(n,"display"))));for(s=0;s<a;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[s]||"":"none"));return e}function P(e,t,i){var n=lt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function A(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,s=0;r<4;r+=2)"margin"===i&&(s+=oe.css(e,i+Se[r],!0,o)),n?("content"===i&&(s-=oe.css(e,"padding"+Se[r],!0,o)),"margin"!==i&&(s-=oe.css(e,"border"+Se[r]+"Width",!0,o))):(s+=oe.css(e,"padding"+Se[r],!0,o),"padding"!==i&&(s+=oe.css(e,"border"+Se[r]+"Width",!0,o)));return s}function E(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=et(e),s=ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(o=tt(e,t,r),(o<0||null==o)&&(o=e.style[t]),nt.test(o))return o;n=s&&(ie.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+A(e,t,i||(s?"border":"content"),n,r)+"px"}function I(e,t,i,n,o){return new I.prototype.init(e,t,i,n,o)}function O(){return setTimeout(function(){pt=void 0}),pt=oe.now()}function N(e,t){var i,n={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)i=Se[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function M(e,t,i){for(var n,o=(_t[t]||[]).concat(_t["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,t,e))return n}function L(e,t,i){var n,o,r,s,a,l,c,u,h=this,d={},p=e.style,f=e.nodeType&&De(e),m=oe._data(e,"fxshow");i.queue||(a=oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,oe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=oe.css(e,"display"),u="none"===c?oe._data(e,"olddisplay")||k(e.nodeName):c,"inline"===u&&"none"===oe.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||h.always(function(){
p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],mt.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}d[n]=m&&m[n]||oe.style(e,n)}else c=void 0;if(oe.isEmptyObject(d))"inline"===("none"===c?k(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=oe._data(e,"fxshow",{}),r&&(m.hidden=!f),f?oe(e).show():h.done(function(){oe(e).hide()}),h.done(function(){var t;oe._removeData(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(n in d)s=M(f?m[n]:0,n,h),n in m||(m[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function H(e,t){var i,n,o,r,s;for(i in e)if(n=oe.camelCase(i),o=t[n],r=e[i],oe.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),s=oe.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function F(e,t,i){var n,o,r=0,s=bt.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=pt||O(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,r=1-n,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,i]),r<1&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:pt||O(),duration:i.duration,tweens:[],createTween:function(t,i){var n=oe.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(H(u,c.opts.specialEasing);r<s;r++)if(n=bt[r].call(c,e,u,c.opts))return n;return oe.map(u,M,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(_e)||[];if(oe.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function R(e,t,i,n){function o(a){var l;return r[a]=!0,oe.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=e===Bt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function W(e,t){var i,n,o=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function z(e,t,i){for(var n,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}n||(n=s)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function B(e,t,i,n){var o,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(e,t,i,n){var o;if(oe.isArray(t))oe.each(t,function(t,o){i||Yt.test(e)?n(e,o):q(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==oe.type(t))n(e,t);else for(o in t)q(e+"["+o+"]",t[o],i,n)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return oe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var G=[],K=G.slice,X=G.concat,Q=G.push,Z=G.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ie={},ne="1.11.3",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ne,constructor:oe,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||oe.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(o=arguments[a]))for(n in o)e=s[n],i=o[n],s!==i&&(c&&i&&(oe.isPlainObject(i)||(t=oe.isArray(i)))?(t?(t=!1,r=e&&oe.isArray(e)?e:[]):r=e&&oe.isPlainObject(e)?e:{},s[n]=oe.extend(c,r,i)):void 0!==i&&(s[n]=i));return s},oe.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,r=0,s=e.length,a=i(e);if(n){if(a)for(;r<s&&(o=t.apply(e[r],n),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],n),o===!1)break}else if(a)for(;r<s&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?oe.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(Z)return Z.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;)e[o++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],r=0,s=e.length,a=!i;r<s;r++)n=!t(e[r],r),n!==a&&o.push(e[r]);return o},map:function(e,t,n){var o,r=0,s=e.length,a=i(e),l=[];if(a)for(;r<s;r++)o=t(e[r],r,n),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&l.push(o);return X.apply([],l)},guid:1,proxy:function(e,t){var i,n,o;if("string"==typeof t&&(o=e[t],t=e,e=o),oe.isFunction(e))return i=K.call(arguments,2),n=function(){return e.apply(t||this,i.concat(K.call(arguments)))},n.guid=e.guid=e.guid||oe.guid++,n},now:function(){return+new Date},support:ie}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,i,n){var o,r,s,a,l,c,h,p,f,m;if((t?t.ownerDocument||t:R)!==I&&E(t),t=t||I,i=i||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return i;if(!n&&N){if(11!==a&&(o=be.exec(e)))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return i;if(r.id===s)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&F(t,r)&&r.id===s)return i.push(r),i}else{if(o[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((s=o[3])&&w.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(s)),i}if(w.qsa&&(!M||!M.test(e))){if(p=h=j,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=k(e),(h=t.getAttribute("id"))?p=h.replace(ye,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=_e.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{h||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[j]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function s(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=z++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,s){var a,l,c=[W,r];if(s){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,s))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(l=t[j]||(t[j]={}),(a=l[n])&&a[0]===W&&a[1]===r)return c[2]=a[2];if(l[n]=c,c[2]=e(t,i,s))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var o=0,r=i.length;o<r;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(i&&!i(r,n,o)||(s.push(r),c&&t.push(a)));return s}function v(e,t,i,o,r,s){return o&&!o[j]&&(o=v(o)),r&&!r[j]&&(r=v(r,s)),n(function(n,s,a,l){var c,u,h,d=[],p=[],f=s.length,v=n||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!n&&t?v:g(v,d,e,a,l),_=i?r||(n?e:f||o)?[]:s:b;if(i&&i(b,_,a,l),o)for(c=g(_,p),o(c,[],a,l),u=c.length;u--;)(h=c[u])&&(_[p[u]]=!(b[p[u]]=h));if(n){if(r||e){if(r){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(b[u]=h);r(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=r?ee(n,h):d[u])>-1&&(n[c]=!(s[c]=h))}}else _=g(_===s?_.splice(f,_.length):_),r?r(null,s,_,l):Z.apply(s,_)})}function b(e){for(var t,i,n,o=e.length,r=x.relative[e[0].type],s=r||x.relative[" "],a=r?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return ee(t,e)>-1},s,!0),u=[function(e,i,n){var o=!r&&(n||i!==D)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,o}];a<o;a++)if(i=x.relative[e[a].type])u=[p(f(u),i)];else{if(i=x.filter[e[a].type].apply(null,e[a].matches),i[j]){for(n=++a;n<o&&!x.relative[e[n].type];n++);return v(a>1&&f(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),i,a<n&&b(e.slice(a,n)),n<o&&b(e=e.slice(n)),n<o&&d(e))}u.push(i)}return f(u)}function _(e,i){var o=i.length>0,r=e.length>0,s=function(n,s,a,l,c){var u,h,d,p=0,f="0",m=n&&[],v=[],b=D,_=n||r&&x.find.TAG("*",c),y=W+=null==b?1:Math.random()||.1,w=_.length;for(c&&(D=s!==I&&s);f!==w&&null!=(u=_[f]);f++){if(r&&u){for(h=0;d=e[h++];)if(d(u,s,a)){l.push(u);break}c&&(W=y)}o&&((u=!d&&u)&&p--,n&&m.push(u))}if(p+=f,o&&f!==p){for(h=0;d=i[h++];)d(m,v,s,a);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(W=y,D=b),m};return o?n(s):s}var y,w,x,C,$,k,T,S,D,P,A,E,I,O,N,M,L,H,F,j="sizzle"+1*new Date,R=e.document,W=0,z=0,B=i(),q=i(),U=i(),V=function(e,t){return e===t&&(A=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,Q=K.push,Z=K.push,J=K.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ne.replace("w","w#"),re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ie+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),he=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(se),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,ye=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ce=function(){E()};try{Z.apply(K=J.call(R.childNodes),R.childNodes),K[R.childNodes.length].nodeType}catch($e){Z={apply:K.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}w=t.support={},$=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},E=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:R;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,O=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Ce,!1):i.attachEvent&&i.attachEvent("onunload",Ce)),N=!$(n),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(n.getElementsByClassName),w.getById=o(function(e){return O.appendChild(e).id=j,!n.getElementsByName||!n.getElementsByName(j).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(N)return t.getElementsByClassName(e)},L=[],M=[],(w.qsa=ve.test(n.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||M.push(".#.+[+~]")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(H=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){w.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),L.push("!=",se)}),M=M.length&&new RegExp(M.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(O.compareDocumentPosition),F=t||ve.test(O.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===R&&F(R,e)?-1:t===n||t.ownerDocument===R&&F(R,t)?1:P?ee(P,e)-ee(P,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,o=0,r=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!r||!a)return e===n?-1:t===n?1:r?-1:a?1:P?ee(P,e)-ee(P,t):0;if(r===a)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===R?-1:c[o]===R?1:0},n):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&E(e),i=i.replace(he,"='$1']"),w.matchesSelector&&N&&(!L||!L.test(i))&&(!M||!M.test(i)))try{var n=H.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&E(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&E(e);var i=x.attrHandle[t.toLowerCase()],n=i&&G.call(x.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:w.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(A=!w.detectDuplicates,P=!w.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return P=null,e},C=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ae," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,u,h,d,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&b){for(u=g[j]||(g[j]={}),c=u[e]||[],p=c[0]===W&&c[1],d=c[0]===W&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[W,p,d];break}}else if(b&&(c=(t[j]||(t[j]={}))[e])&&c[0]===W)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[j]||(h[j]={}))[e]=[W,d]),h!==t)););return d-=o,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var o,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[j]?r(i):r.length>1?(o=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),s=o.length;s--;)n=ee(e,o[s]),e[n]=!(t[n]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=T(e.replace(le,"$1"));return o[j]?n(function(e,t,i,n){for(var r,s=o(e,null,n,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[i<0?i+t:i]}),even:c(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=a(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=l(y);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,k=t.tokenize=function(e,i){var n,o,r,s,a,l,c,u=q[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],c=x.preFilter;a;){n&&!(o=ce.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=ue.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(le," ")}),a=a.slice(n.length));for(s in x.filter)!(o=fe[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):q(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],o=[],r=U[e+" "];if(!r){for(t||(t=k(e)),i=t.length;i--;)r=b(t[i]),r[j]?n.push(r):o.push(r);r=U(e,_(o,n)),r.selector=e}return r},S=t.select=function(e,t,i,n){var o,r,s,a,l,c="function"==typeof e&&e,h=!n&&k(e=c.selector||e);if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&w.getById&&9===t.nodeType&&N&&x.relative[r[1].type]){if(t=(x.find.ID(s.matches[0].replace(we,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(s=r[o],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(we,xe),_e.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),e=n.length&&d(r),!e)return Z.apply(i,n),i;break}}return(c||T(e,h))(n,t,!N,i,_e.test(e)&&u(t.parentNode)||t),i},w.sortStable=j.split("").sort(V).join("")===j,w.detectDuplicates=!!A,E(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,i){var n;if(!i)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var ue=oe.expr.match.needsContext,he=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?oe.find.matchesSelector(n,e)?[n]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<o;t++)if(oe.contains(n[t],this))return!0}));for(t=0;t<o;t++)oe.find(e,n[t],i);return i=this.pushStack(o>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ue.test(e)?oe(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),he.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pe.find(e);this.length=1,this[0]=n}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,pe=oe(fe);var ve=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,i){for(var n=[],o=e[t];o&&9!==o.nodeType&&(void 0===i||1!==o.nodeType||!oe(o).is(i));)1===o.nodeType&&n.push(o),o=o[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),oe.fn.extend({has:function(e){var t,i=oe(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(oe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],s=ue.test(e)||"string"!=typeof e?oe(e,t||this.context):0;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&oe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,i){return oe.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,i){return oe.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return oe.dir(e,"previousSibling",i)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(i,n){var o=oe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=oe.filter(n,o)),this.length>1&&(be[e]||(o=oe.unique(o)),ve.test(e)&&(o=o.reverse())),this.pushStack(o)}});var _e=/\S+/g,ye={};oe.Callbacks=function(e){e="string"==typeof e?ye[e]||r(e):oe.extend({},e);var t,i,n,o,s,a,l=[],c=!e.once&&[],u=function(r){for(i=e.memory&&r,n=!0,s=a||0,a=0,o=l.length,t=!0;l&&s<o;s++)if(l[s].apply(r[0],r[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):i?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function r(t){oe.each(t,function(t,i){var n=oe.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),t?o=l.length:i&&(a=n,u(i))}return this},remove:function(){return l&&oe.each(arguments,function(e,i){for(var n;(n=oe.inArray(i,l,n))>-1;)l.splice(n,1),t&&(n<=o&&o--,n<=s&&s--)}),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||h.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||n&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):u(i)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(i){oe.each(t,function(t,r){var s=oe.isFunction(e[t])&&e[t];o[r[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,s?[e]:arguments);
})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,n):n}},o={};return n.pipe=n.then,oe.each(t,function(e,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,r=K.call(arguments),s=r.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,l=1===a?e:oe.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?K.call(arguments):o,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);o<s;o++)r[o]&&oe.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,t)):--a;return a||l.resolveWith(n,r),l.promise()}});var we;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(e===!0?!--oe.readyWait:!oe.isReady){if(!fe.body)return setTimeout(oe.ready);oe.isReady=!0,e!==!0&&--oe.readyWait>0||(we.resolveWith(fe,[oe]),oe.fn.triggerHandler&&(oe(fe).triggerHandler("ready"),oe(fe).off("ready")))}}}),oe.ready.promise=function(t){if(!we)if(we=oe.Deferred(),"complete"===fe.readyState)setTimeout(oe.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{fe.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!oe.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}s(),oe.ready()}}()}return we.promise(t)};var xe,Ce="undefined";for(xe in oe(ie))break;ie.ownLast="0"!==xe,ie.inlineBlockNeedsLayout=!1,oe(function(){var e,t,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(t){ie.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||t!==!0&&e.getAttribute("classid")===t)};var $e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando],!!e&&!c(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),oe.fn.extend({data:function(e,t){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=oe.camelCase(n.slice(5)),l(r,n,o[n])));oe._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){oe.data(this,e)}):arguments.length>1?this.each(function(){oe.data(this,e,t)}):r?l(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=oe._data(e,t),i&&(!n||oe.isArray(i)?n=oe._data(e,t,oe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),n=i.length,o=i.shift(),r=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return oe._data(e,i)||oe._data(e,i,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,i)})})}}),oe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?oe.queue(this[0],e):void 0===t?this:this.each(function(){var i=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=oe.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)i=oe._data(r[s],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],De=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Pe=oe.access=function(e,t,i,n,o,r,s){var a=0,l=e.length,c=null==i;if("object"===oe.type(i)){o=!0;for(a in i)oe.access(e,t,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,oe.isFunction(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(oe(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return o?e:c?t.call(e):l?t(e[0],i):r},Ae=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(n){ie.deleteExpando=!1}}}(),function(){var t,i,n=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ee=/^(?:input|select|textarea)$/i,Ie=/^key/,Oe=/^(?:mouse|pointer|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,i,n,o){var r,s,a,l,c,u,h,d,p,f,m,g=oe._data(e);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=oe.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof oe===Ce||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(_e)||[""],a=t.length;a--;)r=Me.exec(t[a])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(c=oe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=oe.event.special[p]||{},h=oe.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,c.setup&&c.setup.call(e,n,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),oe.event.global[p]=!0);e=null}},remove:function(e,t,i,n,o){var r,s,a,l,c,u,h,d,p,f,m,g=oe.hasData(e)&&oe._data(e);if(g&&(u=g.events)){for(t=(t||"").match(_e)||[""],c=t.length;c--;)if(a=Me.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=oe.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)s=d[r],!o&&m!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(r,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||oe.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)oe.event.remove(e,p+t[c],i,n,!0);oe.isEmptyObject(u)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(t,i,n,o){var r,s,a,l,c,u,h,d=[n||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(a=u=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!Ne.test(p+oe.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:oe.makeArray(i,[t]),c=oe.event.special[p]||{},o||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!o&&!c.noBubble&&!oe.isWindow(n)){for(l=c.delegateType||p,Ne.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(n.ownerDocument||fe)&&d.push(u.defaultView||u.parentWindow||e)}for(h=0;(a=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:c.bindType||p,r=(oe._data(a,"events")||{})[t.type]&&oe._data(a,"handle"),r&&r.apply(a,i),r=s&&a[s],r&&r.apply&&oe.acceptData(a)&&(t.result=r.apply(a,i),t.result===!1&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),i)===!1)&&oe.acceptData(n)&&s&&n[p]&&!oe.isWindow(n)){u=n[s],u&&(n[s]=null),oe.event.triggered=p;try{n[p]()}catch(m){}oe.event.triggered=void 0,u&&(n[s]=u)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,i,n,o,r,s=[],a=K.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=oe.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(n.namespace)||(e.handleObj=n,e.data=n.data,i=((oe.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;r<a;r++)n=t[r],i=n.selector+" ",void 0===o[i]&&(o[i]=n.needsContext?oe(i,this).index(l)>=0:oe.find(i,this,null,[l]).length),o[i]&&o.push(n);o.length&&s.push({elem:l,handlers:o})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[oe.expando])return e;var t,i,n,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Oe.test(o)?this.mouseHooks:Ie.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new oe.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||fe,o=n.documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=oe.extend(new oe.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?oe.event.trigger(o,null,t):oe.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},oe.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===Ce&&(e[n]=null),e.detachEvent(n,i))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===n||oe.contains(n,o))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(oe.event.special.submit={setup:function(){return!oe.nodeName(this,"form")&&void oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;i&&!oe._data(i,"submitBubbles")&&(oe.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!oe.nodeName(this,"form")&&void oe.event.remove(this,"._submit")}}),ie.changeBubbles||(oe.event.special.change={setup:function(){return Ee.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1):void oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ee.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return oe.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),ie.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=oe._data(n,t);o||n.addEventListener(e,i,!0),oe._data(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=oe._data(n,t)-1;o?oe._data(n,t,o):(n.removeEventListener(e,i,!0),oe._removeData(n,t))}}}),oe.fn.extend({on:function(e,t,i,n,o){var r,s;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=p;else if(!n)return this;return 1===o&&(s=n,n=function(e){return oe().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,oe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=p),this.each(function(){oe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return oe.event.trigger(e,t,i,!0)}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,Fe=new RegExp("<(?:"+Le+")[\\s/>]","i"),je=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,ze=/<tbody/i,Be=/<|&#?\w+;/,qe=/<(?:script|style|link)/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^$|\/(?:java|ecma)script/i,Ye=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=m(fe),Qe=Xe.appendChild(fe.createElement("div"));Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,oe.extend({clone:function(e,t,i){var n,o,r,s,a,l=oe.contains(e.ownerDocument,e);if(ie.html5Clone||oe.isXMLDoc(e)||!Fe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(r=Qe.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(n=g(r),a=g(e),s=0;null!=(o=a[s]);++s)n[s]&&C(o,n[s]);if(t)if(i)for(a=a||g(e),n=n||g(r),s=0;null!=(o=a[s]);s++)x(o,n[s]);else x(e,r);return n=g(r,"script"),n.length>0&&w(n,!l&&g(e,"script")),n=a=o=null,r},buildFragment:function(e,t,i,n){for(var o,r,s,a,l,c,u,h=e.length,d=m(t),p=[],f=0;f<h;f++)if(r=e[f],r||0===r)if("object"===oe.type(r))oe.merge(p,r.nodeType?[r]:r);else if(Be.test(r)){for(a=a||d.appendChild(t.createElement("div")),l=(We.exec(r)||["",""])[1].toLowerCase(),u=Ke[l]||Ke._default,a.innerHTML=u[1]+r.replace(Re,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ie.leadingWhitespace&&je.test(r)&&p.push(t.createTextNode(je.exec(r)[0])),!ie.tbody)for(r="table"!==l||ze.test(r)?"<table>"!==u[1]||ze.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)oe.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(oe.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(t.createTextNode(r));for(a&&d.removeChild(a),ie.appendChecked||oe.grep(g(p,"input"),v),f=0;r=p[f++];)if((!n||oe.inArray(r,n)===-1)&&(s=oe.contains(r.ownerDocument,r),a=g(d.appendChild(r),"script"),s&&w(a),i))for(o=0;r=a[o++];)Ve.test(r.type||"")&&i.push(r);return a=null,d},cleanData:function(e,t){for(var i,n,o,r,s=0,a=oe.expando,l=oe.cache,c=ie.deleteExpando,u=oe.event.special;null!=(i=e[s]);s++)if((t||oe.acceptData(i))&&(o=i[a],r=o&&l[o])){if(r.events)for(n in r.events)u[n]?oe.event.remove(i,n):oe.removeEvent(i,n,r.handle);l[o]&&(delete l[o],c?delete i[a]:typeof i.removeAttribute!==Ce?i.removeAttribute(a):i[a]=null,G.push(o))}}}),oe.fn.extend({text:function(e){return Pe(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?oe.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||oe.cleanData(g(i)),i.parentNode&&(t&&oe.contains(i.ownerDocument,i)&&w(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(He,""):void 0;if("string"==typeof e&&!qe.test(e)&&(ie.htmlSerialize||!Fe.test(e))&&(ie.leadingWhitespace||!je.test(e))&&!Ke[(We.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(oe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,oe.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var i,n,o,r,s,a,l=0,c=this.length,u=this,h=c-1,d=e[0],p=oe.isFunction(d);if(p||c>1&&"string"==typeof d&&!ie.checkClone&&Ue.test(d))return this.each(function(i){var n=u.eq(i);p&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(c&&(a=oe.buildFragment(e,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(r=oe.map(g(a,"script"),_),o=r.length;l<c;l++)n=a,l!==h&&(n=oe.clone(n,!0,!0),o&&oe.merge(r,g(n,"script"))),t.call(this[l],n,l);if(o)for(s=r[r.length-1].ownerDocument,oe.map(r,y),l=0;l<o;l++)n=r[l],Ve.test(n.type||"")&&!oe._data(n,"globalEval")&&oe.contains(s,n)&&(n.src?oe._evalUrl&&oe._evalUrl(n.src):oe.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ge,"")));a=i=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var i,n=0,o=[],r=oe(e),s=r.length-1;n<=s;n++)i=n===s?this:this.clone(!0),oe(r[n])[t](i),Q.apply(o,i.get());return this.pushStack(o)}});var Ze,Je={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var et,tt,it=/^margin/,nt=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),ot=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,i){var n,o,r,s,a=e.style;return i=i||et(e),s=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==s||oe.contains(e.ownerDocument,e)||(s=oe.style(e,t)),nt.test(s)&&it.test(t)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0===s?s:s+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,i){var n,o,r,s,a=e.style;return i=i||et(e),s=i?i[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),nt.test(s)&&!ot.test(t)&&(n=a.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=n,r&&(o.left=r)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,i,n,o;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=s=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(fe.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(o)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===o[0].offsetHeight,a&&(o[0].style.display="",o[1].style.display="none",a=0===o[0].offsetHeight),i.removeChild(n))}var i,n,o,r,s,a,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=i.getElementsByTagName("a")[0],n=o&&o.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,oe.extend(ie,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),oe.swap=function(e,t,i,n){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=s[r];return o};var rt=/alpha\([^)]*\)/i,st=/opacity\s*=\s*([^)]*)/,at=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Te+")(.*)$","i"),ct=new RegExp("^([+-])=("+Te+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=tt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=oe.camelCase(t),l=e.style;if(t=oe.cssProps[a]||(oe.cssProps[a]=S(l,a)),s=oe.cssHooks[t]||oe.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(e,!1,n))?o:l[t];if(r=typeof i,"string"===r&&(o=ct.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||oe.cssNumber[a]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(e,i,n)))))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var o,r,s,a=oe.camelCase(t);return t=oe.cssProps[a]||(oe.cssProps[a]=S(e.style,a)),s=oe.cssHooks[t]||oe.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=tt(e,t,n)),"normal"===r&&t in ht&&(r=ht[t]),""===i||i?(o=parseFloat(r),i===!0||oe.isNumeric(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,i,n){if(i)return at.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,ut,function(){return E(e,t,n)}):E(e,t,n)},set:function(e,i,n){var o=n&&et(e);return P(e,i,n?A(e,t,n,ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o),o):0)}}}),ie.opacity||(oe.cssHooks.opacity={get:function(e,t){return st.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===oe.trim(r.replace(rt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=rt.test(r)?r.replace(rt,o):r+" "+o)}}),oe.cssHooks.marginRight=T(ie.reliableMarginRight,function(e,t){if(t)return oe.swap(e,{display:"inline-block"},tt,[e,"marginRight"])}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+Se[n]+t]=r[n]||r[n-2]||r[0];return o}},it.test(e)||(oe.cssHooks[e+t].set=P)}),oe.fn.extend({css:function(e,t){return Pe(this,function(e,t,i){var n,o,r={},s=0;if(oe.isArray(t)){for(n=et(e),o=t.length;s<o;s++)r[t[s]]=oe.css(e,t[s],!1,n);return r}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){De(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=I,I.prototype={constructor:I,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(oe.cssNumber[i]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,i=I.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=I.prototype.init,oe.fx.step={};var pt,ft,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),vt=/queueHooks$/,bt=[L],_t={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=gt.exec(t),r=o&&o[3]||(oe.cssNumber[e]?"":"px"),s=(oe.cssNumber[e]||"px"!==r&&+n)&&gt.exec(oe.css(i.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+n||1;do a=a||".5",s/=a,oe.style(i.elem,e,s+r);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(s=i.start=+s||+n||0,i.unit=r,i.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),i}]};oe.Animation=oe.extend(F,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;n<o;n++)i=e[n],_t[i]=_t[i]||[],
_t[i].unshift(t)},prefilter:function(e,t){t?bt.unshift(e):bt.push(e)}}),oe.speed=function(e,t,i){var n=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return n.duration=oe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in oe.fx.speeds?oe.fx.speeds[n.duration]:oe.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){oe.isFunction(n.old)&&n.old.call(this),n.queue&&oe.dequeue(this,n.queue)},n},oe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(De).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=oe.isEmptyObject(e),r=oe.speed(t,i,n),s=function(){var t=F(this,oe.extend({},e),r);(o||oe._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=oe.timers,s=oe._data(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&vt.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));!t&&i||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=oe._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=oe.timers,s=n?n.length:0;for(i.finish=!0,oe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var i=oe.fn[t];oe.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(N(t,!0),e,n,o)}}),oe.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,i=0;for(pt=oe.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||oe.fx.stop(),pt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ft||(ft=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ft),ft=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,o;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=fe.createElement("select"),o=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=o.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!o.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var yt=/\r/g;oe.fn.extend({val:function(e){var t,i,n,o=this[0];{if(arguments.length)return n=oe.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(yt,""):null==i?"":i)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,s=r?null:[],a=r?o+1:n.length,l=o<0?a:r?o:0;l<a;l++)if(i=n[l],(i.selected||l===o)&&(ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var i,n,o=e.options,r=oe.makeArray(t),s=o.length;s--;)if(n=o[s],oe.inArray(oe.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){if(oe.isArray(t))return e.checked=oe.inArray(oe(e).val(),t)>=0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,xt,Ct=oe.expr.attrHandle,$t=/^(?:checked|selected)$/i,kt=ie.getSetAttribute,Tt=ie.input;oe.fn.extend({attr:function(e,t){return Pe(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Ce?oe.prop(e,t,i):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),n=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?xt:wt)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=oe.find.attr(e,t),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void oe.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(_e);if(r&&1===e.nodeType)for(;i=r[o++];)n=oe.propFix[i]||i,oe.expr.match.bool.test(i)?Tt&&kt||!$t.test(i)?e[n]=!1:e[oe.camelCase("default-"+i)]=e[n]=!1:oe.attr(e,i,""),e.removeAttribute(kt?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),xt={set:function(e,t,i){return t===!1?oe.removeAttr(e,i):Tt&&kt||!$t.test(i)?e.setAttribute(!kt&&oe.propFix[i]||i,i):e[oe.camelCase("default-"+i)]=e[i]=!0,i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Ct[t]||oe.find.attr;Ct[t]=Tt&&kt||!$t.test(t)?function(e,t,n){var o,r;return n||(r=Ct[t],Ct[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,Ct[t]=r),o}:function(e,t,i){if(!i)return e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),Tt&&kt||(oe.attrHooks.value={set:function(e,t,i){return oe.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,i)}}),kt||(wt={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},Ct.id=Ct.name=Ct.coords=function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},oe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:wt.set},oe.attrHooks.contenteditable={set:function(e,t,i){wt.set(e,""!==t&&t,i)}},oe.each(["width","height"],function(e,t){oe.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),ie.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,Dt=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Pe(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return r=1!==s||!oe.isXMLDoc(e),r&&(t=oe.propFix[t]||t,o=oe.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ie.enctype||(oe.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,i,n,o,r,s,a=0,l=this.length,c="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(_e)||[];a<l;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):" ")){for(r=0;o=t[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=oe.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(e){var t,i,n,o,r,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(_e)||[];a<l;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):"")){for(r=0;o=t[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");s=e?oe.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(i){oe(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,o=oe(this),r=e.match(_e)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else i!==Ce&&"boolean"!==i||(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||e===!1?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pt," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var At=oe.now(),Et=/\?/,It=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,o=oe.trim(t+"");return o&&!oe.trim(o.replace(It,function(e,t,o,r){return i&&t&&(n=0),0===n?e:(i=o||t,n+=!r-!o,"")}))?Function("return "+o)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),i};var Ot,Nt,Mt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zt={},Bt={},qt="*/".concat("*");try{Nt=location.href}catch(Ut){Nt=fe.createElement("a"),Nt.href="",Nt=Nt.href}Ot=Wt.exec(Nt.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:Ft.test(Ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,oe.ajaxSettings),t):W(oe.ajaxSettings,e)},ajaxPrefilter:j(zt),ajaxTransport:j(Bt),ajax:function(e,t){function i(e,t,i,n){var o,u,v,b,y,x=t;2!==_&&(_=2,a&&clearTimeout(a),c=void 0,s=n||"",w.readyState=e>0?4:0,o=e>=200&&e<300||304===e,i&&(b=z(h,w,i)),b=B(h,b,w,o),o?(h.ifModified&&(y=w.getResponseHeader("Last-Modified"),y&&(oe.lastModified[r]=y),y=w.getResponseHeader("etag"),y&&(oe.etag[r]=y)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=b.state,u=b.data,v=b.error,o=!v)):(v=x,!e&&x||(x="error",e<0&&(e=0))),w.status=e,w.statusText=(t||x)+"",o?f.resolveWith(d,[u,x,w]):f.rejectWith(d,[w,x,v]),w.statusCode(g),g=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,h,o?u:v]),m.fireWith(d,[w,x]),l&&(p.trigger("ajaxComplete",[w,h]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,r,s,a,l,c,u,h=oe.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?oe(d):oe.event,f=oe.Deferred(),m=oe.Callbacks("once memory"),g=h.statusCode||{},v={},b={},_=0,y="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!u)for(u={};t=Ht.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return _||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return _||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(_<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||y;return c&&c.abort(t),i(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||Nt)+"").replace(Mt,"").replace(Rt,Ot[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=oe.trim(h.dataType||"*").toLowerCase().match(_e)||[""],null==h.crossDomain&&(n=Wt.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===Ot[1]&&n[2]===Ot[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ot[3]||("http:"===Ot[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=oe.param(h.data,h.traditional)),R(zt,h,t,w),2===_)return w;l=oe.event&&h.global,l&&0===oe.active++&&oe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!jt.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Et.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Lt.test(r)?r.replace(Lt,"$1_="+At++):r+(Et.test(r)?"&":"?")+"_="+At++)),h.ifModified&&(oe.lastModified[r]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[r]),oe.etag[r]&&w.setRequestHeader("If-None-Match",oe.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qt+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)w.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===_))return w.abort();y="abort";for(o in{success:1,error:1,complete:1})w[o](h[o]);if(c=R(Bt,h,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{_=1,c.send(v,i)}catch(x){if(!(_<2))throw x;i(-1,x)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,i,n,o){return oe.isFunction(i)&&(o=o||n,n=i,i=void 0),oe.ajax({url:e,type:t,dataType:o,data:i,success:n})}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(i){oe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Vt=/%20/g,Yt=/\[\]$/,Gt=/\r?\n/g,Kt=/^(?:submit|button|image|reset|file)$/i,Xt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,n=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(i in e)q(i,e[i],t,o);return n.join("&").replace(Vt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Xt.test(this.nodeName)&&!Kt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Gt,"\r\n")}}):{name:t.name,value:i.replace(Gt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Qt=0,Zt={},Jt=oe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zt)Zt[e](void 0,!0)}),ie.cors=!!Jt&&"withCredentials"in Jt,Jt=ie.ajax=!!Jt,Jt&&oe.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,n){var o,r=e.xhr(),s=++Qt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&r.setRequestHeader(o,i[o]+"");r.send(e.hasContent&&e.data||null),t=function(i,o){var a,l,c;if(t&&(o||4===r.readyState))if(delete Zt[s],t=void 0,r.onreadystatechange=oe.noop,o)4!==r.readyState&&r.abort();else{c={},a=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(u){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&n(a,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Zt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||oe("head")[0]||fe.documentElement;return{send:function(n,o){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||o(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ei=[],ti=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ei.pop()||oe.expando+"_"+At++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,s,a=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ti,"$1"+o):t.jsonp!==!1&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||oe.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},n.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,ei.push(o)),s&&oe.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var n=he.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=oe.buildFragment([e],t,o),o&&o.length&&oe(o).remove(),oe.merge([],n.childNodes))};var ii=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var n,o,r,s=this,a=e.indexOf(" ");return a>=0&&(n=oe.trim(e.slice(a,e.length)),e=e.slice(0,a)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?oe("<div>").append(oe.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};var ni=e.document.documentElement;oe.offset={setOffset:function(e,t,i){var n,o,r,s,a,l,c,u=oe.css(e,"position"),h=oe(e),d={};"static"===u&&(e.style.position="relative"),a=h.offset(),r=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&oe.inArray("auto",[r,l])>-1,c?(n=h.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):h.css(d)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,oe.contains(t,o)?(typeof o.getBoundingClientRect!==Ce&&(n=o.getBoundingClientRect()),i=Y(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ni;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||ni})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);oe.fn[e]=function(n){return Pe(this,function(e,n,o){var r=Y(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?oe(r).scrollLeft():o,i?o:oe(r).scrollTop()):e[n]=o)},e,n,arguments.length,null)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=T(ie.pixelPosition,function(e,i){if(i)return i=tt(e,t),nt.test(i)?oe(e).position()[t]+"px":i})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){oe.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border");return Pe(this,function(t,i,n){var o;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?oe.css(t,i,s):oe.style(t,i,n,s)},t,r?n:void 0,r,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var oi=e.jQuery,ri=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=ri),t&&e.jQuery===oe&&(e.jQuery=oi),oe},typeof t===Ce&&(e.jQuery=e.$=oe),oe}),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,n){!function(e){e.mobile={}}(e),function(e,t){function n(t,i){var n,r,s,a=t.nodeName.toLowerCase();return"area"===a?(n=t.parentNode,r=n.name,!(!t.href||!r||"map"!==n.nodeName.toLowerCase())&&(s=e("img[usemap=#"+r+"]")[0],!!s&&o(s))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||i):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function o(t,i,n,o){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(s,o(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(s,o(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in i.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var o,r,s=e(this[0]);s.length&&s[0]!==i;){if(o=s.css("position"),("absolute"===o||"relative"===o||"fixed"===o)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,r=e.plugins[t];if(r&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,i)}}}(e),function(e,t,n){var o=function(t,i){var n=t.parent(),o=[],r=function(){var t=e(this),i=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:t.attr("data-"+e.mobile.ns+"update-page-padding")!==!1};return!("fixed"===i.position&&i.updatePagePadding===!0)},s=n.children(":jqmData(role='header')").filter(r),a=t.children(":jqmData(role='header')"),l=n.children(":jqmData(role='footer')").filter(r),c=t.children(":jqmData(role='footer')");return 0===a.length&&s.length>0&&(o=o.concat(s.toArray())),0===c.length&&l.length>0&&(o=o.concat(l.toArray())),e.each(o,function(t,n){i-=e(n).outerHeight()}),Math.max(0,i)};e.extend(e.mobile,{window:e(t),document:e(i),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var i=e(t).closest(".ui-page").jqmData("url"),n=e.mobile.path.documentBase.hrefNoHash;return e.mobile.dynamicBaseEnabled&&i&&e.mobile.path.isPath(i)||(i=n),e.mobile.path.makeUrlAbsolute(i,n)},removeActiveLinkClass:function(t){!e.mobile.activeClickedLink||e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length&&!t||e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var i,n,o=e[0],r="",s=/ui-(bar|body|overlay)-([a-z])\b/;o&&(i=o.className||"",!(i&&(n=s.exec(i))&&(r=n[2])));)o=o.parentNode;return r||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;var n,o,r,s,a,l=t.length,c=e();for(s=0;s<l;s++){for(o=t.eq(s),r=!1,n=t[s];n;){if(a=n.getAttribute?n.getAttribute("data-"+e.mobile.ns+i):"","false"===a){r=!0;break}n=n.parentNode}r||(c=c.add(o))}return c},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var i=e("."+e.mobile.activePageClass),n=i.height(),r=i.outerHeight(!0);t=o(i,"number"==typeof t?t:e.mobile.getScreenHeight()),i.css("min-height",""),i.height()<t&&i.css("min-height",t-(r-n))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),i=t.loader.apply(t,arguments);return this.loading._widget=t,i}}),e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,i={},n=e.mobile.page.prototype.keepNativeSelector(),o=this;e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),
e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(n).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(n).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,r){if(r.initSelector){var s=e.mobile.enhanceable(o.find(r.initSelector));s.length>0&&(s=s.not(n)),s.length>0&&(i[r.prototype.widgetName]=s)}});for(t in i)i[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0}}(e,this),function(e,t,i){e.extend(e.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e,this),function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(r){}o(t)},e.widget=function(t,i,n){var o,r,s,a,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(i){for(var o,r,s=n.call(arguments,1),a=0,l=s.length;a<l;a++)for(o in s[a])r=s[a][o],s[a].hasOwnProperty(o)&&r!==t&&(e.isPlainObject(r)?i[o]=e.isPlainObject(i[o])?e.widget.extend({},i[o],r):e.widget.extend({},r):i[o]=r);return i},e.widget.bridge=function(i,o){var r=o.prototype.widgetFullName||i;e.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var n,o=e.data(this,r);return"instance"===s?(c=o,!1):o?e.isFunction(o[s])&&"_"!==s.charAt(0)?(n=o[s].apply(o,l),n!==o&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+s+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,r);t?t.option(s||{})._init():e.data(this,r,new o(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var o,r,s,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(r=a[i]=e.widget.extend({},this.options[i]),s=0;s<o.length-1;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]];if(i=o.pop(),n===t)return r[i]===t?null:r[i];r[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,s){function a(){if(t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,s=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}})}(e),function(e,t,i){var n={},o=e.find,r=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,s=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,i){var n;t=t.jquery?t[0]:t,t&&t.getAttribute&&(n=t.getAttribute("data-"+e.mobile.ns+i));try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:r.test(n)?JSON.parse(n):n)}catch(o){}return n},nsNormalizeDict:n,nsNormalize:function(t){return n[t]||(n[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,n){var o;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),o=arguments.length<2||n===i?this.data(t):this.data(t,n)),o},e.jqmData=function(t,i,n){var o;return"undefined"!=typeof i&&(o=e.data(t,i?e.mobile.nsNormalize(i):i,n)),o},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.find=function(t,i,n,r){return t.indexOf(":jqmData")>-1&&(t=t.replace(s,"[data-"+(e.mobile.ns||"")+"$1]")),o.call(this,t,i,n,r)},e.extend(e.find,o)}(e,this),function(e,t){var i=/[A-Z]/g,n=function(e){return"-"+e.toLowerCase()};e.extend(e.Widget.prototype,{_getCreateOptions:function(){var t,o,r=this.element[0],s={};if(!e.mobile.getAttribute(r,"defaults"))for(t in this.options)o=e.mobile.getAttribute(r,t.replace(i,n)),null!=o&&(s[t]=o);return s}}),e.mobile.widget=e.Widget}(e),function(e){var t="ui-loader",i=e("html");e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+t+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),i=this.window.scrollTop(),n=e.mobile.getScreenHeight();(t.top<i||t.top-i>n)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(n,o,r){var s,a,l;this.resetHtml(),"object"===e.type(n)?(l=e.extend({},this.options,n),n=l.theme):(l=this.options,n=n||l.theme),a=o||(l.text===!1?"":l.text),i.addClass("ui-loading"),s=l.textVisible,this.element.attr("class",t+" ui-corner-all ui-body-"+n+" ui-loader-"+(s||o||n.text?"verbose":"default")+(l.textonly||r?" ui-loader-textonly":"")),l.html?this.element.html(l.html):this.element.find("h1").text(a),this.element.appendTo(e(e.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){i.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(e,this),function(e,t,n){"$:nomunge";function o(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var r,s="hashchange",a=i,l=e.event.special,c=a.documentMode,u="on"+s in t&&(c===n||c>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,l[s]=e.extend(l[s],{setup:function(){return!u&&void e(r.start)},teardown:function(){return!u&&void e(r.stop)}}),r=function(){function i(){var n=o(),a=p(c);n!==c?(d(c=n,a),e(t).trigger(s)):a!==c&&(location.href=location.href.replace(/#.*/,"")+a),r=setTimeout(i,e.fn[s].delay)}var r,l={},c=o(),h=function(e){return e},d=h,p=h;return l.start=function(){r||i()},l.stop=function(){r&&clearTimeout(r),r=n},t.attachEvent&&!t.addEventListener&&!u&&function(){var t,n;l.start=function(){t||(n=e.fn[s].src,n=n&&n+o(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||d(o()),i()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,a.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=a.title)}catch(e){}})},l.stop=h,p=function(){return o(t.location.href)},d=function(i,n){var o=t.document,r=e.fn[s].domain;i!==n&&(o.title=a.title,o.open(),r&&o.write('<script>document.domain="'+r+'"</script>'),o.close(),t.location.hash=i)}}(),l}()}(e,this),function(e,n){t.matchMedia=t.matchMedia||function(e,t){var i,n=e.documentElement,o=n.firstElementChild||n.firstChild,r=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(r,o),i=42===s.offsetWidth,n.removeChild(r),{matches:i,media:e}}}(i),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,t){var n={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,n),e.extend(e.mobile.support,n)}(e),function(e,i){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,n){function o(e){var t,i=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+f.join(i+" ")+i).split(" ");for(t in o)if(p[o[t]]!==n)return!0}function r(){var i=t,n=!(!i.document.createElementNS||!i.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||i.opera&&navigator.userAgent.indexOf("Chrome")===-1),o=function(t){t&&n||e("html").addClass("ui-nosvg")},r=new i.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function s(){var o,r,s,a="transform-3d",l=e.mobile.media("(-"+f.join("-"+a+"),(-")+"-"+a+"),("+a+")");if(l)return!!l;o=i.createElement("div"),r={MozTransform:"-moz-transform",transform:"transform"},d.append(o);for(s in r)o.style[s]!==n&&(o.style[s]="translate3d( 100px, 1px, 1px )",l=t.getComputedStyle(o).getPropertyValue(r[s]));return!!l&&"none"!==l}function a(){var t,i,n=location.protocol+"//"+location.host+location.pathname+"ui-dir/",o=e("head base"),r=null,s="";return o.length?s=o.attr("href"):o=r=e("<base>",{href:n}).appendTo("head"),t=e("<a href='testurl' />").prependTo(d),i=t[0].href,o[0].href=s||location.pathname,r&&r.remove(),0===i.indexOf(n)}function l(){var e,n=i.createElement("x"),o=i.documentElement,r=t.getComputedStyle;return"pointerEvents"in n.style&&(n.style.pointerEvents="auto",n.style.pointerEvents="x",o.appendChild(n),e=r&&"auto"===r(n,"").pointerEvents,o.removeChild(n),!!e)}function c(){var e=i.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function u(){var e=t,i=navigator.userAgent,n=navigator.platform,o=i.match(/AppleWebKit\/([0-9]+)/),r=!!o&&o[1],s=i.match(/Fennec\/([0-9]+)/),a=!!s&&s[1],l=i.match(/Opera Mobi\/([0-9]+)/),c=!!l&&l[1];return!((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&r&&r<534||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&c<7458||i.indexOf("Android")>-1&&r&&r<533||a&&a<6||"palmGetResource"in t&&r&&r<534||i.indexOf("MeeGo")>-1&&i.indexOf("NokiaBrowser/8.5.0")>-1)}var h,d=e("<body>").prependTo("html"),p=d[0].style,f=["Webkit","Moz","O"],m="palmGetResource"in t,g=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),v=t.blackberry&&!o("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=i.createElement("div"),n=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(n[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&t.navigator.userAgent.search(/CriOS/)===-1,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:s(),boxShadow:!!o("boxShadow")&&!v,fixedPosition:u(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in d[0])&&!m&&!g,dynamicBaseTag:a(),cssPointerEvents:l(),boundingRect:c(),inlineSVG:r}),d.remove(),h=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||g||h,h&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e),function(e,t){var i,n=e.mobile.window,o=function(){};e.event.special.beforenavigate={setup:function(){n.on("navigate",o)},teardown:function(){n.off("navigate",o)}},e.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate"),r=t.originalEvent.state||{};o.originalEvent=t,n.trigger(o),o.isDefaultPrevented()||(t.historyState&&e.extend(r,t.historyState),i.originalEvent=t,setTimeout(function(){n.trigger(i,{state:r})},0))},hashchange:function(t){var i=new e.Event("navigate"),o=new e.Event("beforenavigate");o.originalEvent=t,n.trigger(o),o.isDefaultPrevented()||(i.originalEvent=t,n.trigger(i,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",n.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",n.bind("hashchange.navigate",i.hashchange)))}}}(e),function(e,i){var n,o,r="&ui-state=dialog";e.mobile.path=n={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),i=e?t:location,n=t.hash;return n="#"===n?"":n,i.protocol+t.doubleSlash+i.host+(""!==i.protocol&&"/"!==i.pathname.substring(0,1)?"/":"")+i.pathname+i.search+n},getDocumentUrl:function(t){return t?e.extend({},n.documentUrl):n.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var i=n.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(e,t){var i,n,o,r;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",i=t?t.split("/"):[],n=e.split("/"),o=0;o<n.length;o++)switch(r=n[o]){case".":break;case"..":i.length&&i.pop();break;default:i.push(r)}return"/"+i.join("/")},isSameDomain:function(e,t){return n.parseUrl(e).domain.toLowerCase()===n.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return""===n.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==n.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!n.isRelativeUrl(e))return e;t===i&&(t=this.documentBase);var o=n.parseUrl(e),r=n.parseUrl(t),s=o.protocol||r.protocol,a=o.protocol?o.doubleSlash:o.doubleSlash||r.doubleSlash,l=o.authority||r.authority,c=""!==o.pathname,u=n.makePathAbsolute(o.pathname||r.filename,r.pathname),h=o.search||!c&&r.search||"",d=o.hash;return s+a+l+u+h+d},addSearchParams:function(t,i){var o=n.parseUrl(t),r="object"==typeof i?e.param(i):i,s=o.search||"?";return o.hrefNoSearch+s+("?"!==s.charAt(s.length-1)?"&":"")+r+(o.hash||"")},convertUrlToDataUrl:function(e){var i=e,o=n.parseUrl(e);return n.isEmbeddedPage(o)?i=o.hash.split(r)[0].replace(/^#/,"").replace(/\?.*$/,""):n.isSameDomain(o,this.documentBase)&&(i=o.hrefNoHash.replace(this.documentBase.domain,"").split(r)[0]),t.decodeURIComponent(i)},get:function(e){return e===i&&(e=n.parseLocation().hash),n.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return n.stripHash(e.replace(/\?.*$/,"").replace(r,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=n.parseUrl(e);return!(!t.protocol||t.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=n.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var i,o,r,s,a,l=this.isPath(e),c=this.parseUrl(e),u=c.hash,h="";return t||(l?t=n.getLocation():(a=n.getDocumentUrl(!0),t=n.isPath(a.hash)?n.squash(a.href):a.href)),o=l?n.stripHash(e):e,o=n.isPath(c.hash)?n.stripHash(c.hash):o,s=o.indexOf(this.uiStateKey),s>-1&&(h=o.slice(s),o=o.slice(0,s)),i=n.makeUrlAbsolute(o,t),r=this.parseUrl(i).search,l?((n.isPath(u)||0===u.replace("#","").indexOf(this.uiStateKey))&&(u=""),h&&u.indexOf(this.uiStateKey)===-1&&(u+=h),u.indexOf("#")===-1&&""!==u&&(u="#"+u),i=n.parseUrl(i),i=i.protocol+i.doubleSlash+i.host+i.pathname+r+u):i+=i.indexOf("#")>-1?h:"#"+h,i},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(e){var t="#"===e.substring(0,1);return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split(r)[0]},isFirstPageUrl:function(t){var o=n.parseUrl(n.makeUrlAbsolute(t,this.documentBase)),r=o.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&o.hrefNoHash===this.documentBase.hrefNoHash,s=e.mobile.firstPage,a=s&&s[0]?s[0].id:i;return r&&(!o.hash||"#"===o.hash||a&&o.hash.replace(/^#/,"")===a)},isPermittedCrossDomainRequest:function(t,i){return e.mobile.allowCrossDomainPages&&("file:"===t.protocol||"content:"===t.protocol)&&i.search(/^https?:/)!==-1}},n.documentUrl=n.parseLocation(),o=e("head").find("base"),n.documentBase=o.length?n.parseUrl(n.makeUrlAbsolute(o.attr("href"),n.documentUrl.href)):n.documentUrl,n.documentBaseDiffers=n.documentUrl.hrefNoHash!==n.documentBase.hrefNoHash,n.getDocumentBase=function(t){return t?e.extend({},n.documentBase):n.documentBase.href},e.extend(e.mobile,{getDocumentUrl:n.getDocumentUrl,getDocumentBase:n.getDocumentBase})}(e),function(e,t){e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,i){t=t||this.stack;var n,o,r,s=t.length;for(o=0;o<s;o++)if(n=t[o],(decodeURIComponent(e)===decodeURIComponent(n.url)||decodeURIComponent(e)===decodeURIComponent(n.hash))&&(r=o,i))return r;return r},closest:function(e){var i,n=this.activeIndex;return i=this.find(e,this.stack.slice(0,n)),i===t&&(i=this.find(e,this.stack.slice(n),!0),i=i===t?i:i+n),i},direct:function(i){var n=this.closest(i.url),o=this.activeIndex;n!==t&&(this.activeIndex=n,this.previousIndex=o),n<o?(i.present||i.back||e.noop)(this.getActive(),"back"):n>o?(i.present||i.forward||e.noop)(this.getActive(),"forward"):n===t&&i.missing&&i.missing(this.getActive())}})}(e),function(e,n){var o=e.mobile.path,r=location.href;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(n,r){var s,a,l=o.isPath(n)?o.stripHash(n):n;return a=o.squash(n),s=e.extend({hash:l,url:a},r),t.history.replaceState(s,s.title||i.title,a),s},hash:function(e,t){var i,n,r,s;return i=o.parseUrl(e),n=o.parseLocation(),n.pathname+n.search===i.pathname+i.search?r=i.hash?i.hash:i.pathname+i.search:o.isPath(e)?(s=o.parseUrl(t),r=s.pathname+s.search+(o.isPreservableHash(s.hash)?s.hash.replace("#",""):"")):r=e,r},go:function(n,r,s){var a,l,c,u,h=e.event.special.navigate.isPushStateEnabled();l=o.squash(n),c=this.hash(n,l),s&&c!==o.stripHash(o.parseLocation().hash)&&(this.preventNextHashChange=s),this.preventHashAssignPopState=!0,t.location.hash=c,this.preventHashAssignPopState=!1,a=e.extend({url:l,hash:c,title:i.title},r),h&&(u=new e.Event("popstate"),u.originalEvent={type:"popstate",state:null},this.squash(n,a),s||(this.ignorePopState=!0,e.mobile.window.trigger(u))),this.history.add(a.url,a)},popstate:function(t){var i,n;if(e.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void t.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===r)?void t.preventDefault():(i=o.parseLocation().hash,!t.originalEvent.state&&i?(n=this.squash(i),this.history.add(n.url,n),void(t.historyState=n)):void this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,n){t.historyState=e.extend({},i),t.historyState.direction=n}}))},hashchange:function(t){var n,r;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void t.stopImmediatePropagation();n=this.history,r=o.parseLocation().hash,this.history.direct({url:r,present:function(i,n){t.hashchangeState=e.extend({},i),t.hashchangeState.direction=n},missing:function(){n.add(r,{hash:r,title:i.title})}})}}})}(e),function(e,t){e.mobile.navigate=function(t,i,n){e.mobile.navigate.navigator.go(t,i,n)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var i=e.mobile.path.parseLocation();e.mobile.navigate.history.add(i.href,{hash:i.hash})}(e),function(e,t){var n={animation:{},transition:{}},o=i.createElement("a"),r=["","webkit-","moz-","o-"];e.each(["animation","transition"],function(i,s){var a=0===i?s+"-name":s;e.each(r,function(i,r){if(o.style[e.camelCase(r+a)]!==t)return n[s].prefix=r,!1}),n[s].duration=e.camelCase(n[s].prefix+s+"-duration"),n[s].event=e.camelCase(n[s].prefix+s+"-end"),""===n[s].prefix&&(n[s].event=n[s].event.toLowerCase())}),e.support.cssTransitions=n.transition.prefix!==t,e.support.cssAnimations=n.animation.prefix!==t,e(o).remove(),e.fn.animationComplete=function(o,r,s){var a,l,c=this,u=function(){clearTimeout(a),o.apply(this,arguments)},h=r&&"animation"!==r?"transition":"animation";return e.support.cssTransitions&&"transition"===h||e.support.cssAnimations&&"animation"===h?(s===t&&(e(this).context!==i&&(l=3e3*parseFloat(e(this).css(n[h].duration))),(0===l||l===t||isNaN(l))&&(l=e.fn.animationComplete.defaultDuration)),a=setTimeout(function(){e(c).off(n[h].event,u),o.apply(c)},l),e(this).one(n[h].event,u)):(setTimeout(e.proxy(o,this),0),e(this))},e.fn.animationComplete.defaultDuration=1e3}(e),function(e,t,i,n){function o(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function r(t,i){var r,s,a,l,c,u,h,d,p,f=t.type;if(t=e.Event(t),t.type=i,r=t.originalEvent,s=e.event.props,f.search(/^(mouse|click)/)>-1&&(s=A),r)for(h=s.length,l;h;)l=s[--h],t[l]=r[l];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),f.search(/^touch/)!==-1&&(a=o(r),f=a.touches,c=a.changedTouches,u=f&&f.length?f[0]:c&&c.length?c[0]:n))for(d=0,p=D.length;d<p;d++)l=D[d],t[l]=u[l];return t}function s(t){for(var i,n,o={};t;){i=e.data(t,k);for(n in i)i[n]&&(o[n]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function a(t,i){for(var n;t;){if(n=e.data(t,k),n&&(!i||n[i]))return t;t=t.parentNode}return null}function l(){F=!1}function c(){F=!0}function u(){z=0,L.length=0,H=!1,c()}function h(){l()}function d(){p(),I=setTimeout(function(){I=0,u()},e.vmouse.resetTimerDuration)}function p(){I&&(clearTimeout(I),I=0)}function f(t,i,n){var o;return(n&&n[t]||!n&&a(i.target,t))&&(o=r(i,t),e(i.target).trigger(o)),o}function m(t){var i,n=e.data(t.target,T);H||z&&z===n||(i=f("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function g(t){var i,n,r,a=o(t).touches;a&&1===a.length&&(i=t.target,n=s(i),n.hasVirtualBinding&&(z=W++,e.data(i,T,z),p(),h(),M=!1,r=o(t).touches[0],O=r.pageX,N=r.pageY,f("vmouseover",t,n),f("vmousedown",t,n)))}function v(e){F||(M||f("vmousecancel",e,s(e.target)),M=!0,d())}function b(t){if(!F){var i=o(t).touches[0],n=M,r=e.vmouse.moveDistanceThreshold,a=s(t.target);M=M||Math.abs(i.pageX-O)>r||Math.abs(i.pageY-N)>r,M&&!n&&f("vmousecancel",t,a),f("vmousemove",t,a),d()}}function _(e){if(!F){c();var t,i,n=s(e.target);f("vmouseup",e,n),M||(t=f("vclick",e,n),t&&t.isDefaultPrevented()&&(i=o(e).changedTouches[0],L.push({touchID:z,x:i.clientX,y:i.clientY}),H=!0)),f("vmouseout",e,n),M=!1,d()}}function y(t){var i,n=e.data(t,k);if(n)for(i in n)if(n[i])return!0;return!1}function w(){}function x(t){var i=t.substr(1);return{setup:function(){y(this)||e.data(this,k,{});var n=e.data(this,k);n[t]=!0,E[t]=(E[t]||0)+1,1===E[t]&&R.bind(i,m),e(this).bind(i,w),j&&(E.touchstart=(E.touchstart||0)+1,1===E.touchstart&&R.bind("touchstart",g).bind("touchend",_).bind("touchmove",b).bind("scroll",v))},teardown:function(){--E[t],E[t]||R.unbind(i,m),j&&(--E.touchstart,E.touchstart||R.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",_).unbind("scroll",v));var n=e(this),o=e.data(this,k);o&&(o[t]=!1),n.unbind(i,w),y(this)||n.removeData(k)}}}var C,$,k="virtualMouseBindings",T="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),D="clientX clientY pageX pageY screenX screenY".split(" "),P=e.event.mouseHooks?e.event.mouseHooks.props:[],A=e.event.props.concat(P),E={},I=0,O=0,N=0,M=!1,L=[],H=!1,F=!1,j="addEventListener"in i,R=e(i),W=1,z=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},$=0;$<S.length;$++)e.event.special[S[$]]=x(S[$]);j&&i.addEventListener("click",function(t){var i,n,o,r,s,a,l=L.length,c=t.target;if(l)for(i=t.clientX,n=t.clientY,C=e.vmouse.clickDistanceThreshold,o=c;o;){for(r=0;r<l;r++)if(s=L[r],a=0,o===c&&Math.abs(s.x-i)<C&&Math.abs(s.y-n)<C||e.data(o,T)===s.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(e,t,i),function(e,t,n){function o(t,i,o,r){var s=o.type;o.type=i,r?e.event.trigger(o,n,t):e.event.dispatch.call(t,o),o.type=s}var r=e(i),s=e.mobile.support.touch,a="touchmove scroll",l=s?"touchstart":"mousedown",c=s?"touchend":"mouseup",u=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,o(r,i?"scrollstart":"scrollstop",e);
}var i,n,r=this,s=e(r);s.bind(a,function(o){e.event.special.scrollstart.enabled&&(i||t(o,!0),clearTimeout(n),n=setTimeout(function(){t(o,!1)},50))})},teardown:function(){e(this).unbind(a)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,i=e(t),n=!1;i.bind("vmousedown",function(s){function a(){clearTimeout(u)}function l(){a(),i.unbind("vclick",c).unbind("vmouseup",a),r.unbind("vmousecancel",l)}function c(e){l(),n||h!==e.target?n&&e.preventDefault():o(t,"tap",e)}if(n=!1,s.which&&1!==s.which)return!1;var u,h=s.target;i.bind("vmouseup",a).bind("vclick",c),r.bind("vmousecancel",l),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(n=!0),o(t,"taphold",e.Event("taphold",{target:h}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),r.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var i=t.pageXOffset,n=t.pageYOffset,o=e.clientX,r=e.clientY;return 0===e.pageY&&Math.floor(r)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=i,r-=n):(r<e.pageY-n||o<e.pageX-i)&&(o=e.pageX-i,r=e.pageY-n),{x:o,y:r}},start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:e(t.target)}},stop:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=e.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(t,i,n,r){if(i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return o(n,"swipe",e.Event("swipe",{target:r,swipestart:t,swipestop:i}),!0),o(n,s,e.Event(s,{target:r,swipestart:t,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,i=this,n=e(i),o={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=o,o.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var n,s=e.event.special.swipe.start(t),a=t.target,l=!1;o.move=function(t){s&&!t.isDefaultPrevented()&&(n=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(s,n,i,a),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},o.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,r.off(u,o.move),o.move=null},r.on(u,o.move).one(c,o.stop)}},n.on(l,o.start)},teardown:function(){var t,i;t=e.data(this,"mobile-events"),t&&(i=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),i&&(i.start&&e(this).off(l,i.start),i.move&&r.off(u,i.move),i.stop&&r.off(c,i.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)},teardown:function(){e(this).unbind(i)}}})}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",r)},teardown:function(){e(this).unbind("resize",r)}};var t,i,n,o=250,r=function(){i=(new Date).getTime(),n=i-s,n>=o?(s=i,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(r,o-n))},s=0}(e),function(e,t){function n(){var e=o();e!==r&&(r=e,h.trigger(d))}var o,r,s,a,l,c,u,h=e(t),d="orientationchange",p={0:!0,180:!0};e.support.orientation&&(l=t.innerWidth||h.width(),c=t.innerHeight||h.height(),u=50,s=l>c&&l-c>u,a=p[t.orientation],(s&&a||!s&&!a)&&(p={"-90":!0,90:!0})),e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return!(e.support.orientation&&!e.event.special.orientationchange.disabled)&&(r=o(),void h.bind("throttledresize",n))},teardown:function(){return!(e.support.orientation&&!e.event.special.orientationchange.disabled)&&void h.unbind("throttledresize",n)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=o=function(){var n=!0,o=i.documentElement;return n=e.support.orientation?p[t.orientation]:o&&o.clientWidth/o.clientHeight<1.1,n?"portrait":"landscape"},e.fn[d]=function(e){return e?this.bind(d,e):this.trigger(d)},e.attrFn&&(e.attrFn[d]=!0)}(e,this),function(e,t){var i=e("head").children("base"),n={element:i.length?i:e("<base>",{href:e.mobile.path.documentBase.hrefNoHash}).prependTo(e("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(t){e.mobile.dynamicBaseEnabled&&e.support.dynamicBaseTag&&n.element.attr("href",e.mobile.path.makeUrlAbsolute(t,e.mobile.path.documentBase))},rewrite:function(t,i){var o=e.mobile.path.get(t);i.find(n.linkSelector).each(function(t,i){var n=e(i).is("[href]")?"href":e(i).is("[src]")?"src":"action",r=e.mobile.path.parseLocation(),s=e(i).attr(n);s=s.replace(r.protocol+r.doubleSlash+r.host+r.pathname,""),/^(\w+:|#|\/)/.test(s)||e(i).attr(n,o+s)})},reset:function(){n.element.attr("href",e.mobile.path.documentBase.hrefNoSearch)}};e.mobile.base=n}(e),function(e,t){e.mobile.widgets={};var i=e.widget,n=e.mobile.keepNative;e.widget=function(i){return function(){var n=i.apply(this,arguments),o=n.prototype.widgetName;return n.initSelector=n.prototype.initSelector!==t?n.prototype.initSelector:":jqmData(role='"+o+"')",e.mobile.widgets[o]=n,n}}(e.widget),e.extend(e.widget,i),e.mobile.document.on("create",function(t){e(t.target).enhanceWithin()}),e.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:e.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")!==!1&&(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===e.mobile.getAttribute(this.element[0],"role")&&e.mobile.dialog&&this.element.dialog()))},_enhance:function(){var i="data-"+e.mobile.ns,n=this;this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+i+"role='content']").each(function(){var o=e(this),r=this.getAttribute(i+"theme")||t;n.options.contentTheme=r||n.options.contentTheme||n.options.dialog&&n.options.theme||"dialog"===n.element.jqmData("role")&&n.options.theme,o.addClass("ui-content"),n.options.contentTheme&&o.addClass("ui-body-"+n.options.contentTheme),o.attr("role","main").addClass("ui-content")})},bindRemove:function(t){var i=this.element;!i.data("mobile-page").options.domCache&&i.is(":jqmData(external-page='true')")&&i.bind("pagehide.remove",t||function(t,i){if(!i.samePage){var n=e(this),o=new e.Event("pageremove");n.trigger(o),o.isDefaultPrevented()||n.removeWithDependents()}})},_setOptions:function(i){i.theme!==t&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+i.theme),i.contentTheme!==t&&this.element.find("[data-"+e.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+i.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(e){this.element.parent().pagecontainer({theme:e||this.options.theme})},keepNativeSelector:function(){var t=this.options,i=e.trim(t.keepNative||""),o=e.trim(e.mobile.keepNative),r=e.trim(t.keepNativeDefault),s=n===o?"":o,a=""===s?r:"";return(i?[i]:[]).concat(s?[s]:[]).concat(a?[a]:[]).join(", ")}})}(e),function(e,n){e.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){e.theme!==n&&"none"!==e.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+e.theme):e.theme!==n&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var e,t,i,n=this._getActiveHistory();n&&(e=this._getScroll(),t=this._getMinScroll(),i=this._getDefaultScroll(),n.lastScroll=e<t?i:e)}},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return e.mobile.minScrollBack},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,i){var n;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(n=t.originalEvent.type.indexOf("hashchange")>-1?i.state.hash:i.state.url,n||(n=this._getHash()),n&&"#"!==n&&0!==n.indexOf("#"+e.mobile.path.uiStateKey)||(n=location.href),this._handleNavigate(n,i.state))},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(i){if(e.mobile.hashListeningEnabled)t.history.go(i);else{var n=e.mobile.navigate.history.activeIndex,o=n+parseInt(i,10),r=e.mobile.navigate.history.stack[o].url,s=i>=1?"forward":"back";e.mobile.navigate.history.activeIndex=o,e.mobile.navigate.history.previousIndex=n,this.change(r,{direction:s,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(t){var i;return"string"===e.type(t)&&(t=e.mobile.path.stripHash(t)),t&&(i=this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_transitionFromHistory:function(e,t){var i=this._getHistory(),n="back"===e?i.getLast():i.getActive();return n&&n.transition||t},_handleDialog:function(t,i){var n,o,r=this.getActivePage();return r&&!r.data("mobile-dialog")?("back"===i.direction?this.back():this.forward(),!1):(n=i.pageUrl,o=this._getActiveHistory(),e.extend(t,{role:o.role,transition:this._transitionFromHistory(i.direction,t.transition),reverse:"back"===i.direction}),n)},_handleNavigate:function(t,i){var n=e.mobile.path.stripHash(t),o=this._getHistory(),r=0===o.stack.length?"none":this._transitionFromHistory(i.direction),s={changeHash:!1,fromHashChange:!0,reverse:"back"===i.direction};e.extend(s,i,{transition:r}),o.activeIndex>0&&n.indexOf(e.mobile.dialogHashKey)>-1&&(n=this._handleDialog(s,i),n===!1)||this._changeContent(this._handleDestination(n),s)},_changeContent:function(t,i){e.mobile.changePage(t,i)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var i,n=this._createFileUrl(t),o=this._createDataUrl(t),r=this._getInitialContent();return i=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(o)+"']"),0===i.length&&o&&!e.mobile.path.isPath(o)&&(i=this.element.children(e.mobile.path.hashToSelector("#"+o)).attr("data-"+this._getNs()+"url",o).jqmData("url",o)),0===i.length&&e.mobile.path.isFirstPageUrl(n)&&r&&r.parent().length&&(i=e(r)),i},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,i,n,o){this._loadMsg||(this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",i,n,o),this._loadMsg=0},this),t))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,i){var n,o=e("<div></div>");return o.get(0).innerHTML=t,n=o.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),n.length||(n=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),n.attr("data-"+this._getNs()+"url",this._createDataUrl(i)).attr("data-"+this._getNs()+"external-page",!0),n},_setLoadedTitle:function(t,i){var n=i.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;n&&!t.jqmData("title")&&(n=e("<div>"+n+"</div>").text(),t.jqmData("title",n))},_isRewritableBaseTag:function(){return e.mobile.dynamicBaseEnabled&&!e.support.dynamicBaseTag},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,i,n){var o=e.Event("page"+t),r=e.Event(this.widgetName+t);return(n||this.element).trigger(o,i),this._trigger(t,r,i),{deprecatedEvent:o,event:r}},_loadSuccess:function(t,i,o,r){var s=this._createFileUrl(t);return e.proxy(function(a,l,c){var u,h=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),d=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");h.test(a)&&RegExp.$1&&d.test(RegExp.$1)&&RegExp.$1&&(s=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),s=this.window[0].encodeURIComponent(s)),o.prefetch===n&&this._getBase().set(s),u=this._parse(a,s),this._setLoadedTitle(u,a),i.xhr=c,i.textStatus=l,i.page=u,i.content=u,i.toPage=u,this._triggerWithDeprecated("load",i).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&u&&this._getBase().rewrite(s,u),this._include(u,o),o.showLoadMsg&&this._hideLoading(),r.resolve(t,o,u))},this)},_loadDefaults:{type:"get",data:n,reloadPage:!1,reload:!1,role:n,showLoadMsg:!1,loadMsgDelay:50},load:function(t,i){var o,r,s,a,l=i&&i.deferred||e.Deferred(),c=i&&i.reload===n&&i.reloadPage!==n?{reload:i.reloadPage}:{},u=e.extend({},this._loadDefaults,i,c),h=null,d=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault());return u.data&&"get"===u.type&&(d=e.mobile.path.addSearchParams(d,u.data),u.data=n),u.data&&"post"===u.type&&(u.reload=!0),o=this._createFileUrl(d),r=this._createDataUrl(d),h=this._find(d),0===h.length&&e.mobile.path.isEmbeddedPage(o)&&!e.mobile.path.isFirstPageUrl(o)?(l.reject(d,u),l.promise()):(this._getBase().reset(),h.length&&!u.reload?(this._enhance(h,u.role),l.resolve(d,u,h),u.prefetch||this._getBase().set(t),l.promise()):(a={url:t,absUrl:d,toPage:t,prevPage:i?i.fromPage:n,dataUrl:r,deferred:l,options:u},s=this._triggerWithDeprecated("beforeload",a),s.deprecatedEvent.isDefaultPrevented()||s.event.isDefaultPrevented()?l.promise():(u.showLoadMsg&&this._showLoading(u.loadMsgDelay),u.prefetch===n&&this._getBase().reset(),e.mobile.allowCrossDomainPages||e.mobile.path.isSameDomain(e.mobile.path.documentUrl,d)?(e.ajax({url:o,type:u.type,data:u.data,contentType:u.contentType,dataType:"html",success:this._loadSuccess(d,a,u,l),error:this._loadError(d,a,u,l)}),l.promise()):(l.reject(d,u),l.promise()))))},_loadError:function(t,i,n,o){return e.proxy(function(r,s,a){this._getBase().set(e.mobile.path.get()),i.xhr=r,i.textStatus=s,i.errorThrown=a;var l=this._triggerWithDeprecated("loadfailed",i);l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented()||(n.showLoadMsg&&this._showError(),o.reject(t,n))},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,i,n){var o=!1;n=n||"",i&&(t[0]===i[0]&&(o=!0),this._triggerWithDeprecated(n+"hide",{nextPage:t,toPage:t,prevPage:i,samePage:o},i)),this._triggerWithDeprecated(n+"show",{prevPage:i||e(""),toPage:t},t)},_cssTransition:function(t,i,n){var o,r,s=n.transition,a=n.reverse,l=n.deferred;this._triggerCssTransitionEvents(t,i,"before"),this._hideLoading(),o=this._getTransitionHandler(s),r=new o(s,a,t,i).transition(),r.done(e.proxy(function(){this._triggerCssTransitionEvents(t,i)},this)),r.done(function(){l.resolve.apply(l,arguments)})},_releaseTransitionLock:function(){r=!1,o.length>0&&e.mobile.changePage.apply(null,o.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,i,n){n.target=t,n.deferred=e.Deferred(),this.load(t,n),n.deferred.done(e.proxy(function(e,t,n){r=!1,t.absUrl=i.absUrl,this.transition(n,i,t)},this)),n.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",i)},this))},_triggerPageBeforeChange:function(t,i,n){var o;return i.prevPage=this.activePage,e.extend(i,{toPage:t,options:n}),"string"===e.type(t)?i.absUrl=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):i.absUrl=n.absUrl,o=this._triggerWithDeprecated("beforechange",i),!o.event.isDefaultPrevented()&&!o.deprecatedEvent.isDefaultPrevented()},change:function(t,i){if(r)return void o.unshift(arguments);var n=e.extend({},e.mobile.changePage.defaults,i),s={};n.fromPage=n.fromPage||this.activePage,this._triggerPageBeforeChange(t,s,n)&&(t=s.toPage,"string"===e.type(t)?(r=!0,this._loadUrl(t,s,n)):this.transition(t,s,n))},transition:function(t,s,a){var l,c,u,h,d,p,f,m,g,v,b,_,y,w;if(r)return void o.unshift([t,a]);if(this._triggerPageBeforeChange(t,s,a)&&(s.prevPage=a.fromPage,w=this._triggerWithDeprecated("beforetransition",s),!w.deprecatedEvent.isDefaultPrevented()&&!w.event.isDefaultPrevented())){if(r=!0,t[0]!==e.mobile.firstPage[0]||a.dataUrl||(a.dataUrl=e.mobile.path.documentUrl.hrefNoHash),l=a.fromPage,c=a.dataUrl&&e.mobile.path.convertUrlToDataUrl(a.dataUrl)||t.jqmData("url"),u=c,h=e.mobile.path.getFilePath(c),d=e.mobile.navigate.history.getActive(),p=0===e.mobile.navigate.history.activeIndex,f=0,m=i.title,g=("dialog"===a.role||"dialog"===t.jqmData("role"))&&t.jqmData("dialog")!==!0,l&&l[0]===t[0]&&!a.allowSamePageTransition)return r=!1,this._triggerWithDeprecated("transition",s),this._triggerWithDeprecated("change",s),void(a.fromHashChange&&e.mobile.navigate.history.direct({url:c}));t.page({role:a.role}),a.fromHashChange&&(f="back"===a.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?e(i.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(x){}v=!1,g&&d&&(d.url&&d.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&e.mobile.navigate.history.activeIndex>0&&(a.changeHash=!1,v=!0),c=d.url||"",c+=!v&&c.indexOf("#")>-1?e.mobile.dialogHashKey:"#"+e.mobile.dialogHashKey),b=d?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():m,b&&m===i.title&&(m=b),t.jqmData("title")||t.jqmData("title",m),a.transition=a.transition||(f&&!p?d.transition:n)||(g?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!f&&v&&(e.mobile.navigate.history.getActive().pageUrl=u),c&&!a.fromHashChange&&(!e.mobile.path.isPath(c)&&c.indexOf("#")<0&&(c="#"+c),_={transition:a.transition,title:m,pageUrl:u,role:a.role},a.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(c),_,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(c,_)),i.title=m,e.mobile.activePage=t,this.activePage=t,a.reverse=a.reverse||f<0,y=e.Deferred(),this._cssTransition(t,l,{transition:a.transition,reverse:a.reverse,deferred:y}),y.done(e.proxy(function(i,n,o,r,l){e.mobile.removeActiveLinkClass(),a.duplicateCachedPage&&a.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",s),this._triggerWithDeprecated("change",s)},this))}},_findBaseWithDefault:function(){var t=this.activePage&&e.mobile.getClosestBaseUrl(this.activePage);return t||e.mobile.path.documentBase.hrefNoHash}}),e.mobile.navreadyDeferred=e.Deferred();var o=[],r=!1}(e),function(e,n){function o(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}var r=e.Deferred(),s=e.Deferred(),a=function(){s.resolve(),s=null},l=e.mobile.path.documentUrl,c=null;e.mobile.loadPage=function(t,i){var n;return i=i||{},n=i.pageContainer||e.mobile.pageContainer,i.deferred=e.Deferred(),n.pagecontainer("load",t,i),i.deferred.promise()},e.mobile.back=function(){var i=t.navigator;this.phonegapNavigationEnabled&&i&&i.app&&i.app.backHistory?i.app.backHistory():e.mobile.pageContainer.pagecontainer("back")},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),i=e.find(".ui-title:eq(0)");return t.length?void t.focus():void(i.length?i.focus():e.focus())},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.changePage=function(t,i){e.mobile.pageContainer.pagecontainer("change",t,i)},e.mobile.changePage.defaults={transition:n,reverse:!1,changeHash:!0,fromHashChange:!1,role:n,duplicateCachedPage:n,pageContainer:n,showLoadMsg:!0,dataUrl:n,fromPage:n,allowSamePageTransition:!1},e.mobile._registerInternalEvents=function(){var i=function(t,i){var n,o,r,s,a=!0;return!(!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target"))&&(n=c&&c.attr("formaction")||t.attr("action"),s=(t.attr("method")||"get").toLowerCase(),n||(n=e.mobile.getClosestBaseUrl(t),"get"===s&&(n=e.mobile.path.parseUrl(n).hrefNoSearch),n===e.mobile.path.documentBase.hrefNoHash&&(n=l.hrefNoSearch)),n=e.mobile.path.makeUrlAbsolute(n,e.mobile.getClosestBaseUrl(t)),!(e.mobile.path.isExternal(n)&&!e.mobile.path.isPermittedCrossDomainRequest(l,n))&&(i||(o=t.serializeArray(),c&&c[0].form===t[0]&&(r=c.attr("name"),r&&(e.each(o,function(e,t){if(t.name===r)return r="",!1}),r&&o.push({name:r,value:c.attr("value")}))),a={url:n,options:{type:s,data:e.param(o),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),a))};e.mobile.document.delegate("form","submit",function(t){var n;t.isDefaultPrevented()||(n=i(e(this)),n&&(e.mobile.changePage(n.url,n.options),t.preventDefault()))}),e.mobile.document.bind("vclick",function(t){var n,r,s=t.target,a=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(c=e(s),e.data(s,"mobile-button")){if(!i(e(s).closest("form"),!0))return;s.parentNode&&(s=s.parentNode)}else{if(s=o(s),!s||"#"===e.mobile.path.parseUrl(s.getAttribute("href")||"#").hash)return;if(!e(s).jqmHijackable().length)return}~s.className.indexOf("ui-link-inherit")?s.parentNode&&(r=e.data(s.parentNode,"buttonElements")):r=e.data(s,"buttonElements"),r?s=r.outer:a=!0,n=e(s),a&&(n=n.closest(".ui-btn")),n.length>0&&!n.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=n,e.mobile.activeClickedLink.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(i){if(e.mobile.linkBindingEnabled&&!i.isDefaultPrevented()){var r,s,a,c,u,h,d,p=o(i.target),f=e(p),m=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)};if(e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===i.target.parentNode&&m(),p&&!(i.which>1)&&f.jqmHijackable().length){if(f.is(":jqmData(rel='back')"))return e.mobile.back(),!1;if(r=e.mobile.getClosestBaseUrl(f),s=e.mobile.path.makeUrlAbsolute(f.attr("href")||"#",r),!e.mobile.ajaxEnabled&&!e.mobile.path.isEmbeddedPage(s))return void m();if(!(s.search("#")===-1||e.mobile.path.isExternal(s)&&e.mobile.path.isAbsoluteUrl(s))){if(s=s.replace(/[^#]*#/,""),!s)return void i.preventDefault();s=e.mobile.path.isPath(s)?e.mobile.path.makeUrlAbsolute(s,r):e.mobile.path.makeUrlAbsolute("#"+s,l.hrefNoHash)}if(a=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),c=a||e.mobile.path.isExternal(s)&&!e.mobile.path.isPermittedCrossDomainRequest(l,s))return void m();u=f.jqmData("transition"),h="reverse"===f.jqmData("direction")||f.jqmData("back"),d=f.attr("data-"+e.mobile.ns+"rel")||n,e.mobile.changePage(s,{transition:u,reverse:h,role:d,link:f}),i.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var i=e(this),n=i.attr("href");n&&e.inArray(n,t)===-1&&(t.push(n),e.mobile.loadPage(n,{role:i.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.pageContainer.pagecontainer(),e.mobile.document.bind("pageshow",function(){s?s.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){r.resolve()}),"complete"===i.readyState?a():e.mobile.window.load(a),e.when(r,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t,i){e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,i,n,o){e.extend(this,{name:t,reverse:i,$to:n,$from:o,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass(e.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(e.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,i,n){this.beforeDoneOut(),this.startIn(e,t,i,n)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,i,n,o){this.hideIn(function(){this.$to.addClass(e.mobile.activePageClass+this.toPreClass),o||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),n||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+i),n?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,i,n){this.beforeStartOut(t,i,n),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+i)},toggleViewportClass:function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var t,i=this.reverse?" reverse":"",n=e.mobile.getScreenHeight(),o=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=e.mobile.navigate.history.getActive().lastScroll||e.mobile.defaultHomeScroll,t=!e.support.cssTransitions||!e.support.cssAnimations||o||!this.name||"none"===this.name||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!t?this.startOut(n,i,t):this.doneOut(n,i,t,!0),this.deferred.promise()}})}(e,this),function(e){e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,i,n){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,i,n)},this))}})}(e),function(e){e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,i){this.doneOut(e,t,i)}})}(e),function(e){var t=function(){return 3*e.mobile.getScreenHeight()};e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||t}(e),function(e,t,i){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e,t,i){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e,t,i){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e,t,i){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e,t,i){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e,t,i){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e,t,i){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e,t,i){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e,t){e.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.page.prototype.options.degradeInputs=e.mobile.degradeInputs,e.mobile.degradeInputsWithin=function(t){t=e(t),t.find("input").not(e.mobile.page.prototype.keepNativeSelector()).each(function(){var t,i,n,o,r=e(this),s=this.getAttribute("type"),a=e.mobile.degradeInputs[s]||"text";e.mobile.degradeInputs[s]&&(t=e("<div>").html(r.clone()).html(),i=t.indexOf(" type=")>-1,n=i?/\s+type=["']?\w+['"]?/:/\/?>/,o=' type="'+a+'" data-'+e.mobile.ns+'type="'+s+'"'+(i?"":">"),r.replaceWith(t.replace(n,o)))})}}(e),function(e,t,i){e.widget("mobile.page",e.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(e.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(t){var n,o,r=this.options;t.corners!==i&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==i&&e.mobile.activePage[0]===this.element[0]&&(r.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==i&&(n=r.closeBtn,o=t.closeBtnText),t.closeBtn!==i&&(n=t.closeBtn),n&&this._setCloseBtn(n,o),this._super(t)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(t,i){var n,o=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?o&&(o.remove(),o=null):o?(o.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),i&&o.text(i)):(n=this._inner.find(":jqmData(role='header')").first(),o=e("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).attr("data-"+e.mobile.ns+"rel","back").text(i||this.options.closeBtnText||"").prependTo(n)),this._headerCloseButton=o}})}(e,this),function(e,t,i){e.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme);
},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(t){var i,n=e(t.target).closest("vclick"===t.type?"a":"form");n.length&&!n.jqmData("transition")&&(i={},i["data-"+e.mobile.ns+"transition"]=(e.mobile.navigate.history.getActive()||{}).transition||e.mobile.defaultDialogTransition,i["data-"+e.mobile.ns+"direction"]="reverse",n.attr(i))},_create:function(){var t=this.element,i=this.options;t.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(i.corners?" ui-corner-all":"")})),e.extend(this,{_isCloseable:!1,_inner:t.children(),_headerCloseButton:null}),this._on(t,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(i.closeBtn)},_setOptions:function(t){var n,o,r=this.options;t.corners!==i&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==i&&e.mobile.activePage[0]===this.element[0]&&(r.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==i&&(n=r.closeBtn,o=t.closeBtnText),t.closeBtn!==i&&(n=t.closeBtn),n&&this._setCloseBtn(n,o),this._super(t)},_setCloseBtn:function(t,i){var n,o=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?o&&(o.remove(),o=null):o?(o.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),i&&o.text(i)):(n=this._inner.find(":jqmData(role='header')").first(),o=e("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).text(i||this.options.closeBtnText||"").prependTo(n),this._on(o,{click:"close"})),this._headerCloseButton=o},close:function(){var t=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&t.activeIndex>0?e.mobile.back():e.mobile.pageContainer.pagecontainer("back"))}})}(e,this),function(e,t){var i=/([A-Z])/g,n=function(e){return"ui-btn-icon-"+(null===e?"left":e)};e.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var t=this.element,i={accordion:t.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(e.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=i,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(i.heading=this.element.children(".ui-collapsible-heading"),i.content=i.heading.next(),i.anchor=i.heading.children(),i.status=i.anchor.children(".ui-collapsible-heading-status")):this._enhance(t,i),this._on(i.heading,{tap:function(){i.heading.find("a").first().addClass(e.mobile.activeBtnClass)},click:function(e){this._handleExpandCollapse(!i.heading.hasClass("ui-collapsible-heading-collapsed")),e.preventDefault(),e.stopPropagation()}})},_getOptions:function(t){var n,o=this._ui.accordion,r=this._ui.accordionWidget;t=e.extend({},t),o.length&&!r&&(this._ui.accordionWidget=r=o.data("mobile-collapsibleset"));for(n in t)t[n]=null!=t[n]?t[n]:r?r.options[n]:o.length?e.mobile.getAttribute(o[0],n.replace(i,"-$1").toLowerCase()):null,null==t[n]&&(t[n]=e.mobile.collapsible.defaults[n]);return t},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_enhance:function(t,i){var o,r=this._renderedOptions,s=this._themeClassFromOption("ui-body-",r.contentTheme);return t.addClass("ui-collapsible "+(r.inset?"ui-collapsible-inset ":"")+(r.inset&&r.corners?"ui-corner-all ":"")+(s?"ui-collapsible-themed-content ":"")),i.originalHeading=t.children(this.options.heading).first(),i.content=t.wrapInner("<div class='ui-collapsible-content "+s+"'></div>").children(".ui-collapsible-content"),i.heading=i.originalHeading,i.heading.is("legend")&&(i.heading=e("<div role='heading'>"+i.heading.html()+"</div>"),i.placeholder=e("<div><!-- placeholder for legend --></div>").insertBefore(i.originalHeading),i.originalHeading.remove()),o=r.collapsed?r.collapsedIcon?"ui-icon-"+r.collapsedIcon:"":r.expandedIcon?"ui-icon-"+r.expandedIcon:"",i.status=e("<span class='ui-collapsible-heading-status'></span>"),i.anchor=i.heading.detach().addClass("ui-collapsible-heading").append(i.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(o?o+" ":"")+(o?n(r.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",r.theme)+" "+(r.mini?"ui-mini ":"")),i.heading.insertBefore(i.content),this._handleExpandCollapse(this.options.collapsed),i},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(e){var i,o,r,s,a,l=this.element,c=this._renderedOptions,u=this._ui,h=u.anchor,d=u.status,p=this._getOptions(e);e.collapsed!==t&&this._handleExpandCollapse(e.collapsed),i=l.hasClass("ui-collapsible-collapsed"),i?p.expandCueText!==t&&d.text(p.expandCueText):p.collapseCueText!==t&&d.text(p.collapseCueText),a=p.collapsedIcon!==t?p.collapsedIcon!==!1:c.collapsedIcon!==!1,p.iconpos===t&&p.collapsedIcon===t&&p.expandedIcon===t||(h.removeClass([n(c.iconpos)].concat(c.expandedIcon?["ui-icon-"+c.expandedIcon]:[]).concat(c.collapsedIcon?["ui-icon-"+c.collapsedIcon]:[]).join(" ")),a&&h.addClass([n(p.iconpos!==t?p.iconpos:c.iconpos)].concat(i?["ui-icon-"+(p.collapsedIcon!==t?p.collapsedIcon:c.collapsedIcon)]:["ui-icon-"+(p.expandedIcon!==t?p.expandedIcon:c.expandedIcon)]).join(" "))),p.theme!==t&&(r=this._themeClassFromOption("ui-btn-",c.theme),o=this._themeClassFromOption("ui-btn-",p.theme),h.removeClass(r).addClass(o)),p.contentTheme!==t&&(r=this._themeClassFromOption("ui-body-",c.contentTheme),o=this._themeClassFromOption("ui-body-",p.contentTheme),u.content.removeClass(r).addClass(o)),p.inset!==t&&(l.toggleClass("ui-collapsible-inset",p.inset),s=!(!p.inset||!p.corners&&!c.corners)),p.corners!==t&&(s=!(!p.corners||!p.inset&&!c.inset)),s!==t&&l.toggleClass("ui-corner-all",s),p.mini!==t&&h.toggleClass("ui-mini",p.mini)},_setOptions:function(e){this._applyOptions(e),this._super(e),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(t){var i=this._renderedOptions,n=this._ui;n.status.text(t?i.expandCueText:i.collapseCueText),n.heading.toggleClass("ui-collapsible-heading-collapsed",t).find("a").first().toggleClass("ui-icon-"+i.expandedIcon,!t).toggleClass("ui-icon-"+i.collapsedIcon,t||i.expandedIcon===i.collapsedIcon).removeClass(e.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",t),n.content.toggleClass("ui-collapsible-content-collapsed",t).attr("aria-hidden",t).trigger("updatelayout"),this.options.collapsed=t,this._trigger(t?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var e=this._ui,t=this.options;t.enhanced||(e.placeholder?(e.originalHeading.insertBefore(e.placeholder),e.placeholder.remove(),e.heading.remove()):(e.status.remove(),e.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),e.anchor.contents().unwrap(),e.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),e.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(e),function(e,t){function i(t){var i,o=t.length,r=[];for(i=0;i<o;i++)t[i].className.match(n)||r.push(t[i]);return e(r)}var n=/\bui-screen-hidden\b/;e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var n;return t?n=i(e):(n=e.filter(":visible"),0===n.length&&(n=i(e))),n},_addFirstLastClasses:function(e,t,i){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(e){e.removeClass("ui-first-child ui-last-child")}}}(e),function(e,t){var i=":mobile-collapsible, "+e.mobile.collapsible.initSelector;e.widget("mobile.collapsibleset",e.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:e.extend({enhanced:!1},e.mobile.collapsible.defaults),_handleCollapsibleExpand:function(t){var i=e(t.target).closest(".ui-collapsible");i.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var t=this.element,i=this.options;e.extend(this,{_classes:""}),i.enhanced||(t.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",i.theme)+" "+(i.corners&&i.inset?"ui-corner-all ":"")),this.element.find(e.mobile.collapsible.initSelector).collapsible()),this._on(t,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_init:function(){this._refresh(!0),this.element.children(i).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(e){var i,n,o=this.element,r=this._themeClassFromOption("ui-group-theme-",e.theme);return r&&o.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(r),e.inset!==t&&(n=!(!e.inset||!e.corners&&!this.options.corners)),e.corners!==t&&(n=!(!e.corners||!e.inset&&!this.options.inset)),n!==t&&o.toggleClass("ui-corner-all",n),i=this._super(e),this.element.children(":mobile-collapsible").collapsible("refresh"),i},_destroy:function(){var e=this.element;this._removeFirstLastClasses(e.children(i)),e.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(t){var n=this.element.children(i);this.element.find(e.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(n,this._getVisibles(n,t),t)},refresh:function(){this._refresh(!1)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){e.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(e),function(e,t){e.fn.grid=function(t){return this.each(function(){var i,n,o=e(this),r=e.extend({grid:null},t),s=o.children(),a={solo:1,a:2,b:3,c:4,d:5},l=r.grid;if(!l)if(s.length<=5)for(n in a)a[n]===s.length&&(l=n);else l="a",o.addClass("ui-grid-duo");i=a[l],o.addClass("ui-grid-"+l),s.filter(":nth-child("+i+"n+1)").addClass("ui-block-a"),i>1&&s.filter(":nth-child("+i+"n+2)").addClass("ui-block-b"),i>2&&s.filter(":nth-child("+i+"n+3)").addClass("ui-block-c"),i>3&&s.filter(":nth-child("+i+"n+4)").addClass("ui-block-d"),i>4&&s.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var n=this.element,o=n.find("a, button"),r=o.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),o.each(function(){var t=e.mobile.getAttribute(this,"icon"),i=e.mobile.getAttribute(this,"theme"),n="ui-btn";i&&(n+=" ui-btn-"+i),t&&(n+=" ui-icon-"+t+" ui-btn-icon-"+r),e(this).addClass(n)}),n.delegate("a","vclick",function(){var t=e(this);t.hasClass("ui-state-disabled")||t.hasClass("ui-disabled")||t.hasClass(e.mobile.activeBtnClass)||(o.removeClass(e.mobile.activeBtnClass),t.addClass(e.mobile.activeBtnClass),e(i).one("pagehide",function(){t.removeClass(e.mobile.activeBtnClass)}))}),n.closest(".ui-page").bind("pagebeforeshow",function(){o.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}})}(e),function(e,t){var i=e.mobile.getAttribute;e.widget("mobile.listview",e.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",e.options.inset&&(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(" ui-listview"+t),e.refresh(!0)},_findFirstElementByTagName:function(e,t,i,n){var o={};for(o[i]=o[n]=!0;e;){if(o[e.nodeName])return e;e=e[t]}return null},_addThumbClasses:function(t){var i,n,o=t.length;for(i=0;i<o;i++)n=e(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG")),n.length&&e(this._findFirstElementByTagName(n[0].parentNode,"parentNode","li","LI")).addClass(n.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(t,i,n){var o=[],r={};for(r[i]=r[n]=!0,t=t.firstChild;t;)r[t.nodeName]&&o.push(t),t=t.nextSibling;return e(o)},_beforeListviewRefresh:e.noop,_afterListviewRefresh:e.noop,refresh:function(t){var n,o,r,s,a,l,c,u,h,d,p,f,m,g,v,b,_,y,w,x,C=this.options,$=this.element,k=!!e.nodeName($[0],"ol"),T=$.attr("start"),S={},D=$.find(".ui-li-count"),P=i($[0],"counttheme")||this.options.countTheme,A=P?"ui-body-"+P:"ui-body-inherit";for(C.theme&&$.addClass("ui-group-theme-"+C.theme),k&&(T||0===T)&&(p=parseInt(T,10)-1,$.css("counter-reset","listnumbering "+p)),this._beforeListviewRefresh(),x=this._getChildrenByTagName($[0],"li","LI"),o=0,r=x.length;o<r;o++)s=x.eq(o),a="",(t||s[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(h=this._getChildrenByTagName(s[0],"a","A"),d="list-divider"===i(s[0],"role"),m=s.attr("value"),l=i(s[0],"theme"),h.length&&h[0].className.search(/\bui-btn\b/)<0&&!d?(c=i(s[0],"icon"),u=c!==!1&&(c||C.icon),h.removeClass("ui-link"),n="ui-btn",l&&(n+=" ui-btn-"+l),h.length>1?(a="ui-li-has-alt",g=h.last(),v=i(g[0],"theme")||C.splitTheme||i(s[0],"theme",!0),b=v?" ui-btn-"+v:"",_=i(g[0],"icon")||i(s[0],"icon")||C.splitIcon,y="ui-btn ui-btn-icon-notext ui-icon-"+_+b,g.attr("title",e.trim(g.getEncodedText())).addClass(y).empty(),h=h.first()):u&&(n+=" ui-btn-icon-right ui-icon-"+u),h.addClass(n)):d?(w=i(s[0],"theme")||C.dividerTheme||C.theme,a="ui-li-divider ui-bar-"+(w?w:"inherit"),s.attr("role","heading")):h.length<=0&&(a="ui-li-static ui-body-"+(l?l:"inherit")),k&&m&&(f=parseInt(m,10)-1,s.css("counter-reset","listnumbering "+f))),S[a]||(S[a]=[]),S[a].push(s[0]);for(a in S)e(S[a]).addClass(a);D.each(function(){e(this).closest("li").addClass("ui-li-has-count")}),A&&D.not("[class*='ui-body-']").addClass(A),this._addThumbClasses(x),this._addThumbClasses(x.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(x,this._getVisibles(x,t),t)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){function n(t){var i=e.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null}e.widget("mobile.listview",e.mobile.listview,{options:{autodividers:!1,autodividersSelector:n},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var t,n,o,r,s,a=null,l=this.element;for(l.children("li:jqmData(role='list-divider')").remove(),n=l.children("li"),t=0;t<n.length;t++)o=n[t],r=this.options.autodividersSelector(e(o)),r&&a!==r&&(s=i.createElement("li"),s.appendChild(i.createTextNode(r)),s.setAttribute("data-"+e.mobile.ns+"role","list-divider"),o.parentNode.insertBefore(s,o)),a=r}})}(e),function(e,t){var i=/(^|\s)ui-li-divider($|\s)/,n=/(^|\s)ui-screen-hidden($|\s)/;e.widget("mobile.listview",e.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var e,t,o,r=!0;if(this._superApply(arguments),this.options.hideDividers)for(e=this._getChildrenByTagName(this.element[0],"li","LI"),t=e.length-1;t>-1;t--)o=e[t],o.className.match(i)?(r&&(o.className=o.className+" ui-screen-hidden"),r=!0):o.className.match(n)||(r=!1)}})}(e),function(e,t){e.mobile.nojs=function(t){e(":jqmData(role='nojs')",t).addClass("ui-nojs")}}(e),function(e,t){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,t){var i=e.mobile.path.hashToSelector;e.widget("mobile.checkboxradio",e.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var t=this.element,i=this.options,n=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},o=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),r=t[0].type,s="ui-"+r+"-on",a="ui-"+r+"-off";"checkbox"!==r&&"radio"!==r||(this.element[0].disabled&&(this.options.disabled=!0),i.iconpos=n(t,"iconpos")||o.element.attr("data-"+e.mobile.ns+"iconpos")||i.iconpos,i.mini=n(t,"mini")||i.mini,e.extend(this,{input:t,label:o.element,labelIsParent:o.isParent,inputtype:r,checkedClass:s,uncheckedClass:a}),this.options.enhanced||this._enhance(),this._on(o.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(t,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var t,n,o,r=this.element,s=r[0].labels;return s&&s.length>0?(n=e(s[0]),o=e.contains(n[0],r[0])):(t=r.closest("label"),o=t.length>0,n=o?t:e(this.document[0].getElementsByTagName("label")).filter("[for='"+i(r[0].id)+"']").first()),{element:n,isParent:o}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return e("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(e.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(e.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(e){this.label.parent().hasClass("ui-state-disabled")&&e.stopPropagation()},_handleLabelVClick:function(e){var t=this.element;return t.is(":disabled")?void e.preventDefault():(this._cacheVals(),t.prop("checked","radio"===this.inputtype&&!0||!t.prop("checked")),t.triggerHandler("click"),this._getInputSet().not(t).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){e(this).attr("data-"+e.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var t,n,o=this.element[0],r=o.name,s=o.form,a=this.element.parents().last().get(0),l=this.element;return r&&"radio"===this.inputtype&&a&&(t="input[type='radio'][name='"+i(r)+"']",s?(n=s.getAttribute("id"),n&&(l=e(t+"[form='"+i(n)+"']",a)),l=e(s).find(t).filter(function(){return this.form===s}).add(l)):l=e(t,a).filter(function(){return!this.form})),l},_updateAll:function(t){var i=this;this._getInputSet().each(function(){var n=e(this);!this.checked&&"checkbox"!==i.inputtype||t||n.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var t,i,n=e.mobile.controlgroup;return!(n&&(t=this.element.closest(":mobile-controlgroup,"+n.prototype.initSelector),t.length>0))||(i=e.data(t[0],"mobile-controlgroup"),"horizontal"!==(i?i.options.type:t.attr("data-"+e.mobile.ns+"type")))},refresh:function(){var t=this.element[0].checked,i=e.mobile.activeBtnClass,n="ui-btn-icon-"+this.options.iconpos,o=[],r=[];this._hasIcon()?(r.push(i),o.push(n)):(r.push(n),(t?o:r).push(i)),t?(o.push(this.checkedClass),r.push(this.uncheckedClass)):(o.push(this.uncheckedClass),r.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(o.join(" ")).removeClass(r.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(e){var i=this.label,n=this.options,o=this.widget(),r=this._hasIcon();e.disabled!==t&&(this.input.prop("disabled",!!e.disabled),o.toggleClass("ui-state-disabled",!!e.disabled)),e.mini!==t&&o.toggleClass("ui-mini",!!e.mini),e.theme!==t&&i.removeClass("ui-btn-"+n.theme).addClass("ui-btn-"+e.theme),e.wrapperClass!==t&&o.removeClass(n.wrapperClass).addClass(e.wrapperClass),e.iconpos!==t&&r?i.removeClass("ui-btn-icon-"+n.iconpos).addClass("ui-btn-icon-"+e.iconpos):r||i.removeClass("ui-btn-icon-"+n.iconpos),this._super(e)}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),e.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(e.mobile.focusClass)},blur:function(){this.widget().removeClass(e.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var t=this.options,i=this._getIconClasses(this.options);return e("<div class='ui-btn ui-input-btn"+(t.wrapperClass?" "+t.wrapperClass:"")+(t.theme?" ui-btn-"+t.theme:"")+(t.corners?" ui-corner-all":"")+(t.shadow?" ui-shadow":"")+(t.inline?" ui-btn-inline":"")+(t.mini?" ui-mini":"")+(t.disabled?" ui-state-disabled":"")+(i?" "+i:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(e){return e.icon?"ui-icon-"+e.icon+(e.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+e.iconpos:""},_setOptions:function(i){var n=this.widget();i.theme!==t&&n.removeClass(this.options.theme).addClass("ui-btn-"+i.theme),i.corners!==t&&n.toggleClass("ui-corner-all",i.corners),i.shadow!==t&&n.toggleClass("ui-shadow",i.shadow),i.inline!==t&&n.toggleClass("ui-btn-inline",i.inline),i.mini!==t&&n.toggleClass("ui-mini",i.mini),i.disabled!==t&&(this.element.prop("disabled",i.disabled),n.toggleClass("ui-state-disabled",i.disabled)),i.icon===t&&i.iconshadow===t&&i.iconpos===t||n.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(e.extend({},this.options,i))),this._super(i)},refresh:function(t){var i,n=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),t||(i=this.element.detach(),e(this.wrapper).text(this.element.val()).append(i)),this.options.disabled!==n&&this._setOptions({disabled:n})}})}(e),function(e){var t=e("meta[name=viewport]"),i=t.attr("content"),n=i+",maximum-scale=1, user-scalable=no",o=i+",maximum-scale=10, user-scalable=yes",r=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);e.mobile.zoom=e.extend({},{enabled:!r,locked:!1,disable:function(i){r||e.mobile.zoom.locked||(t.attr("content",n),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=i||!1)},enable:function(i){r||e.mobile.zoom.locked&&i!==!0||(t.attr("content",o),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){r||(t.attr("content",i),e.mobile.zoom.enabled=!0)}})}(e),function(e,t){e.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var t=this.options,i=this.element.is("[type='search'], :jqmData(type='search')"),n="TEXTAREA"===this.element[0].tagName,o=this.element.is("[data-"+(e.mobile.ns||"")+"type='range']"),r=(this.element.is("input")||this.element.is("[data-"+(e.mobile.ns||"")+"type='search']"))&&!o;this.element.prop("disabled")&&(t.disabled=!0),e.extend(this,{classes:this._classesFromOptions(),isSearch:i,isTextarea:n,isRange:o,inputNeedsWrap:r}),this._autoCorrect(),t.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var e=[];this.isTextarea&&e.push("ui-input-text"),(this.isTextarea||this.isRange)&&e.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):e=e.concat(this.classes),this.element.addClass(e.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var e=this.options,t=[];return t.push("ui-body-"+(null===e.theme?"inherit":e.theme)),e.corners&&t.push("ui-corner-all"),e.mini&&t.push("ui-mini"),e.disabled&&t.push("ui-state-disabled"),e.wrapperClass&&t.push(e.wrapperClass),t},_wrap:function(){return e("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||e.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(e.mobile.focusClass),this.options.preventFocusZoom&&e.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&e.mobile.zoom.disable(!0),this.widget().addClass(e.mobile.focusClass)},_setOptions:function(e){var i=this.widget();this._super(e),e.disabled===t&&e.mini===t&&e.corners===t&&e.theme===t&&e.wrapperClass===t||(i.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),i.addClass(this.classes.join(" "))),e.disabled!==t&&this.element.prop("disabled",!!e.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(e),function(e,n){e.widget("mobile.slider",e.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var o,r,s,a,l,c,u,h,d,p,f=this,m=this.element,g=this.options.trackTheme||e.mobile.getAttribute(m[0],"theme"),v=g?" ui-bar-"+g:" ui-bar-inherit",b=this.options.corners||m.jqmData("corners")?" ui-corner-all":"",_=this.options.mini||m.jqmData("mini")?" ui-mini":"",y=m[0].nodeName.toLowerCase(),w="select"===y,x=m.parent().is(":jqmData(role='rangeslider')"),C=w?"ui-slider-switch":"",$=m.attr("id"),k=e("[for='"+$+"']"),T=k.attr("id")||$+"-label",S=w?0:parseFloat(m.attr("min")),D=w?m.find("option").length-1:parseFloat(m.attr("max")),P=t.parseFloat(m.attr("step")||1),A=i.createElement("a"),E=e(A),I=i.createElement("div"),O=e(I),N=!(!this.options.highlight||w)&&function(){var t=i.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(O)}();if(k.attr("id",T),this.isToggleSwitch=w,A.setAttribute("href","#"),I.setAttribute("role","application"),I.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",C,v,b,_].join(""),A.className="ui-slider-handle",I.appendChild(A),E.attr({role:"slider","aria-valuemin":S,"aria-valuemax":D,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":T}),e.extend(this,{slider:O,handle:E,control:m,type:y,step:P,max:D,min:S,valuebg:N,isRangeslider:x,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),w){for(u=m.attr("tabindex"),u&&E.attr("tabindex",u),m.attr("tabindex","-1").focus(function(){e(this).blur(),E.focus()}),r=i.createElement("div"),r.className="ui-slider-inneroffset",s=0,a=I.childNodes.length;s<a;s++)r.appendChild(I.childNodes[s]);for(I.appendChild(r),E.addClass("ui-slider-handle-snapping"),o=m.find("option"),l=0,c=o.length;l<c;l++)h=l?"a":"b",d=l?" "+e.mobile.activeBtnClass:"",p=i.createElement("span"),p.className=["ui-slider-label ui-slider-label-",h,d].join(""),p.setAttribute("role","img"),p.appendChild(i.createTextNode(o[l].innerHTML)),e(p).prependTo(O);f._labels=e(".ui-slider-label",O)}m.addClass(w?"ui-slider-switch":"ui-slider-input"),this._on(m,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),O.bind("vmousedown",e.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(i,{vmousemove:"_preventDocumentDrag"}),this._on(O.add(i),{vmouseup:"_sliderVMouseUp"}),O.insertAfter(m),w||x||(r=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",m.add(O).wrapAll(r)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(n,n,!0)},_setOptions:function(e){e.theme!==n&&this._setTheme(e.theme),e.trackTheme!==n&&this._setTrackTheme(e.trackTheme),e.corners!==n&&this._setCorners(e.corners),e.mini!==n&&this._setMini(e.mini),e.highlight!==n&&this._setHighlight(e.highlight),e.disabled!==n&&this._setDisabled(e.disabled),this._super(e)},_controlChange:function(e){return this._trigger("controlchange",e)!==!1&&void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var i=this._value();if(!this.options.disabled){switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:this.refresh(this.min);break;case e.mobile.keyCode.END:this.refresh(this.max);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:this.refresh(i+this.step);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:this.refresh(i-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(e){return!(this.options.disabled||1!==e.which&&0!==e.which&&e.which!==n)&&(this._trigger("beforestart",e)!==!1&&(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(e),this._trigger("start"),!1))},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(e){return this._trigger("drag",e)!==!1&&(this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(e),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0)},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(n,!1,!0)},refresh:function(t,n,o){
var r,s,a,l,c,u,h,d,p,f,m,g,v,b,_,y,w,x,C,$,k=this,T=e.mobile.getAttribute(this.element[0],"theme"),S=this.options.theme||T,D=S?" ui-btn-"+S:"",P=this.options.trackTheme||T,A=P?" ui-bar-"+P:" ui-bar-inherit",E=this.options.corners?" ui-corner-all":"",I=this.options.mini?" ui-mini":"";if(k.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",A,E,I].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var t=i.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(k.slider)}()),this.handle.addClass("ui-btn"+D+" ui-shadow"),h=this.element,d=!this.isToggleSwitch,p=d?[]:h.find("option"),f=d?parseFloat(h.attr("min")):0,m=d?parseFloat(h.attr("max")):p.length-1,g=d&&parseFloat(h.attr("step"))>0?parseFloat(h.attr("step")):1,"object"==typeof t){if(a=t,l=8,r=this.slider.offset().left,s=this.slider.width(),c=s/((m-f)/g),!this.dragging||a.pageX<r-l||a.pageX>r+s+l)return;u=c>1?(a.pageX-r)/s*100:Math.round((a.pageX-r)/s*100)}else null==t&&(t=d?parseFloat(h.val()||0):h[0].selectedIndex),u=(parseFloat(t)-f)/(m-f)*100;if(!isNaN(u)&&(v=u/100*(m-f)+f,b=(v-f)%g,_=v-b,2*Math.abs(b)>=g&&(_+=b>0?g:-g),y=100/((m-f)/g),v=parseFloat(_.toFixed(5)),"undefined"==typeof c&&(c=s/((m-f)/g)),c>1&&d&&(u=(v-f)*y*(1/g)),u<0&&(u=0),u>100&&(u=100),v<f&&(v=f),v>m&&(v=m),this.handle.css("left",u+"%"),this.handle[0].setAttribute("aria-valuenow",d?v:p.eq(v).attr("value")),this.handle[0].setAttribute("aria-valuetext",d?v:p.eq(v).getEncodedText()),this.handle[0].setAttribute("title",d?v:p.eq(v).getEncodedText()),this.valuebg&&this.valuebg.css("width",u+"%"),this._labels&&(w=this.handle.width()/this.slider.width()*100,x=u&&w+(100-w)*u/100,C=100===u?0:Math.min(w+100-x,100),this._labels.each(function(){var t=e(this).hasClass("ui-slider-label-a");e(this).width((t?x:C)+"%")})),!o)){if($=!1,d?($=parseFloat(h.val())!==v,h.val(v)):($=h[0].selectedIndex!==v,h[0].selectedIndex=v),this._trigger("beforechange",t)===!1)return!1;!n&&$&&h.trigger("change")}},_setHighlight:function(e){e=!!e,e?(this.options.highlight=!!e,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(e){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+e);var t=this.options.theme?this.options.theme:"inherit",i=e?e:"inherit";this.control.removeClass("ui-body-"+t).addClass("ui-body-"+i)},_setTrackTheme:function(e){var t=this.options.trackTheme?this.options.trackTheme:"inherit",i=e?e:"inherit";this.slider.removeClass("ui-body-"+t).addClass("ui-body-"+i)},_setMini:function(e){e=!!e,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",e),this.element.toggleClass("ui-mini",e)),this.slider.toggleClass("ui-mini",e)},_setCorners:function(e){this.slider.toggleClass("ui-corner-all",e),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",e)},_setDisabled:function(e){e=!!e,this.element.prop("disabled",e),this.slider.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.toggleClass("ui-state-disabled",e)}},e.mobile.behaviors.formReset))}(e),function(e,t){function i(){return n||(n=e("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),n.clone()}var n;e.widget("mobile.slider",e.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),e.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var e=this.handle.offset();this._popup.offset({left:e.left+(this.handle.width()-this._popup.width())/2,top:e.top-this._popup.outerHeight()-5})},_setOption:function(e,t){this._super(e,t),"showValue"===e?this.handle.html(t&&!this.options.mini?this._value():""):"popupEnabled"===e&&t&&!this._popup&&(this._popup=i().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var e,t=this.options;t.popupEnabled&&this.handle.removeAttr("title"),e=this._value(),e!==this._currentValue&&(this._currentValue=e,t.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(e)),t.showValue&&!this.options.mini&&this.handle.html(e))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var e=this.options;e.popupEnabled&&this._popupVisible&&(e.showValue&&!e.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(e),function(e,t){e.widget("mobile.flipswitch",e.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?e.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var t=e("<div>"),i=this.options,n=this.element,o=i.theme?i.theme:"inherit",r=e("<a></a>",{href:"#"}),s=e("<span></span>"),a=n.get(0).tagName,l="INPUT"===a?i.onText:n.find("option").eq(1).text(),c="INPUT"===a?i.offText:n.find("option").eq(0).text();r.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(l),s.addClass("ui-flipswitch-off").text(c),t.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+o+" "+(i.wrapperClass?i.wrapperClass:"")+" "+(n.is(":checked")||n.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(n.is(":disabled")?" ui-state-disabled":"")+(i.corners?" ui-corner-all":"")+(i.mini?" ui-mini":"")).append(r,s),n.addClass("ui-flipswitch-input").after(t).appendTo(t),e.extend(this,{flipswitch:t,on:r,off:s,type:a})},_reset:function(){this.refresh()},refresh:function(){var e,t=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";e="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",e!==t&&this[e]()},_toggle:function(){var e=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[e]()},_keydown:function(t){t.which===e.mobile.keyCode.LEFT?this._left():t.which===e.mobile.keyCode.RIGHT?this._right():t.which===e.mobile.keyCode.SPACE&&(this._toggle(),t.preventDefault())},_setOptions:function(e){if(e.theme!==t){var i=e.theme?e.theme:"inherit",n=e.theme?e.theme:"inherit";this.widget().removeClass("ui-bar-"+i).addClass("ui-bar-"+n)}e.onText!==t&&this.on.text(e.onText),e.offText!==t&&this.off.text(e.offText),e.disabled!==t&&this.widget().toggleClass("ui-state-disabled",e.disabled),e.mini!==t&&this.widget().toggleClass("ui-mini",e.mini),e.corners!==t&&this.widget().toggleClass("ui-corner-all",e.corners),this._super(e)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.rangeslider",e.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var t=this.element,i=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",n=t.find("input").first(),o=t.find("input").last(),r=t.find("label").first(),s=e.data(n.get(0),"mobile-slider")||e.data(n.slider().get(0),"mobile-slider"),a=e.data(o.get(0),"mobile-slider")||e.data(o.slider().get(0),"mobile-slider"),l=s.slider,c=a.slider,u=s.handle,h=e("<div class='ui-rangeslider-sliders' />").appendTo(t);n.addClass("ui-rangeslider-first"),o.addClass("ui-rangeslider-last"),t.addClass(i),l.appendTo(h),c.appendTo(h),r.insertBefore(t),u.prependTo(c),e.extend(this,{_inputFirst:n,_inputLast:o,_sliderFirst:l,_sliderLast:c,_label:r,_targetVal:null,_sliderTarget:!1,_sliders:h,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(u,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var e=this;setTimeout(function(){e._updateHighlight()},0)},_dragFirstHandle:function(t){return e.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,e.data(this._inputFirst.get(0),"mobile-slider").refresh(t),e.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(t){var i=e(t.target).is(this._inputFirst),n=i?this._inputLast:this._inputFirst;if(this._sliderTarget=!1,"first"===this._proxy&&i||"last"===this._proxy&&!i)return e.data(n.get(0),"mobile-slider").dragging=!0,e.data(n.get(0),"mobile-slider").refresh(t),!1},_slidestop:function(t){var i=e(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",i?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,e(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=e(t.target).val())},_setOptions:function(e){e.theme!==t&&this._setTheme(e.theme),e.trackTheme!==t&&this._setTrackTheme(e.trackTheme),e.mini!==t&&this._setMini(e.mini),e.highlight!==t&&this._setHighlight(e.highlight),e.disabled!==t&&this._setDisabled(e.disabled),this._super(e),this.refresh()},refresh:function(){var e=this.element,t=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),e.find("input").slider({theme:t.theme,trackTheme:t.trackTheme,disabled:t.disabled,corners:t.corners,mini:t.mini,highlight:t.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){if("keyup"===t.type)return this._updateHighlight(),!1;var i=this,n=parseFloat(this._inputFirst.val(),10),o=parseFloat(this._inputLast.val(),10),r=e(t.target).hasClass("ui-rangeslider-first"),s=r?this._inputFirst:this._inputLast,a=r?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===t.type&&!e(t.target).hasClass("ui-slider-handle"))s.blur();else if("mousedown"===t.type)return;return n>o&&!this._sliderTarget?(s.val(r?o:n).slider("refresh"),this._trigger("normalize")):n>o&&(s.val(this._targetVal).slider("refresh"),setTimeout(function(){a.val(r?n:o).slider("refresh"),e.data(a.get(0),"mobile-slider").handle.focus(),i._sliderFirst.css("z-index",r?"":1),i._trigger("normalize")},0),this._proxy=r?"first":"last"),n===o?(e.data(s.get(0),"mobile-slider").handle.css("z-index",1),e.data(a.get(0),"mobile-slider").handle.css("z-index",0)):(e.data(a.get(0),"mobile-slider").handle.css("z-index",""),e.data(s.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),!(n>=o)&&void 0},_updateHighlight:function(){var t=parseInt(e.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),i=parseInt(e.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),n=i-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:n+"%"})},_setTheme:function(e){this._inputFirst.slider("option","theme",e),this._inputLast.slider("option","theme",e)},_setTrackTheme:function(e){this._inputFirst.slider("option","trackTheme",e),this._inputLast.slider("option","trackTheme",e)},_setMini:function(e){this._inputFirst.slider("option","mini",e),this._inputLast.slider("option","mini",e),this.element.toggleClass("ui-mini",!!e)},_setHighlight:function(e){this._inputFirst.slider("option","highlight",e),this._inputLast.slider("option","highlight",e)},_setDisabled:function(e){this._inputFirst.prop("disabled",e),this._inputLast.prop("disabled",e)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return e("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(e){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),e.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),e.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(e){this._super(e),e.clearBtn===t||this.element.is("textarea, :jqmData(type='range')")||(e.clearBtn?this._addClearBtn():this._destroyClear()),e.clearBtnText!==t&&this._clearBtn!==t&&this._clearBtn.text(e.clearBtnText).attr("title",e.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(t){e.contains(t.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==t.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(e.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(e){this.keyupTimeout&&clearTimeout(this.keyupTimeout),e===t?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",e)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var e,t,i,n,o,r,s,a,l,c=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),n=this.element[0].scrollHeight,o=this.element[0].clientHeight,r=parseFloat(this.element.css("border-top-width")),s=parseFloat(this.element.css("border-bottom-width")),a=r+s,l=n+a+15,0===o&&(e=parseFloat(this.element.css("padding-top")),t=parseFloat(this.element.css("padding-bottom")),i=e+t,l+=i),this.element.css({height:l,"min-height":"","max-height":""}),this.window.scrollTop(c)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(e){this._super(e),e.autogrow!==t&&this.isTextarea&&(e.autogrow?this._autogrow():this._unbindAutogrow())}})}(e),function(e,n){e.widget("mobile.selectmenu",e.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t=this.options.inline||this.element.jqmData("inline"),i=this.options.mini||this.element.jqmData("mini"),n="";~this.element[0].className.indexOf("ui-btn-left")&&(n=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(n=" ui-btn-right"),t&&(n+=" ui-btn-inline"),i&&(n+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+n+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=e("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var e=this.element.parents(".ui-select");e.length>0&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this.button=this._button();var i=this,n=this.options,o=!!n.icon&&(n.iconpos||this.select.jqmData("iconpos")),r=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(n.icon?" ui-icon-"+n.icon+" ui-btn-icon-"+o+(n.iconshadow?" ui-shadow-icon":""):"")+(n.theme?" ui-btn-"+n.theme:"")+(n.corners?" ui-corner-all":"")+(n.shadow?" ui-shadow":""));this.setButtonText(),n.nativeMenu&&t.opera&&t.opera.version&&r.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(r.addClass("ui-li-has-count"))),(n.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){i.refresh(),n.nativeMenu&&i._delay(function(){i.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,n=this.selected(),o=this.placeholder,r=e(i.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return o=n.length?n.map(function(){return e(this).text()}).get().join(", "):t.placeholder,o?r.text(o):r.html("&#160;"),r.addClass(t.select.attr("class")).addClass(n.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.mobile.links=function(t){e(t).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=e.getAttribute("href").substring(1);t&&(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t),e.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(e),function(e,i){function n(e,t,i,n){var o=n;return o=e<t?i+(e-t)/2:Math.min(Math.max(i,n-t/2),i+e-t)}function o(e){return{x:e.scrollLeft(),y:e.scrollTop(),cx:e[0].innerWidth||e.width(),cy:e[0].innerHeight||e.height()}}e.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!e.mobile.browser.oldIE},_handleDocumentVmousedown:function(t){this._isOpen&&e.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,i=t.attr("id"),n=this.options;n.history=n.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),e.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=e("body")),n.enhanced?this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:e(this.document[0].getElementById(i+"-placeholder"))}:(this._ui=this._enhance(t,i),this._applyTransition(n.transition)),this._setTolerance(n.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(t,i){var n=this.options,o=n.wrapperClass,r={screen:e("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",n.overlayTheme)+"'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(o?" "+o:"")+"'></div>")},s=this.document[0].createDocumentFragment();return s.appendChild(r.screen[0]),s.appendChild(r.container[0]),i&&(r.screen.attr("id",i+"-screen"),r.container.attr("id",i+"-popup"),r.placeholder.attr("id",i+"-placeholder").html("<!-- placeholder for "+i+" -->")),this._page[0].appendChild(s),r.placeholder.insertAfter(t),t.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",n.theme)+" "+(n.shadow?"ui-overlay-shadow ":"")+(n.corners?"ui-corner-all ":"")).appendTo(r.container),r},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.screen,t=this._ui.container.outerHeight(!0),i=e.removeAttr("style").height(),n=this.document.height()-1;i<n?e.height(n):t>i&&e.height(t)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_expectResizeEvent:function(){var e=o(this.window);if(this._resizeData){if(e.x===this._resizeData.windowCoordinates.x&&e.y===this._resizeData.windowCoordinates.y&&e.cx===this._resizeData.windowCoordinates.cx&&e.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var i,n=t.target,o=this._ui;if(this._isOpen){if(n!==o.container[0]){if(i=e(n),!e.contains(o.container[0],n))return e(this.document[0].activeElement).one("focus",e.proxy(function(){this._safelyBlur(n)},this)),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=i)}this._ignoreResizeEvents()}},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:e+"inherit"},_applyTransition:function(t){return t&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(e){var t=this.options,n=this.element,o=this._ui.screen;return e.wrapperClass!==i&&this._ui.container.removeClass(t.wrapperClass).addClass(e.wrapperClass),e.theme!==i&&n.removeClass(this._themeClassFromOption("ui-body-",t.theme)).addClass(this._themeClassFromOption("ui-body-",e.theme)),e.overlayTheme!==i&&(o.removeClass(this._themeClassFromOption("ui-overlay-",t.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",e.overlayTheme)),this._isOpen&&o.addClass("in")),e.shadow!==i&&n.toggleClass("ui-overlay-shadow",e.shadow),e.corners!==i&&n.toggleClass("ui-corner-all",e.corners),e.transition!==i&&(this._currentTransition||this._applyTransition(e.transition)),e.tolerance!==i&&this._setTolerance(e.tolerance),e.disabled!==i&&e.disabled&&this.close(),this._super(e)},_setTolerance:function(t){var n,o={t:30,r:15,b:30,l:15};if(t!==i)switch(n=String(t).split(","),e.each(n,function(e,t){n[e]=parseInt(t,10)}),n.length){case 1:isNaN(n[0])||(o.t=o.r=o.b=o.l=n[0]);break;case 2:isNaN(n[0])||(o.t=o.b=n[0]),isNaN(n[1])||(o.l=o.r=n[1]);break;case 4:isNaN(n[0])||(o.t=n[0]),isNaN(n[1])||(o.r=n[1]),isNaN(n[2])||(o.b=n[2]),isNaN(n[3])||(o.l=n[3])}return this._tolerance=o,this},_clampPopupWidth:function(e){var t,i=o(this.window),n={x:this._tolerance.l,y:i.y+this._tolerance.t,cx:i.cx-this._tolerance.l-this._tolerance.r,cy:i.cy-this._tolerance.t-this._tolerance.b};return e||this._ui.container.css("max-width",n.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:n,menuSize:t}},_calculateFinalLocation:function(e,t){var i,o=t.rc,r=t.menuSize;return i={left:n(o.cx,r.cx,o.x,e.x),top:n(o.cy,r.cy,o.y,e.y)},i.top=Math.max(0,i.top),i.top-=Math.min(i.top,Math.max(0,i.top+r.cy-this.document.height())),i},_placementCoords:function(e){return this._calculateFinalLocation(e,this._clampPopupWidth())},_createPrerequisites:function(t,i,n){var o,r=this;o={screen:e.Deferred(),container:e.Deferred()},o.screen.then(function(){o===r._prerequisites&&t()}),o.container.then(function(){o===r._prerequisites&&i()}),e.when(o.screen,o.container).done(function(){o===r._prerequisites&&(r._prerequisites=null,n())}),r._prerequisites=o},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prerequisites.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?void this._ui.container.addClass(t.containerClassToAdd).removeClass(t.classToRemove).animationComplete(e.proxy(t.prerequisites.container,"resolve")):(this._ui.container.removeClass(t.classToRemove),void t.prerequisites.container.resolve())},_desiredCoords:function(t){var i,n=null,r=o(this.window),s=t.x,a=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)s=r.cx/2+r.x,a=r.cy/2+r.y;else{try{n=e(l)}catch(c){n=null}n&&(n.filter(":visible"),0===n.length&&(n=null))}return n&&(i=n.offset(),s=i.left+n.outerWidth()/2,a=i.top+n.outerHeight()/2),("number"!==e.type(s)||isNaN(s))&&(s=r.cx/2+r.x),("number"!==e.type(a)||isNaN(a))&&(a=r.cy/2+r.y),{x:s,y:a}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",i,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_safelyBlur:function(t){t!==this.window[0]&&"body"!==t.nodeName.toLowerCase()&&e(t).blur()},_openPrerequisitesComplete:function(){var t=this.element.attr("id"),i=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),e.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),i.length>0&&(this._ui.focusElement=i),this._ignoreResizeEvents(),t&&this.document.find("[aria-haspopup='true'][aria-owns='"+t+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(t){var i=e.extend({},this.options,t),n=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),i=!!t&&t[1],n=e.match(/Android (\d+(?:\.\d+))/),o=!!n&&n[1],r=e.indexOf("Chrome")>-1;return!(!(null!==n&&"4.0"===o&&i&&i>534.13)||r)}();this._createPrerequisites(e.noop,e.noop,e.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(i),
this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&n&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var t=this._ui.container,n=this.element.attr("id");e.mobile.popup.active=i,e(":focus",t[0]).add(t[0]).blur(),n&&this.document.find("[aria-haspopup='true'][aria-owns='"+n+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(e.proxy(this,"_closePrerequisiteScreen"),e.proxy(this,"_closePrerequisiteContainer"),e.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:e.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(i,n){var o,r,s=this.options,a=!1;i&&i.isDefaultPrevented()||e.mobile.popup.active!==this||(t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&n&&(o="string"==typeof n.toPage?n.toPage:n.toPage.jqmData("url"),o=e.mobile.path.parseUrl(o),r=o.pathname+o.search+o.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(r)?a=!0:i.preventDefault()),this.window.off(s.closeEvents),this.element.undelegate(s.closeLinkSelector,s.closeLinkEvents),this._close(a))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,e.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(t){var i,n,o,r,s,a,l=this,c=this.options;return e.mobile.popup.active||c.disabled?this:(e.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),c.history?(a=e.mobile.navigate.history,n=e.mobile.dialogHashKey,o=e.mobile.activePage,r=!!o&&o.hasClass("ui-dialog"),this._myUrl=i=a.getActive().url,(s=i.indexOf(n)>-1&&!r&&a.activeIndex>0)?(l._open(t),l._bindContainerClose(),this):(i.indexOf(n)!==-1||r?i=e.mobile.path.parseLocation().hash+n:i+=i.indexOf("#")>-1?n:"#"+n,this.window.one("beforenavigate",function(e){e.preventDefault(),l._open(t),l._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(i,{role:"dialog"}),this)):(l._open(t),l._bindContainerClose(),l.element.delegate(c.closeLinkSelector,c.closeLinkEvents,function(e){l.close(),e.preventDefault()}),this))},close:function(){return e.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),e.mobile.popup.handleLink=function(t){var i,n=e.mobile.path,o=e(n.hashToSelector(n.parseUrl(t.attr("href")).hash)).first();o.length>0&&o.data("mobile-popup")&&(i=t.offset(),o.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.on("pagebeforechange",function(t,i){"popup"===i.options.role&&(e.mobile.popup.handleLink(i.options.link),t.preventDefault())})}(e),function(e,t){var n=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",o=function(e,t,i){var o=e[i+"All"]().not(n).first();o.length&&(t.blur().attr("tabindex","-1"),o.find("a").first().focus())};e.widget("mobile.selectmenu",e.mobile.selectmenu,{_create:function(){var e=this.options;return e.nativeMenu=e.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(e){this._super(e),this._handleButtonVclickKeydown(e)},_handleButtonVclickKeydown:function(t){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===t.type||t.keyCode&&(t.keyCode===e.mobile.keyCode.ENTER||t.keyCode===e.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(e.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(e.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(t){var i="focusin"===t.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};e(t.target).attr("tabindex",i.tabindex).trigger(i.event)},_handleListKeydown:function(t){var i=e(t.target),n=i.closest("li");switch(t.keyCode){case 38:return o(n,i,"prev"),!1;case 40:return o(n,i,"next"),!1;case 13:case 32:return i.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){if("overlay"===this.menuType)return this.close(),!1},_handleListItemClick:function(t){var i=e(t.target).closest("li"),n=this.select[0].selectedIndex,o=e.mobile.getAttribute(i,"option-index"),r=this._selectOptions().eq(o)[0];r.selected=!this.isMultiple||!r.selected,this.isMultiple&&i.find("a").toggleClass("ui-checkbox-on",r.selected).toggleClass("ui-checkbox-off",!r.selected),this.isMultiple||n===o||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(o).find("a").first().focus()):this.close(),t.preventDefault()},build:function(){var i,n,o,r,s,a,l,c,u,h,d,p,f,m,g,v,b,_,y,w=this.options;return w.nativeMenu?this._super():(i=this.selectId,n=i+"-listbox",o=i+"-dialog",r=this.label,s=this.element.closest(".ui-page"),a=this.element[0].multiple,l=i+"-menu",c=w.theme?" data-"+e.mobile.ns+"theme='"+w.theme+"'":"",u=w.overlayTheme||w.theme||null,h=u?" data-"+e.mobile.ns+"overlay-theme='"+u+"'":"",d=w.dividerTheme&&a?" data-"+e.mobile.ns+"divider-theme='"+w.dividerTheme+"'":"",p=e("<div data-"+e.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+o+"'"+c+h+"><div data-"+e.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+e.mobile.ns+"role='content'></div></div>"),f=e("<div"+c+h+" id='"+n+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),m=e("<ul class='ui-selectmenu-list' id='"+l+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+c+d+"></ul>").appendTo(f),g=e("<div class='ui-header ui-bar-"+(w.theme?w.theme:"inherit")+"'></div>").prependTo(f),v=e("<h1 class='ui-title'></h1>").appendTo(g),this.isMultiple&&(y=e("<a>",{role:"button",text:w.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(g)),e.extend(this,{selectId:i,menuId:l,popupId:n,dialogId:o,thisPage:s,menuPage:p,label:r,isMultiple:a,theme:w.theme,listbox:f,list:m,header:g,headerTitle:v,headerClose:y,menuPageContent:b,menuPageClose:_,placeholder:""}),this.refresh(),this._origTabIndex===t&&(this._origTabIndex=null!==this.select[0].getAttribute("tabindex")&&this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions().not(".ui-screen-hidden");return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var i,n;return this.options.nativeMenu?this._super(t):(i=this,(t||this._isRebuildRequired())&&i._buildList(),n=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),void i.list.find("li:not(.ui-li-divider)").find("a").removeClass(e.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(t){var o=e(this);e.inArray(t,n)>-1?(o.attr("aria-selected",!0),i.isMultiple?o.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):o.hasClass("ui-screen-hidden")?o.next().find("a").addClass(e.mobile.activeBtnClass):o.find("a").addClass(e.mobile.activeBtnClass)):i.isMultiple&&o.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var e=this;"page"===e.menuType?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var t=this.list.find("a."+e.mobile.activeBtnClass);0===t.length&&(t=this.list.find("li:not("+n+") a.ui-btn")),t.first().focus()},_decideFormat:function(){var t=this,i=this.window,n=t.list.parent(),o=n.outerHeight(),r=i.scrollTop(),s=t.button.offset().top,a=i.height();o>a-80||!e.support.scrollTop?(t.menuPage.appendTo(e.mobile.pageContainer).page(),t.menuPageContent=t.menuPage.find(".ui-content"),t.menuPageClose=t.menuPage.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===r&&s>a&&t.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",s)}),t.menuPage.one({pageshow:e.proxy(this,"_focusMenuItem"),pagehide:e.proxy(this,"close")}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.getEncodedText()||t.placeholder)):(t.menuType="overlay",t.listbox.one({popupafteropen:e.proxy(this,"_focusMenuItem")}))},_buildList:function(){var t,n,o,r,s,a,l,c,u,h,d,p,f,m,g=this,v=this.options,b=this.placeholder,_=!0,y="false",w="data-"+e.mobile.ns,x=w+"option-index",C=w+"icon",$=w+"role",k=w+"placeholder",T=i.createDocumentFragment(),S=!1;for(g.list.empty().filter(".ui-listview").listview("destroy"),t=this._selectOptions(),n=t.length,o=this.select[0],s=0;s<n;s++,S=!1)a=t[s],l=e(a),l.hasClass("ui-screen-hidden")||(c=a.parentNode,d=[],u=l.text(),h=i.createElement("a"),h.setAttribute("href","#"),h.appendChild(i.createTextNode(u)),c!==o&&"optgroup"===c.nodeName.toLowerCase()&&(p=c.getAttribute("label"),p!==r&&(f=i.createElement("li"),f.setAttribute($,"list-divider"),f.setAttribute("role","option"),f.setAttribute("tabindex","-1"),f.appendChild(i.createTextNode(p)),T.appendChild(f),r=p)),!_||a.getAttribute("value")&&0!==u.length&&!l.jqmData("placeholder")||(_=!1,S=!0,null===a.getAttribute(k)&&(this._removePlaceholderAttr=!0),a.setAttribute(k,!0),v.hidePlaceholderMenuItems&&d.push("ui-screen-hidden"),b!==u&&(b=g.placeholder=u)),m=i.createElement("li"),a.disabled&&(d.push("ui-state-disabled"),m.setAttribute("aria-disabled",!0)),m.setAttribute(x,s),m.setAttribute(C,y),S&&m.setAttribute(k,!0),m.className=d.join(" "),m.setAttribute("role","option"),h.setAttribute("tabindex","-1"),this.isMultiple&&e(h).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),m.appendChild(h),T.appendChild(m));g.list[0].appendChild(T),this.isMultiple||b.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),g.list.listview()},_button:function(){return this.options.nativeMenu?this._super():e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+e.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(e),function(e,t){function i(e,t){var i=t?t:[];return i.push("ui-btn"),e.theme&&i.push("ui-btn-"+e.theme),e.icon&&(i=i.concat(["ui-icon-"+e.icon,"ui-btn-icon-"+e.iconpos]),e.iconshadow&&i.push("ui-shadow-icon")),e.inline&&i.push("ui-btn-inline"),e.shadow&&i.push("ui-shadow"),e.corners&&i.push("ui-corner-all"),e.mini&&i.push("ui-mini"),i}function n(e){var i,n,o,s=!1,a=!0,l={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},c=[];for(e=e.split(" "),i=0;i<e.length;i++)o=!0,n=r[e[i]],n!==t?(o=!1,l[n]=!0):0===e[i].indexOf("ui-btn-icon-")?(o=!1,a=!1,l.iconpos=e[i].substring(12)):0===e[i].indexOf("ui-icon-")?(o=!1,l.icon=e[i].substring(8)):0===e[i].indexOf("ui-btn-")&&8===e[i].length?(o=!1,l.theme=e[i].substring(7)):"ui-btn"===e[i]&&(o=!1,s=!0),o&&c.push(e[i]);return a&&(l.icon=""),{options:l,unknownClasses:c,alreadyEnhanced:s}}function o(e){return"-"+e.toLowerCase()}var r={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},s=function(){var i=e.mobile.getAttribute.apply(this,arguments);return null==i?t:i},a=/[A-Z]/g;e.fn.buttonMarkup=function(r,l){var c,u,h,d,p,f=e.fn.buttonMarkup.defaults;for(c=0;c<this.length;c++){if(h=this[c],u=l?{alreadyEnhanced:!1,unknownClasses:[]}:n(h.className),d=e.extend({},u.alreadyEnhanced?u.options:{},r),!u.alreadyEnhanced)for(p in f)d[p]===t&&(d[p]=s(h,p.replace(a,o)));h.className=i(e.extend({},f,d),u.unknownClasses).join(" "),"button"!==h.tagName.toLowerCase()&&h.setAttribute("role","button")}return this},e.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},e.extend(e.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(e),function(e,t){e.widget("mobile.controlgroup",e.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var t=this.element,i=this.options,n=e.mobile.page.prototype.keepNativeSelector();e.fn.buttonMarkup&&this.element.find(e.fn.buttonMarkup.initSelector).not(n).buttonMarkup(),e.each(this._childWidgets,e.proxy(function(t,i){e.mobile[i]&&this.element.find(e.mobile[i].initSelector).not(n)[i]()},this)),e.extend(this,{_ui:null,_initialRefresh:!0}),i.enhanced?this._ui={groupLegend:t.children(".ui-controlgroup-label").children(),childWrapper:t.children(".ui-controlgroup-controls")}:this._ui=this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(e){return e?"none"===e?"":"ui-group-theme-"+e:""},_enhance:function(){var t=this.element,i=this.options,n={groupLegend:t.children("legend"),childWrapper:t.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===i.type?"horizontal":"vertical")+" "+this._themeClassFromOption(i.theme)+" "+(i.corners?"ui-corner-all ":"")+(i.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(i.shadow===!0?"ui-shadow":"")+"'></div>").children()};return n.groupLegend.length>0&&e("<div role='heading' class='ui-controlgroup-label'></div>").append(n.groupLegend).prependTo(t),n},_init:function(){this.refresh()},_setOptions:function(e){var i,n,o=this.element;return e.type!==t&&(o.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===e.type?"horizontal":"vertical")),i=!0),e.theme!==t&&o.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(e.theme)),e.corners!==t&&o.toggleClass("ui-corner-all",e.corners),e.mini!==t&&o.toggleClass("ui-mini",e.mini),e.shadow!==t&&this._ui.childWrapper.toggleClass("ui-shadow",e.shadow),e.excludeInvisible!==t&&(this.options.excludeInvisible=e.excludeInvisible,i=!0),n=this._super(e),i&&this.refresh(),n},container:function(){return this._ui.childWrapper},refresh:function(){var t=this.container(),i=t.find(".ui-btn").not(".ui-slider-handle"),n=this._initialRefresh;e.mobile.checkboxradio&&t.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(i,this.options.excludeInvisible?this._getVisibles(i,n):i,n),this._initialRefresh=!1},_destroy:function(){var e,t,i=this.options;return i.enhanced?this:(e=this._ui,t=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(i.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(t),e.groupLegend.unwrap(),void e.childWrapper.children().unwrap())}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){e.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var t,i,n=this.element.is(":jqmData(role='header')")?"header":"footer",o=this.element.closest(".ui-page");0===o.length&&(o=!1,this._on(this.document,{pageshow:"refresh"})),e.extend(this,{role:n,page:o,leftbtn:t,rightbtn:i}),this.element.attr("role","header"===n?"banner":"contentinfo").addClass("ui-"+n),this.refresh(),this._setOptions(this.options)},_setOptions:function(e){if(e.addBackBtn!==t&&this._updateBackButton(),null!=e.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+e.backBtnTheme),e.backBtnText!==t&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(e.backBtnText),e.theme!==t){var i=this.options.theme?this.options.theme:"inherit",n=e.theme?e.theme:"inherit";this.element.removeClass("ui-bar-"+i).addClass("ui-bar-"+n)}this._super(e)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+e.mobile.ns+"role='none'])").attr("data-"+e.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var e=this.element.children("a, button");this.leftbtn=e.hasClass("ui-btn-left")&&!e.hasClass("ui-toolbar-back-btn"),this.rightbtn=e.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||e.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||e.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var t,i=this.options,n=i.backBtnTheme||i.theme;t=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&e(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+e.mobile.ns+"url")!==e.mobile.path.stripHash(location.hash):e.mobile.navigate&&e.mobile.navigate.history&&e.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?t.attached||(this.backButton=t.element=(t.element||e("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(n?"ui-btn-"+n+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+e.mobile.ns+"rel='back'>"+i.backBtnText+"</a>")).prependTo(this.element),t.attached=!0):t.element&&(t.element.detach(),t.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var e;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),e=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+e),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(e),function(e,t){e.widget("mobile.toolbar",e.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=e(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(i){if("fixed"===i.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var n=this.page?this.page:e(".ui-page-active").length>0?e(".ui-page-active"):e(".ui-page").eq(0);i.fullscreen!==t&&(i.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),n.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),n.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(i)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var e=this.page?this.element.closest(".ui-page"):this.document;this._on(e,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var n,o,r,s,a=this.options;a.disablePageZoom&&e.mobile.zoom.enable(!0),a.updatePagePadding&&this._off(this.window,"throttledresize"),a.trackPersistentToolbars&&(n=e(".ui-footer-fixed:jqmData(id)",this.page),o=e(".ui-header-fixed:jqmData(id)",this.page),r=n.length&&i.nextPage&&e(".ui-footer-fixed:jqmData(id='"+n.jqmData("id")+"')",i.nextPage)||e(),s=o.length&&i.nextPage&&e(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||e(),(r.length||s.length)&&(r.add(s).appendTo(e.mobile.pageContainer),i.nextPage.one("pageshow",function(){s.prependTo(this),r.appendTo(this)})))},_visible:!0,updatePagePadding:function(i){var n=this.element,o="header"===this.role,r=parseFloat(n.css(o?"top":"bottom"));this.options.fullscreen||(i=i&&i.type===t&&i||this.page||n.closest(".ui-page"),i=this.page?this.page:".ui-page-active",e(i).css("padding-"+(o?"top":"bottom"),n.outerHeight()+r))},_useTransition:function(t){var i=this.window,n=this.element,o=i.scrollTop(),r=n.height(),s=this.page?n.closest(".ui-page").height():e(".ui-page-active").height(),a=e.mobile.getScreenHeight();return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&o>r||"footer"===this.role&&!this.options.fullscreen&&o+a<s-r)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",i=this.element;this._useTransition(e)?i.removeClass("out "+t).addClass("in").animationComplete(function(){i.removeClass("in")}):i.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",i=this.element,n="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?i.addClass(n).removeClass("in").animationComplete(function(){i.addClass(t).removeClass(n)}):i.addClass(t).removeClass(n),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,i,n=this,o=n.options,r=!0,s=this.page?this.page:e(".ui-page");s.bind("vclick",function(t){o.tapToggle&&!e(t.target).closest(o.tapToggleBlacklist).length&&n.toggle()}).bind("focusin focusout",function(s){screen.width<1025&&e(s.target).is(o.hideDuringFocus)&&!e(s.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==s.type||r?"focusin"===s.type&&r&&(clearTimeout(t),r=!1,i=setTimeout(function(){n.hide()},0)):(r=!0,clearTimeout(i),t=setTimeout(function(){n.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var t,i,n,o,r,s=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(n=e("body>.ui-"+this.role+"-fixed").add(s.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,r=e("body>.ui-"+this.role+"-fixed").add(s.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,i="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(i),r||(t="ui-page-"+this.role+"-fullscreen"),n||(o="header"===this.role,t+=" ui-page-"+this.role+"-fixed",s.css("padding-"+(o?"top":"bottom"),"")),s.removeClass(t))}})}(e),function(e,t){e.widget("mobile.toolbar",e.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,i=e.match(/AppleWebKit\/([0-9]+)/),n=!!i&&i[1],o=null,r=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)o="ios";else{if(!(e.indexOf("Android")>-1))return;o="android"}if("ios"===o)r._bindScrollWorkaround();else{if(!("android"===o&&n&&n<534))return;r._bindScrollWorkaround(),r._bindListThumbWorkaround()}},_viewportOffset:function(){var e=this.element,t=e.hasClass("ui-header"),i=Math.abs(e.offset().top-this.window.scrollTop());return t||(i=Math.round(i-this.window.height()+e.outerHeight())-60),i},_bindScrollWorkaround:function(){var e=this;this._on(this.window,{scrollstop:function(){var t=e._viewportOffset();t>2&&e._visible&&e._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,t){function i(){var e=o.clone(),t=e.eq(0),i=e.eq(1),n=i.children();return{arEls:i.add(t),gd:t,ct:i,ar:n}}var n=e.mobile.browser.oldIE&&e.mobile.browser.oldIE<=8,o=e("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(n?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");e.widget("mobile.popup",e.mobile.popup,{options:{arrow:""},_create:function(){var e,t=this._super();return this.options.arrow&&(this._ui.arrow=e=this._addArrow()),t},_addArrow:function(){var e,t=this.options,n=i();return e=this._themeClassFromOption("ui-body-",t.theme),n.ar.addClass(e+(t.shadow?" ui-overlay-shadow":"")),n.arEls.hide().appendTo(this.element),n},_unenhance:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()},_tryAnArrow:function(e,t,i,n,o){var r,s,a,l={},c={};return n.arFull[e.dimKey]>n.guideDims[e.dimKey]?o:(l[e.fst]=i[e.fst]+(n.arHalf[e.oDimKey]+n.menuHalf[e.oDimKey])*e.offsetFactor-n.contentBox[e.fst]+(n.clampInfo.menuSize[e.oDimKey]-n.contentBox[e.oDimKey])*e.arrowOffsetFactor,l[e.snd]=i[e.snd],r=n.result||this._calculateFinalLocation(l,n.clampInfo),s={x:r.left,y:r.top},c[e.fst]=s[e.fst]+n.contentBox[e.fst]+e.tipOffset,c[e.snd]=Math.max(r[e.prop]+n.guideOffset[e.prop]+n.arHalf[e.dimKey],Math.min(r[e.prop]+n.guideOffset[e.prop]+n.guideDims[e.dimKey]-n.arHalf[e.dimKey],i[e.snd])),a=Math.abs(i.x-c.x)+Math.abs(i.y-c.y),(!o||a<o.diff)&&(c[e.snd]-=n.arHalf[e.dimKey]+r[e.prop]+n.contentBox[e.snd],o={dir:t,diff:a,result:r,posProp:e.prop,posVal:c[e.snd]}),o)},_getPlacementState:function(e){var t,i,n=this._ui.arrow,o={clampInfo:this._clampPopupWidth(!e),arFull:{cx:n.ct.width(),cy:n.ct.height()},guideDims:{cx:n.gd.width(),cy:n.gd.height()},guideOffset:n.gd.offset()};return t=this.element.offset(),n.gd.css({left:0,top:0,right:0,bottom:0}),i=n.gd.offset(),o.contentBox={x:i.left-t.left,y:i.top-t.top,cx:n.gd.width(),cy:n.gd.height()},n.gd.removeAttr("style"),o.guideOffset={left:o.guideOffset.left-t.left,top:o.guideOffset.top-t.top},o.arHalf={cx:o.arFull.cx/2,cy:o.arFull.cy/2},o.menuHalf={cx:o.clampInfo.menuSize.cx/2,cy:o.clampInfo.menuSize.cy/2},o},_placementCoords:function(t){var i,o,r,s,a,l=this.options.arrow,c=this._ui.arrow;return c?(c.arEls.show(),a={},i=this._getPlacementState(!0),r={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-i.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:i.arHalf.cx+i.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:i.arHalf.cy+i.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-i.arHalf.cy,arrowOffsetFactor:0}},e.each((l===!0?"l,t,r,b":l).split(","),e.proxy(function(e,n){o=this._tryAnArrow(r[n],n,t,i,o)},this)),o?(c.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+o.dir).removeAttr("style").css(o.posProp,o.posVal).show(),n||(s=this.element.offset(),a[r[o.dir].fst]=c.ct.offset(),a[r[o.dir].snd]={left:s.left+i.contentBox.x,top:s.top+i.contentBox.y}),o.result):(c.arEls.hide(),this._super(t))):this._super(t)},_setOptions:function(e){var i,n=this.options.theme,o=this._ui.arrow,r=this._super(e);if(e.arrow!==t){if(!o&&e.arrow)return void(this._ui.arrow=this._addArrow());o&&!e.arrow&&(o.arEls.remove(),this._ui.arrow=null)}return o=this._ui.arrow,o&&(e.theme!==t&&(n=this._themeClassFromOption("ui-body-",n),i=this._themeClassFromOption("ui-body-",e.theme),o.ar.removeClass(n).addClass(i)),e.shadow!==t&&o.ar.toggleClass("ui-overlay-shadow",e.shadow)),r},_destroy:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()}})}(e),function(e,i){e.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var t=this.element,i=t.closest(".ui-page, :jqmData(role='page')");e.extend(this,{_closeLink:t.find(":jqmData(rel='close')"),_parentPage:i.length>0&&i,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),e.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),
this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var e=this.element.find("."+this.options.classes.panelInner);return 0===e.length&&(e=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),e},_createModal:function(){var t=this,i=t._parentPage?t._parentPage.parent():t.element.parent();t._modal=e("<div class='"+t.options.classes.modal+"'></div>").on("mousedown",function(){t.close()}).appendTo(i)},_getPage:function(){var t=this._openedPage||this._parentPage||e("."+e.mobile.activePageClass);return t},_getWrapper:function(){var e=this._page().find("."+this.options.classes.pageWrapper);0===e.length&&(e=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=e},_getFixedToolbars:function(){var t=e("body").children(".ui-header-fixed, .ui-footer-fixed"),i=this._page().find(".ui-header-fixed, .ui-footer-fixed"),n=t.add(i).addClass(this.options.classes.pageFixedToolbar);return n},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(e){e.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(t){var i=this,n=i._panelInner.outerHeight(),o=n>e.mobile.getScreenHeight();o||!i.options.positionFixed?(o&&(i._unfixPanel(),e.mobile.resetActivePageHeight(n)),t&&this.window[0].scrollTo(0,e.mobile.defaultHomeScroll)):i._fixPanel()},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(){e._open&&e._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(t){var n,o=this.element.attr("id");t.currentTarget.href.split("#")[1]===o&&o!==i&&(t.preventDefault(),n=e(t.target),n.hasClass("ui-btn")&&(n.addClass(e.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){n.removeClass(e.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;e.options.swipeClose&&("left"===e.options.position?t.on("swipeleft.panel",function(){e.close()}):t.on("swiperight.panel",function(){e.close()}))},_bindPageEvents:function(){var e=this;this.document.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("keyup.panel",function(t){27===t.keyCode&&e._open&&e.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),e._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){e._open&&e.close(!0)}):this.document.on("pagebeforehide",function(){e._open&&e.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,n=i.options,o=function(){i._off(i.document,"panelclose"),i._page().jqmData("panel","open"),e.support.cssTransform3d&&n.animate&&"overlay"!==n.display&&(i._wrapper.addClass(n.classes.animate),i._fixedToolbars().addClass(n.classes.animate)),!t&&e.support.cssTransform3d&&n.animate?(i._wrapper||i.element).animationComplete(r,"transition"):setTimeout(r,0),n.theme&&"overlay"!==n.display&&i._page().parent().addClass(n.classes.pageContainer+"-themed "+n.classes.pageContainer+"-"+n.theme),i.element.removeClass(n.classes.panelClosed).addClass(n.classes.panelOpen),i._positionPanel(!0),i._pageContentOpenClasses=i._getPosDisplayClasses(n.classes.pageContentPrefix),"overlay"!==n.display&&(i._page().parent().addClass(n.classes.pageContainer),i._wrapper.addClass(i._pageContentOpenClasses),i._fixedToolbars().addClass(i._pageContentOpenClasses)),i._modalOpenClasses=i._getPosDisplayClasses(n.classes.modal)+" "+n.classes.modalOpen,i._modal&&i._modal.addClass(i._modalOpenClasses).height(Math.max(i._modal.height(),i.document.height()))},r=function(){i._open&&("overlay"!==n.display&&(i._wrapper.addClass(n.classes.pageContentPrefix+"-open"),i._fixedToolbars().addClass(n.classes.pageContentPrefix+"-open")),i._bindFixListener(),i._trigger("open"),i._openedPage=i._page())};i._trigger("beforeopen"),"open"===i._page().jqmData("panel")?i._on(i.document,{panelclose:o}):o(),i._open=!0}},close:function(t){if(this._open){var i=this,n=this.options,o=function(){i.element.removeClass(n.classes.panelOpen),"overlay"!==n.display&&(i._wrapper.removeClass(i._pageContentOpenClasses),i._fixedToolbars().removeClass(i._pageContentOpenClasses)),!t&&e.support.cssTransform3d&&n.animate?(i._wrapper||i.element).animationComplete(r,"transition"):setTimeout(r,0),i._modal&&i._modal.removeClass(i._modalOpenClasses).height("")},r=function(){n.theme&&"overlay"!==n.display&&i._page().parent().removeClass(n.classes.pageContainer+"-themed "+n.classes.pageContainer+"-"+n.theme),i.element.addClass(n.classes.panelClosed),"overlay"!==n.display&&(i._page().parent().removeClass(n.classes.pageContainer),i._wrapper.removeClass(n.classes.pageContentPrefix+"-open"),i._fixedToolbars().removeClass(n.classes.pageContentPrefix+"-open")),e.support.cssTransform3d&&n.animate&&"overlay"!==n.display&&(i._wrapper.removeClass(n.classes.animate),i._fixedToolbars().removeClass(n.classes.animate)),i._fixPanel(),i._unbindFixListener(),e.mobile.resetActivePageHeight(),i._page().jqmRemoveData("panel"),i._trigger("close"),i._openedPage=null};i._trigger("beforeclose"),o(),i._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var t,i=this.options,n=e("body > :mobile-panel").length+e.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==i.display&&(t=e("body > :mobile-panel").add(e.mobile.activePage.find(":mobile-panel")),0===t.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(i.classes.pageContentPrefix+"-open"),e.support.cssTransform3d&&i.animate&&this._fixedToolbars().removeClass(i.classes.animate),this._page().parent().removeClass(i.classes.pageContainer),i.theme&&this._page().parent().removeClass(i.classes.pageContainer+"-themed "+i.classes.pageContainer+"-"+i.theme))),n||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),i.classes.panelOpen,i.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(e),function(e,t){e.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),e.extend(this,{headers:t,allHeaders:t}),this._refresh(!0)},_setHeaders:function(){var e=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:e.noop,_refresh:function(){var t=this.element,i=t.find("thead tr");this._setHeaders(),i.each(function(){var n=0;e(this).children().each(function(){var o,r=parseInt(this.getAttribute("colspan"),10),s=":nth-child("+(n+1)+")";if(this.setAttribute("data-"+e.mobile.ns+"colstart",n+1),r)for(o=0;o<r-1;o++)n++,s+=", :nth-child("+(n+1)+")";e(this).jqmData("cells",t.find("tr").not(i.eq(0)).not(this).children(s)),n++})})}})}(e),function(e,t){e.widget("mobile.table",e.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(e.extend(this,{_menu:null}),this.options.enhanced?(this._menu=e(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(t,i){var n,o=0,r=this.options,s=t.controlgroup("container");i?n=t.find("input"):s.empty(),this.headers.not("td").each(function(){var t,a,l=e(this),c=e.mobile.getAttribute(this,"priority");c&&(a=l.add(l.jqmData("cells")),a.addClass(r.classes.priorityPrefix+c),t=(i?n.eq(o++):e("<label><input type='checkbox' checked />"+(l.children("abbr").first().attr("title")||l.text())+"</label>").appendTo(s).children(0).checkboxradio({theme:r.columnPopupTheme})).jqmData("header",l).jqmData("cells",a),l.jqmData("input",t))}),i||t.controlgroup("refresh")},_menuInputChange:function(t){var i=e(t.target),n=i[0].checked;i.jqmData("cells").toggleClass("ui-table-cell-hidden",!n).toggleClass("ui-table-cell-visible",n)},_unlockCells:function(e){e.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var t,i,n,o,r=this.element,s=this.options,a=e.mobile.ns,l=this.document[0].createDocumentFragment();return t=this._id()+"-popup",i=e("<a href='#"+t+"' class='"+s.classes.columnBtn+" ui-btn ui-btn-"+(s.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+a+"rel='popup'>"+s.columnBtnText+"</a>"),n=e("<div class='"+s.classes.popup+"' id='"+t+"'></div>"),o=e("<fieldset></fieldset>").controlgroup(),this._addToggles(o,!1),o.appendTo(n),l.appendChild(n[0]),l.appendChild(i[0]),r.before(l),n.popup(),o},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(t){var i,n,o;if(this._super(t),!t&&"columntoggle"===this.options.mode)for(i=this.headers,n=[],this._menu.find("input").each(function(){var t=e(this),o=t.jqmData("header"),r=i.index(o[0]);r>-1&&!t.prop("checked")&&n.push(r)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,t),o=n.length-1;o>-1;o--)i.eq(n[o]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var t=e(this);this.checked="table-cell"===t.jqmData("cells").eq(0).css("display"),t.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(e),function(e,t){e.widget("mobile.table",e.mobile.table,{options:{mode:"reflow",classes:e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(e){this._super(e),e||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var t=this,i=this.options;e(t.allHeaders.get().reverse()).each(function(){var n,o,r=e(this).jqmData("cells"),s=e.mobile.getAttribute(this,"colstart"),a=r.not(this).filter("thead th").length&&" ui-table-cell-label-top",l=e(this).clone().contents();l.length>0&&(a?(n=parseInt(this.getAttribute("colspan"),10),o="",n&&(o="td:nth-child("+n+"n + "+s+")"),t._addLabels(r.filter(o),i.classes.cellLabels+a,l)):t._addLabels(r,i.classes.cellLabels,l))})},_addLabels:function(t,i,n){1===n.length&&"abbr"===n[0].nodeName.toLowerCase()&&(n=n.eq(0).attr("title")),t.not(":has(b."+i+")").prepend(e("<b class='"+i+"'></b>").append(n))}})}(e),function(e,i){var n=function(t,i){return(""+(e.mobile.getAttribute(this,"filtertext")||e(this).text())).toLowerCase().indexOf(i)===-1};e.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:n,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var t=this.options;e.extend(this,{_search:null,_timer:0}),this._setInput(t.input),t.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var i,n,o=this._search;if(o){if(i=o.val().toLowerCase(),n=e.mobile.getAttribute(o[0],"lastval")+"",n&&n===i)return;this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:o})!==!1&&(o[0].setAttribute("data-"+e.mobile.ns+"lastval",i),this._filterItems(i),void(this._timer=0))},250)}},_getFilterableItems:function(){var t=this.element,i=this.options.children,n=i?e.isFunction(i)?i():i.nodeName?e(i):i.jquery?i:this.element.find(i):{length:0};return 0===n.length&&(n=t.children()),n},_filterItems:function(t){var i,o,r,s,a=[],l=[],c=this.options,u=this._getFilterableItems();if(null!=t)for(o=c.filterCallback||n,r=u.length,i=0;i<r;i++)s=o.call(u[i],i,t)?l:a,s.push(u[i]);0===l.length?u[c.filterReveal&&0===t.length?"addClass":"removeClass"]("ui-screen-hidden"):(e(l).addClass("ui-screen-hidden"),e(a).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:u})},_refreshChildWidget:function(){var t,i,n=["collapsibleset","selectmenu","controlgroup","listview"];for(i=n.length-1;i>-1;i--)t=n[i],e.mobile[t]&&(t=this.element.data("mobile-"+t),t&&e.isFunction(t.refresh)&&t.refresh())},_setInput:function(i){var n=this._search;this._timer&&(t.clearTimeout(this._timer),this._timer=0),n&&(this._off(n,"keyup change input"),n=null),i&&(n=i.jquery?i:i.nodeName?e(i):this.document.find(i),this._on(n,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=n},_onKeyDown:function(t){t.keyCode===e.ui.keyCode.ENTER&&(t.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(e){this._preventKeyPress&&(e.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(e){var t=!(e.filterReveal===i&&e.filterCallback===i&&e.children===i);this._super(e),e.input!==i&&(this._setInput(e.input),t=!0),t&&this.refresh()},_destroy:function(){var e=this.options,t=this._getFilterableItems();e.enhanced?t.toggleClass("ui-screen-hidden",e.filterReveal):t.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(e),function(e,t){var i=function(e,t){return function(i){t.call(this,i),e._syncTextInputOptions(i)}},n=/(^|\s)ui-li-divider(\s|$)/,o=e.mobile.filterable.prototype.options.filterCallback;e.mobile.filterable.prototype.options.filterCallback=function(e,t){return!this.className.match(n)&&o.call(this,e,t)},e.widget("mobile.filterable",e.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var t,i,n=this.element,o=["collapsibleset","selectmenu","controlgroup","listview"],r={};for(this._super(),e.extend(this,{_widget:null}),t=o.length-1;t>-1;t--)if(i=o[t],e.mobile[i]){if(this._setWidget(n.data("mobile-"+i)))break;r[i+"create"]="_handleCreate"}this._widget||this._on(n,r)},_handleCreate:function(e){this._setWidget(this.element.data("mobile-"+e.type.substring(0,e.type.length-6)))},_trigger:function(e,t,i){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===e&&this._widget._trigger("beforefilter",t,i),this._super(e,t,i)},_setWidget:function(e){return!this._widget&&e&&(this._widget=e,this._widget._setOptions=i(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(t){var i=this.options,n=!0,o={};if(!t){if(this._isSearchInternal())return;n=!1,t=e("<input data-"+e.mobile.ns+"type='search' placeholder='"+i.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),e("<form class='ui-filterable'></form>").append(t).submit(function(e){e.preventDefault(),t.blur()}).insertBefore(this.element),e.mobile.textinput&&(null!=this.options.filterTheme&&(o.theme=i.filterTheme),t.textinput(o))}this._super(t),this._isSearchInternal()&&n&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(i){var n=this._super(i);return i.filterPlaceholder!==t&&this._isSearchInternal()&&this._search.attr("placeholder",i.filterPlaceholder),i.filterTheme!==t&&this._search&&e.mobile.textinput&&this._search.textinput("option","theme",i.filterTheme),n},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(i){var n,o={};if(this._isSearchInternal()&&e.mobile.textinput){for(n in e.mobile.textinput.prototype.options)i[n]!==t&&("theme"===n&&null!=this.options.filterTheme?o[n]=this.options.filterTheme:o[n]=i[n]);this._search.textinput("option",o)}}}),e.widget("mobile.listview",e.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var e;this._superApply(arguments),this.options.filter===!0&&(e=this.element.data("mobile-filterable"),e&&e.refresh())}})}(e),function(e,t){function i(){return++o}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var o=0,r=/#.*$/;e.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){if(e(o).attr("aria-controls")===n)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&t!==-1||(t=!!this.tabs.length&&0)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=!i&&0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),t<0&&(t=o),t}for(var o=this.tabs.length-1;e.inArray(n(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,o){var r,s,a,l=e(o).uniqueId().attr("id"),c=e(o).closest("li"),u=c.attr("aria-controls");n(o)?(r=o.hash,s=t.element.find(t._sanitizeSelector(r))):(a=t._tabId(c),r="#"+a,s=t.element.find(r),s.length||(s=t._createPanel(a),s.insertAfter(t.panels[i-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),r=o.closest("li"),s=r[0]===n[0],a=s&&i.collapsible,l=a?e():this._getPanelForTab(r),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():r,newPanel:l};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=!a&&this.tabs.index(r),this.active=s?e():r,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),t),this._toggle(t,u))},_toggle:function(t,i){function n(){r.running=!1,r._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),e.inArray(i,n)!==-1)return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var o=this,r=this.tabs.eq(t),s=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),l={tab:r,panel:a};n(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),o._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&o.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,r){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(e),function(e,t){}(e),function(e,t){function i(e){o=e.originalEvent,l=o.accelerationIncludingGravity,r=Math.abs(l.x),s=Math.abs(l.y),a=Math.abs(l.z),!t.orientation&&(r>7||(a>6&&s<8||a<8&&s>6)&&r>5)?n.enabled&&n.disable():n.enabled||n.enable()}e.mobile.iosorientationfixEnabled=!0;var n,o,r,s,a,l,c=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(c)&&c.indexOf("AppleWebKit")>-1?(n=e.mobile.zoom,void e.mobile.document.on("mobileinit",function(){e.mobile.iosorientationfixEnabled&&e.mobile.window.bind("orientationchange.iosorientationfix",n.enable).bind("devicemotion.iosorientationfix",i)})):void(e.mobile.iosorientationfixEnabled=!1)}(e,this),function(e,t,n){function o(){r.removeClass("ui-mobile-rendering")}var r=e("html"),s=e.mobile.window;e(t.document).trigger("mobileinit"),e.mobile.gradeA()&&(e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),r.addClass("ui-mobile ui-mobile-rendering"),setTimeout(o,5e3),e.extend(e.mobile,{initializePage:function(){var t=e.mobile.path,r=e(":jqmData(role='page'), :jqmData(role='dialog')"),a=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),l=e.mobile.path.parseLocation(),c=a?i.getElementById(a):n;r.length||(r=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),r.each(function(){var i=e(this);i[0].getAttribute("data-"+e.mobile.ns+"url")||i.attr("data-"+e.mobile.ns+"url",i.attr("id")||t.convertUrlToDataUrl(l.pathname+l.search))}),e.mobile.firstPage=r.first(),e.mobile.pageContainer=e.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),e.mobile.navreadyDeferred.resolve(),s.trigger("pagecontainercreate"),e.mobile.loading("show"),o(),e.mobile.hashListeningEnabled&&e.mobile.path.isHashValid(location.hash)&&(e(c).is(":jqmData(role='page')")||e.mobile.path.isPath(a)||a===e.mobile.dialogHashKey)?e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],
e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):s.trigger("hashchange",[!0]):(e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(t.parseLocation().href),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),e(function(){e.support.inlineSVG(),e.mobile.hideUrlBar&&t.scrollTo(0,1),e.mobile.defaultHomeScroll=e.support.scrollTop&&1!==e.mobile.window.scrollTop()?1:0,e.mobile.autoInitializePage&&e.mobile.initializePage(),e.mobile.hideUrlBar&&s.load(e.mobile.silentScroll),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(e,this)}),!function(e){function t(){}function i(e){function i(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function o(t,i){e.fn[t]=function(o){if("string"==typeof o){for(var s=n.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=e.data(c,t);if(u)if(e.isFunction(u[o])&&"_"!==o.charAt(0)){var h=u[o].apply(u,s);if(void 0!==h)return h}else r("no such method '"+o+"' for "+t+" instance");else r("cannot call methods on "+t+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var n=e.data(this,t);n?(n.option(o),n._init()):(n=new i(this,o),e.data(this,t,n))})}}if(e){var r="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){i(t),o(e,t)},e.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var o=function(){};i.removeEventListener?o=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(o=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:e.eventie=r}(window),function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,o=this,r=o.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,o=this.getListenersAsObject(e),r="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===t(o[n],i)&&o[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&(n=t(r[o],i),-1!==n&&r[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,o,r,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].length;n--;)i=s[o][n],i.once===!0&&this.removeListener(e,i.listener),r=i.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:o.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof n[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,o=0,r=i.length;r>o;o++)if(t=i[o]+e,"string"==typeof n[t])return t}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),i=-1===e.indexOf("%")&&!isNaN(t);return i&&t}function i(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,i=s.length;i>t;t++){var n=s[t];e[n]=0}return e}function o(i){function o(){if(!d){d=!0;var n=e.getComputedStyle;if(c=function(){var e=n?function(e){return n(e,null)}:function(e){return e.currentStyle};return function(t){var i=e(t);return i||r("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),u=i("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[u]="border-box";var s=document.body||document.documentElement;s.appendChild(o);var a=c(o);h=200===t(a.width),s.removeChild(o)}}}function a(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=c(e);if("none"===i.display)return n();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var a=r.isBorderBox=!(!u||!i[u]||"border-box"!==i[u]),d=0,p=s.length;p>d;d++){var f=s[d],m=i[f];m=l(e,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,b=r.paddingTop+r.paddingBottom,_=r.marginLeft+r.marginRight,y=r.marginTop+r.marginBottom,w=r.borderLeftWidth+r.borderRightWidth,x=r.borderTopWidth+r.borderBottomWidth,C=a&&h,$=t(i.width);$!==!1&&(r.width=$+(C?0:v+w));var k=t(i.height);return k!==!1&&(r.height=k+(C?0:b+x)),r.innerWidth=r.width-(v+w),r.innerHeight=r.height-(b+x),r.outerWidth=r.width+_,r.outerHeight=r.height+y,r}}function l(t,i){if(e.getComputedStyle||-1===i.indexOf("%"))return i;var n=t.style,o=n.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,s&&(r.left=s),i}var c,u,h,d=!1;return a}var r="undefined"==typeof console?i:function(e){console.error(e)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):e.getSize=o(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():s.push(e))}function i(e){var i="readystatechange"===e.type&&"complete"!==r.readyState;t.isReady||i||n()}function n(){t.isReady=!0;for(var e=0,i=s.length;i>e;e++){var n=s[e];n()}}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(e,"load",i)),t}var r=e.document,s=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):e.docReady=o(e.eventie)}(window),function(e){function t(e,t){return e[s](t)}function i(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function n(e,t){i(e);for(var n=e.parentNode.querySelectorAll(t),o=0,r=n.length;r>o;o++)if(n[o]===e)return!0;return!1}function o(e,n){return i(e),t(e,n)}var r,s=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var o=t[i],r=o+"MatchesSelector";if(e[r])return r}}();if(s){var a=document.createElement("div"),l=t(a,"div");r=l?t:o}else r=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,i){var n={};n.extend=function(e,t){for(var i in t)e[i]=t[i];return e},n.modulo=function(e,t){return(e%t+t)%t};var o=Object.prototype.toString;n.isArray=function(e){return"[object Array]"==o.call(e)},n.makeArray=function(e){var t=[];if(n.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0,o=e.length;o>i;i++)t.push(e[i]);else t.push(e);return t},n.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},n.removeFrom=function(e,t){var i=n.indexOf(e,t);-1!=i&&e.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},n.setText=function(){function e(e,i){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=i}var t;return e}(),n.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,i(e,t))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,t){e=n.makeArray(e);for(var o=[],r=0,s=e.length;s>r;r++){var a=e[r];if(n.isElement(a))if(t){i(a,t)&&o.push(a);for(var l=a.querySelectorAll(t),c=0,u=l.length;u>c;c++)o.push(l[c])}else o.push(a)}return o},n.debounceMethod=function(e,t,i){var n=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,t),delete r[o]},i||100)}},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var r=e.console;return n.htmlInit=function(i,o){t(function(){for(var t=n.toDashed(o),s=document.querySelectorAll(".js-"+t),a="data-"+t+"-options",l=0,c=s.length;c>l;l++){var u,h=s[l],d=h.getAttribute(a);try{u=d&&JSON.parse(d)}catch(p){r&&r.error("Error parsing "+a+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+p);continue}var f=new i(h,u),m=e.jQuery;m&&m.data(h,o,f)}})},n}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n,o,r){return t(e,i,n,o,r)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,i,n,o){function r(e){for(var t in e)return!1;return t=null,!0}function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var a=e.getComputedStyle,l=a?function(e){return a(e,null)}:function(e){return e.currentStyle},c=n("transition"),u=n("transform"),h=c&&u,d=!!n("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],f=["transform","transition","transitionDuration","transitionProperty"],m=function(){for(var e={},t=0,i=f.length;i>t;t++){var o=f[t],r=n(o);r&&r!==o&&(e[o]=r)}return e}();o.extend(s.prototype,t.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype.css=function(e){var t=this.element.style;for(var i in e){var n=m[i]||i;t[n]=e[i]}},s.prototype.getPosition=function(){var e=l(this.element),t=this.layout.options,i=t.isOriginLeft,n=t.isOriginTop,o=parseInt(e[i?"left":"right"],10),r=parseInt(e[n?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var s=this.layout.size;o-=i?s.paddingLeft:s.paddingRight,r-=n?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=r},s.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,i={},n=t.isOriginLeft?"paddingLeft":"paddingRight",o=t.isOriginLeft?"left":"right",r=t.isOriginLeft?"right":"left",s=this.position.x+e[n];s=t.percentPosition&&!t.isHorizontal?s/e.width*100+"%":s+"px",i[o]=s,i[r]="";var a=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",c=t.isOriginTop?"bottom":"top",u=this.position.y+e[a];u=t.percentPosition&&t.isHorizontal?u/e.height*100+"%":u+"px",i[l]=u,i[c]="",this.css(i),this.emitEvent("layout",[this])};var g=d?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};s.prototype._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(e,10),r=parseInt(t,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return void this.layoutPosition();var a=e-i,l=t-n,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=g(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},s.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},s.prototype.moveTo=h?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},s.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},s.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);var n=this.element.offsetHeight;n=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v=u&&o.toDashed(u)+",opacity";s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},s.prototype.transition=s.prototype[c?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},s.prototype.onotransitionend=function(e){this.ontransitionend(e)};var b={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};s.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=b[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],r(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd){var n=t.onEnd[i];n.call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var _={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(_)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},s.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},s.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},s.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r,s){return t(e,i,n,o,r,s)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,i,n,o,r){function s(e,t){var i=o.getQueryElement(e);if(!i)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||e)));this.element=i,l&&(this.$element=l(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(t);var n=++u;this.element.outlayerGUID=n,h[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var a=e.console,l=e.jQuery,c=function(){},u=0,h={};return s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},o.extend(s.prototype,i.prototype),s.prototype.option=function(e){o.extend(this.options,e)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],o=0,r=t.length;r>o;o++){var s=t[o],a=new i(s,this);n.push(a)}return n},s.prototype._filterFindItemElements=function(e){return o.filterFindElements(e,this.options.itemSelector)},s.prototype.getItemElements=function(){for(var e=[],t=0,i=this.items.length;i>t;t++)e.push(this.items[t].element);return e},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=n(this.element)},s.prototype._getMeasurement=function(e,t){var i,r=this.options[e];r?("string"==typeof r?i=this.element.querySelector(r):o.isElement(r)&&(i=r),this[e]=i?n(i)[t]:r):this[e]=0},s.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},s.prototype._getItemsForLayout=function(e){for(var t=[],i=0,n=e.length;n>i;i++){var o=e[i];o.isIgnored||t.push(o)}return t},s.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var i=[],n=0,o=e.length;o>n;n++){var r=e[n],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=t||r.isLayoutInstant,i.push(s)}this._processLayoutQueue(i)}},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(e){for(var t=0,i=e.length;i>t;t++){var n=e[t];this._positionItem(n.item,n.x,n.y,n.isInstant)}},s.prototype._positionItem=function(e,t,i,n){n?e.goTo(t,i):e.moveTo(t,i)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},s.prototype._getContainerSize=c,s.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},s.prototype._emitCompleteOnItems=function(e,t){function i(){o.emitEvent(e+"Complete",[t])}function n(){s++,s===r&&i()}var o=this,r=t.length;if(!t||!r)return void i();for(var s=0,a=0,l=t.length;l>a;a++){var c=t[a];c.once(e,n)}},s.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},s.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},s.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,i=e.length;i>t;t++){var n=e[t];this.ignore(n)}}},s.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,i=e.length;i>t;t++){var n=e[t];o.removeFrom(this.stamps,n),this.unignore(n)}},s.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=o.makeArray(e)):void 0},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var i=this.stamps[e];this._manageStamp(i)}}},s.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},s.prototype._manageStamp=c,s.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,o=n(e),r={left:t.left-i.left-o.marginLeft,top:t.top-i.top-o.marginTop,right:i.right-t.right-o.marginRight,bottom:i.bottom-t.bottom-o.marginBottom};return r},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},s.prototype.needsResizeLayout=function(){var e=n(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},s.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},s.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},s.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,i=0;t&&t>i;i++){var n=e[i];n.reveal()}},s.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,i=0;t&&t>i;i++){var n=e[i];n.hide()}},s.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},s.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},s.prototype.getItem=function(e){for(var t=0,i=this.items.length;i>t;t++){var n=this.items[t];if(n.element===e)return n}},s.prototype.getItems=function(e){e=o.makeArray(e);for(var t=[],i=0,n=e.length;n>i;i++){var r=e[i],s=this.getItem(r);s&&t.push(s)}return t},s.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var i=0,n=t.length;n>i;i++){var r=t[i];r.remove(),o.removeFrom(this.items,r)}},s.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,i=this.items.length;i>t;t++){var n=this.items[t];n.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete h[o],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},s.data=function(e){e=o.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&h[t]},s.create=function(e,t){function i(){s.apply(this,arguments)}return Object.create?i.prototype=Object.create(s.prototype):o.extend(i.prototype,s.prototype),i.prototype.constructor=i,i.defaults=o.extend({},s.defaults),o.extend(i.defaults,t),i.prototype.settings={},i.namespace=e,i.data=s.data,i.Item=function(){r.apply(this,arguments)},i.Item.prototype=new r,o.htmlInit(i,e),l&&l.bridget&&l.bridget(e,i),i},s.Item=r,s}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,i){var n=e.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=t&&1>t?"round":"ceil",o=Math[n](e.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=i.indexOf(r,s),l={x:this.columnWidth*a,y:s},c=s+e.size.outerHeight,u=this.cols+1-r.length,h=0;u>h;h++)this.colYs[a+h]=c;return l},n.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;i>n;n++){var o=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,o)}return t},n.prototype._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),o=this.options.isOriginLeft?n.left:n.right,r=o+i.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},n.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},n}),function(e){"use strict";function t(){var t=e.crypto||e.msCrypto;if(!a&&t&&t.getRandomValues)try{var i=new Uint8Array(16);u=a=function(){return t.getRandomValues(i),i},a()}catch(n){}if(!a){var o=new Array(16);l=a=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function i(){if("function"==typeof require)try{var e=require("crypto").randomBytes;c=a=e&&function(){return e(16)},a()}catch(t){}}function n(e,t,i){var n=t&&i||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[n+o++]=f[e])});o<16;)t[n+o++]=0;return t}function o(e,t){var i=t||0,n=p;return n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]}function r(e,t,i){var n=t&&i||0,r=t||[];e=e||{};var s=null!=e.clockseq?e.clockseq:b,a=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:y+1,c=a-_+(l-y)/1e4;if(c<0&&null==e.clockseq&&(s=s+1&16383),(c<0||a>_)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_=a,y=l,b=s,a+=122192928e5;var u=(1e4*(268435455&a)+l)%4294967296;r[n++]=u>>>24&255,r[n++]=u>>>16&255,r[n++]=u>>>8&255,r[n++]=255&u;var h=a/4294967296*1e4&268435455;r[n++]=h>>>8&255,r[n++]=255&h,r[n++]=h>>>24&15|16,r[n++]=h>>>16&255,r[n++]=s>>>8|128,r[n++]=255&s;for(var d=e.node||v,p=0;p<6;p++)r[n+p]=d[p];return t?t:o(r)}function s(e,t,i){var n=t&&i||0;"string"==typeof e&&(t="binary"===e?new d(16):null,e=null),e=e||{};var r=e.random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var s=0;s<16;s++)t[n+s]=r[s];return t||o(r)}var a,l,c,u,h;e?t():i();for(var d="function"==typeof Buffer?Buffer:Array,p=[],f={},m=0;m<256;m++)p[m]=(m+256).toString(16).substr(1),f[p[m]]=m;var g=a(),v=[1|g[0],g[1],g[2],g[3],g[4],g[5]],b=16383&(g[6]<<8|g[7]),_=0,y=0,w=s;w.v1=r,w.v4=s,w.parse=n,w.unparse=o,w.BufferClass=d,w._rng=a,w._mathRNG=l,w._nodeRNG=c,w._whatwgRNG=u,"undefined"!=typeof module&&module.exports?module.exports=w:"function"==typeof define&&define.amd?define(function(){return w}):(h=e.uuid,w.noConflict=function(){return e.uuid=h,w},e.uuid=w)}("undefined"!=typeof window?window:null),angular.module("myApp.login",["ngRoute"]).config(["$routeProvider",function(e){e.when("/login",{templateUrl:"login/login.html",controller:"loginCtrl",resolve:{configData:function(e){var t=e.retrieveInitialConfig();return t},loginData:function(){var e={};return e.authType="STANDARD",e}}})}]).controller("loginCtrl",["$scope","$log","$http","$location","MessageService","globals","$q","$timeout","configData","loginData",function(e,t,i,n,o,r,s,a,l,c){var u=function(e,t,i,n,o,r,s){return{host:e,port:t,zone:i,userName:n,password:o,authType:r,resource:s}};e.loginVal=c,e.initialConfig=l,$("#main_contents").css("width","100%"),e.close_intro=function(){$(".intro_screen").animate({opacity:"0"},function(){
$(".intro_screen").css("display","none")})},e.current_page="login",e.submitLogin=function(){if(e.initialConfig.loginPresetEnabled===!0){if(""==e.initialConfig.presetPort)var o=e.loginVal.port;else var o=e.initialConfig.presetPort;if(""==e.initialConfig.presetZone)var a=e.loginVal.zone;else var a=e.initialConfig.presetZone;if(""==e.initialConfig.presetHost)var l=e.loginVal.host;else var l=e.initialConfig.presetHost;var c;c=""==e.initialConfig.presetAuthScheme||null==e.initialConfig.presetAuthScheme?e.loginVal.authType:e.initialConfig.presetAuthScheme;var h=u(l,o,a,e.loginVal.userName,e.loginVal.password,c,"")}else var h=u(e.loginVal.host,e.loginVal.port,e.loginVal.zone,e.loginVal.userName,e.loginVal.password,e.loginVal.authType,"");i({method:"POST",url:r.backendUrl("login/"),data:h}).then(function(e){t.info("login successful"+e);var i=r.getLastPath();return s.when(i)}).then(function(e){e?"/login"==e?(t.info("hard code to go home"),e="/home/My Home"):t.info("setting location to last path:"+e):(t.info("hard code to go home"),e="/home/My Home"),n.path(e),t.info("end login success processing")})}}]).factory("configService",["$http","$log","$q","globals",function(e,t,i,n){return{retrieveInitialConfig:function(){t.info("retrieveInitialConfig()");var i=e({method:"GET",url:n.backendUrl("initialConf"),params:{}}).then(function(e){return t.info(e),e.data});return i}}}]),angular.module("myApp.metadata",["ngRoute"]).factory("metadataService",["$http","$log","$q","globals",function(e,t,i,n){return{listMetadataForPath:function(i){if(t.info("listMetadataForPath()"),!i)throw t.error("absolutePath is missing"),"absolutePath is missing";var o=e({method:"GET",url:n.backendUrl("metadata"),params:{irodsAbsolutePath:i}}).then(function(e){return t(e),e.data});return o},addMetadataForPath:function(i,o,r,s){if(t.info("addMetadataForPath()"),!i)throw t.error("absolutePath is missing"),"absolutePath is missing";if(!o)throw t.error("attribute is missing"),"attribute is missing";if(!r)throw t.error("value is missing"),"value is missing";s||(s="");var a=e({method:"PUT",url:n.backendUrl("metadata"),params:{irodsAbsolutePath:i,attribute:o,value:r,unit:s}}).then(function(e){return t.info(e),e.data});return a},deleteMetadataForPath:function(i,o,r,s){if(t.info("deleteMetadataForPath()"),!i)throw t.error("absolutePath is missing"),"absolutePath is missing";if(!o)throw t.error("attribute is missing"),"attribute is missing";if(!r)throw t.error("value is missing"),"value is missing";var a=e({method:"DELETE",url:n.backendUrl("metadata"),params:{irodsAbsolutePath:i,attribute:o,value:r,unit:s}}).then(function(e){return t.info(e),e.data});return a},updateMetadataForPath:function(i,o,r,s,a,l,c){if(t.info("updateMetadataForPath()"),!i)throw t.error("absolutePath is missing"),"absolutePath is missing";var u=e({method:"POST",url:n.backendUrl("metadata"),params:{irodsAbsolutePath:i,attribute:o,value:r,unit:s,newAttribute:a,newValue:l,newUnit:c}}).then(function(e){return t.info(e),e.data});return u}}}]),angular.module("myApp.profile",["ngRoute"]).config(["$routeProvider",function(e){e.when("/profile",{templateUrl:"profile/profile.html",controller:"profileCtrl",resolve:{dataProfile:function(e,t){var i=t.retrieveDataProfile(e.current.params.path);return i}}})}]).directive("onLastRepeat",function(){return function(e,t,i){e.$last&&setTimeout(function(){e.$emit("onRepeatLast",t,i)},1)}}).controller("profileCtrl",["$scope","$log","Upload","$http","$location","MessageService","globals","breadcrumbsService","virtualCollectionsService","collectionsService","fileService","metadataService","dataProfile",function(e,t,i,n,o,r,s,a,l,c,u,h,d){e.dataProfile=d,e.pop_up_form="",n({method:"GET",url:s.backendUrl("collection/")+"root",params:{path:e.dataProfile.parentPath,offset:0}}).then(function(t){e.copy_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("virtualCollection/")+"root"})}).then(function(t){e.copyVC=t,e.getBreadcrumbPaths()}),e.getBreadcrumbPaths=function(){e.breadcrumb_full_array=e.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),e.breadcrumb_full_array.shift(),e.breadcrumb_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_full_array.length;i++)t=t+"/"+e.breadcrumb_full_array[i],e.breadcrumb_full_array_paths.push({b:e.breadcrumb_full_array[i],path:t});e.breadcrumb_full_array.length>5?e.breadcrumb_compressed_array=e.breadcrumb_full_array_paths.splice(0,e.breadcrumb_full_array_paths.length-5):e.breadcrumb_compressed_array=[]},e.goToBreadcrumb=function(e){return e?(o.path("/home/root"),void o.search("path",e)):void t.error("cannot go to breadcrumb, no path")},e.$on("onRepeatLast",function(t,i,n){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var t=$("#select-result").empty();$(".dropdown").removeClass("open");var i=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)t.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){e.selected_target=$(".general_list_item .ui-selected").attr("id");var r="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==r)var r="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();t.append(r),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),e.go_back=function(){window.history.go(-1)},e.listVirtualCollections=function(){return t.info("getting virtual colls"),n({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(t){e.virtualCollections=t}).error(function(){e.virtualCollections=[]})},e.listVirtualCollections(),e.$watch("files",function(){e.upload(e.files)}),e.multiple=!0,e.current_page="info_view",e.files_to_upload=[],e.files_name=[],e.stage_files=function(t){if(t&&t.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var i=0;i<t.length;i++){var n=t[i],o=$.inArray(n.name,e.files_name);0===o?r.danger('There is already a file named "'+n.name+'" on your list'):(e.files_to_upload.push(n),e.files_name.push(n.name),$(".upload_container_result ul").append('<li id="uploading_item_'+i+'" class="light_back_option_even"><div class="col-xs-10 list_content"><img src="images/data_object_icon.png">'+n.name+"</div></li>"))}}},e.upload=function(){if(e.files_to_upload&&e.files_to_upload.length)for(var n=0;n<e.files_to_upload.length;n++){var o=e.files_to_upload[n];i.upload({url:s.backendUrl("file"),fields:{collectionParentName:e.dataProfile.domainObject.absolutePath},file:o}).progress(function(e){var i=parseInt(100*e.loaded/e.total);t.info(i)}).then(function(t){return c.listCollectionContents(e.copyVC.data.uniqueName,e.dataProfile.domainObject.absolutePath,0)}).then(function(t){r.success("Upload completed!"),e.pagingAwareCollectionListing=t,e.pop_up_close_clear(),e.files_to_upload=[],e.files_name=[]})}},e.save_content_action=function(){return t.info("saving file content"),n({method:"POST",url:s.backendUrl("fileEdit"),params:{data:e.file_content,irodsPath:e.dataProfile.domainObject.absolutePath}}).success(function(e){location.reload()}).error(function(){})},e.delete_action=function(){var i=e.dataProfile.domainObject.absolutePath;return t.info("Deleting:"+i),n({method:"DELETE",url:s.backendUrl("file"),params:{path:i}}).then(function(e){r.info("Deletion completed!"),window.history.back()})},e.rename_action=function(){var i=e.dataProfile.domainObject.absolutePath,o=$("#new_renaming_name").val(),a=window.location,l=String(a).lastIndexOf("%2F"),c=String(a).substr(0,l),c=c+"%2F"+o;t.info("Renaming:"+i);for(var u="yes",h=0;h<e.copy_list.data.collectionAndDataObjectListingEntries.length;h++){var d=e.copy_list.data.collectionAndDataObjectListingEntries[h];o===d.nodeLabelDisplayValue&&(r.danger('There is already an item named "'+o+'", please choose a different name'),u="no",$("#new_renaming_name").addClass("has_error"),$("#new_renaming_name").focus())}"yes"===u&&(t.info("Renaming:"+i),n({method:"PUT",url:s.backendUrl("rename"),params:{path:i,newName:o}}).then(function(e){r.success("Renaming completed!"),location.assign(c)}))},e.copy_action=function(){e.copy_source=e.dataProfile.domainObject.absolutePath,t.info("||||||||||||| copying:"+e.copy_source+" to "+e.copy_target),n({method:"POST",url:s.backendUrl("copy"),params:{sourcePath:e.copy_source,targetPath:e.copy_target,resource:"",overwrite:"false"}}).then(function(){r.success("Copy completed!"),e.pop_up_close_clear()})},e.move_action=function(){e.copy_source=e.dataProfile.domainObject.absolutePath;var i=e.dataProfile.childName,o=window.location,a=String(o).lastIndexOf("="),l=String(o).substr(0,a),l=l+"="+e.copy_target+"%2F"+i;t.info("||||||||||||| moving:"+e.copy_source+" to "+e.copy_target),n({method:"POST",url:s.backendUrl("move"),params:{sourcePath:e.copy_source,targetPath:e.copy_target,resource:"",overwrite:"false"}}).then(function(){r.success("Move completed!"),location.assign(l)})},e.getCopyBreadcrumbPaths=function(){e.breadcrumb_popup_full_array=e.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),e.breadcrumb_popup_full_array.shift(),e.breadcrumb_popup_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_popup_full_array.length;i++)t=t+"/"+e.breadcrumb_popup_full_array[i],e.breadcrumb_popup_full_array_paths.push({b:e.breadcrumb_popup_full_array[i],path:t});e.breadcrumb_popup_full_array.length>5?e.breadcrumb_popup_compressed_array=e.breadcrumb_popup_full_array_paths.splice(0,e.breadcrumb_popup_full_array_paths.length-5):e.breadcrumb_popup_compressed_array=[]},e.set_path=function(t,i){var n=$(".copy_select_result").empty(),o=t;n.append(o),e.copy_target=i},e.hide_breadcrumbs=function(){$(".dark_back_option_double").removeClass("open")},e.copy_list_refresh=function(t,i){if(""==t)var o="root";else var o=t;n({method:"GET",url:s.backendUrl("collection/")+o,params:{path:i,offset:0}}).then(function(t){e.copy_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("virtualCollection/")+o})}).then(function(t){e.copyVC=t,"COLLECTION"==e.copyVC.data.type&&e.getCopyBreadcrumbPaths()})},e.editFile=function(i,n,s){t.info("going to File edit"),t.info("end: "+i),i||(t.error("missing irodsAbsolutePath"),r.danger("missing irodsAbsolutePath")),o.url("/edit/"),o.search("path",i),t.info("end: "+i),1==n&&e.$apply()},$(window).keyup(function(t){"13"==t.keyCode&&("delete"===e.pop_up_form&&(e.pop_up_form="",e.delete_action()),"upload"===e.pop_up_form&&e.upload(),"copy"===e.pop_up_form&&(e.pop_up_form="",e.copy_action()),"move"===e.pop_up_form&&(e.pop_up_form="",e.move_action()),"create"===e.pop_up_form&&(e.pop_up_form="",e.create_collection_action()),"rename"===e.pop_up_form&&(e.pop_up_form="",e.rename_action()))}),e.move_pop_up_open=function(){e.pop_up_form="move",e.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var t=$(".copy_select_result").empty(),i=e.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.copy_source=e.dataProfile.domainObject.absolutePath,e.copy_target=e.dataProfile.parentPath,t.append(o),1==e.dataProfile.file?$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+e.dataProfile.childName+"</div></li>"):$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+e.dataProfile.childName+"</div></li>"),$(".mover").fadeIn(100),$(".mover_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t,e.getCopyBreadcrumbPaths()})},e.copy_pop_up_open=function(){e.pop_up_form="copy",e.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var t=$(".copy_select_result").empty(),i=e.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.copy_source=e.dataProfile.domainObject.absolutePath,e.copy_target=e.dataProfile.parentPath,t.append(o),1==e.dataProfile.file?$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+e.dataProfile.childName+"</div></li>"):$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+e.dataProfile.childName+"</div></li>"),$(".copier").fadeIn(100),$(".copier_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t,e.getCopyBreadcrumbPaths()})},e.upload_pop_up_open=function(){e.upload_folder_name=e.dataProfile.childName,e.pop_up_form="upload",$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},e.rename_pop_up_open=function(){e.pop_up_form="rename",$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100),$("#new_renaming_name").focus();var t=e.dataProfile.childName;$(".selected_object").append(t)},e.delete_pop_up_open=function(){e.pop_up_form="delete",$(".pop_up_window").fadeIn(100),1==e.dataProfile.file?$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">&nbsp;'+e.dataProfile.domainObject.absolutePath+"</div></li>"):$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/collection_icon.png">&nbsp;'+e.dataProfile.domainObject.absolutePath+"</div></li>"),$(".deleter").fadeIn(100)},e.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),e.pop_up_form="",e.files_to_upload=[],e.files_name=[],$("#select-result").empty(),$(".download_button").animate({opacity:"0.1"}),$(".download_button").css("pointer-events","none"),$(".rename_button").animate({opacity:"0.1"}),$(".rename_button").css("pointer-events","none"),$(".rename_divider").animate({opacity:"0.1"}),$(".download_divider").animate({opacity:"0.1"}),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn()})},e.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),$("#new_metadata_attribute").removeClass("has_error"),$("#new_metadata_value").removeClass("has_error"),e.pop_up_form="",e.files_to_upload=[],e.files_name=[]})},$(window).mousedown(function(e){switch(e.which){case 1:$(e.target).is("div")&&($(e.target).parents().hasClass("ui-selectee")||$(e.target).parents().hasClass("selection_actions_container")||$(e.target).parents().hasClass("pop_up_window")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn(),$("#select-result").empty()));break;case 3:0!=$(".general_list_item .ui-selected").length&&1!=$(".general_list_item .ui-selected").length||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(e.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})),$(".general_list_item .ui-selected").length>1&&($(e.target).parents("li").hasClass("ui-selected")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(e.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})))}}),e.available_metadata=e.dataProfile.metadata,e.star_action=function(){var t=e.dataProfile.domainObject.absolutePath;u.starFileOrFolder(t).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.domainObject.absolutePath}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear(),e.dataProfile.starred=!0})},e.unstar_action=function(){var t=e.dataProfile.domainObject.absolutePath;u.unstarFileOrFolder(t).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.domainObject.absolutePath}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear(),e.dataProfile.starred=!1})},e.add_metadata_pop_up=function(){$("#new_metadata_attribute").val(""),$("#new_metadata_value").val(""),$("#new_metadata_unit").val(""),$(".pop_up_window").fadeIn(100),$(".metadata_adder").fadeIn(100)},e.edit_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),$(".metadata_editor").fadeIn(100),$("#edit_metadata_attribute").val($(".metadata_item.ui-selected").children(".metadata_attribute").text()),$("#edit_metadata_value").val($(".metadata_item.ui-selected").children(".metadata_value").text()),$("#edit_metadata_unit").val($(".metadata_item.ui-selected").children(".metadata_unit").text()),e.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),e.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),e.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text()},e.delete_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),e.delete_objects=$(".metadata_item.ui-selected"),e.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),e.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),e.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text(),t.info(e.delete_objects),$(".metadata_delete_container ul").empty(),$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column"><b>ATTRIBUTE</b></div><div class="q_column"><b>VALUE</b></div><div class="q_column"><b>UNIT</b></div></li>'),e.delete_objects.each(function(){$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column">'+$(this).children(".metadata_attribute").text()+'</div><div class="q_column">'+$(this).children(".metadata_value").text()+'</div><div class="q_column">'+$(this).children(".metadata_unit").text()+"</div></li>")}),$(".metadata_deleter").fadeIn(100)},e.metadata_add_action=function(){$("#new_metadata_attribute").removeClass("has_error"),$("#new_metadata_value").removeClass("has_error");for(var t=e.dataProfile.domainObject.absolutePath,i=$("#new_metadata_attribute").val(),o=$("#new_metadata_value").val(),a=$("#new_metadata_unit").val(),l="yes",c="yes",u=0;u<e.available_metadata.length;u++){var d=e.available_metadata[u];i===d.avuAttribute&&(l="no"),o===d.avuValue&&(c="no")}"no"==c&&"no"==l?(r.danger('There is already an AVU with Attribute: "'+i+'" and Value: "'+o+'". Please choose a different Attribute or Value'),$("#new_metadata_attribute").addClass("has_error"),$("#new_metadata_value").addClass("has_error"),$("#new_metadata_attribute").focus()):""==i?(r.danger("The Attribute field can't be blank, please provide an Attribute"),$("#new_metadata_attribute").addClass("has_error"),$("#new_metadata_attribute").focus()):""==o?(r.danger("The Value field can't be blank, please provide a Value"),$("#new_metadata_value").addClass("has_error"),$("#new_metadata_value").focus()):h.addMetadataForPath(t,i,o,a).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.domainObject.absolutePath}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear()})},e.metadata_edit_action=function(){var t=e.dataProfile.domainObject.absolutePath,i=$("#edit_metadata_attribute").val(),o=$("#edit_metadata_value").val(),r=$("#edit_metadata_unit").val();h.updateMetadataForPath(t,e.old_metadata_attribute,e.old_metadata_value,e.old_metadata_unit,i,o,r).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.domainObject.absolutePath}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear()})},e.metadata_delete_action=function(){var t=e.dataProfile.domainObject.absolutePath;$("#edit_metadata_attribute").val(),$("#edit_metadata_value").val(),$("#edit_metadata_unit").val();h.deleteMetadataForPath(t,e.old_metadata_attribute,e.old_metadata_value,e.old_metadata_unit).then(function(){n({method:"GET",url:s.backendUrl("file"),params:{path:e.dataProfile.domainObject.absolutePath}}).success(function(t){e.new_meta=t,e.available_metadata=e.new_meta.metadata}),e.pop_up_close_clear()})},e.green_action_toggle=function(e){var t=e.currentTarget.nextElementSibling,i=e.currentTarget.parentElement;$(t).toggle("normal"),$(i).toggleClass("green_toggle_container_open")},e.getDownloadLink=function(){return s.backendUrl("download")+"?path="+e.dataProfile.domainObject.absolutePath}}]),angular.module("myApp.search",["ngRoute","ngFileUpload","ng-context-menu","ui.codemirror"]).config(["$routeProvider",function(e){e.when("/search",{templateUrl:"search/search.html",controller:"searchCtrl",resolve:{selectedVc:function(e,t){var i=t.listUserVirtualCollectionData("My Home");return i},pagingAwareCollectionListing:function(e,t){var i="My Home",n=e.current.params.path;return null==n&&(n=""),t.listCollectionContents(i,n,0)}}})}]).directive("onLastRepeat",function(){return function(e,t,i){e.$last&&setTimeout(function(){e.$emit("onRepeatLast",t,i)},1)}}).directive("addAttr",function(e){return function(t,i,n){i.bind("click",function(){angular.element(document.getElementById("query_container")).append(e('<div class="and_param left col-xs-12"> <div style="width: 409px;position: relative;text-align: center;margin: 13px 0px;float: left;border-bottom: 1px solid #bbb;color: #999;"><b>and</b></div><div style="position:relative;float:left;"><b>*&nbsp;Attribute Name</b><br><input type="text" value="" class="attr_name"/></div><div style="position:relative;float:left;padding:12px 12px 0px 12px;"><select class="form-control attr_eval" ><option value="EQUAL"><b>=</b></option><option value="LESS"><b><</b></option><option value="MORE"><b>></b></option></select></div><div style="position:relative;float:left;"><b>*&nbsp;Attribute Value</b><br><input type="text" value="" class="attr_val"/></div><div style="position:relative;float:left;padding:22px 0px 0px 12px;"><div title="Remove this line of parameters" ng-click="remove_and_avu()"><img class="pop_up_close_clear_button" src="images/close_icon.png"></div></div></div>')(t))})}}).directive("ngDoubleTap",function(){return function(e,t,i){var n;n=!1,t.bind("touchstart",function(e){t.addClass("active"),n=!0}),t.bind("touchmove",function(e){t.removeClass("active"),n=!1}),t.bind("touchend",function(o){t.removeClass("active"),n&&("yes"==e.tapped?e.$apply(i.ngDoubleTap,t):e.tapped="yes",e.explode=function(){e.tapped="no"},setTimeout(e.explode,300))})}}).controller("searchCtrl",["$scope","Upload","$log","$http","$location","MessageService","globals","breadcrumbsService","downloadService","virtualCollectionsService","collectionsService","fileService","selectedVc","pagingAwareCollectionListing",function(e,t,i,n,o,r,s,a,l,c,u,h,d,p){e.count=0,e.selectedVc=d,e.pagingAwareCollectionListing=p,e.$on("onRepeatLast",function(t,i,n){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var t=$("#select-result").empty();$(".dropdown").removeClass("open");var i=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var n=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(n),e.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var o=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();i.append(o),e.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)t.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){e.selected_target=$(".general_list_item .ui-selected").attr("id");var r="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==r)var r="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();t.append(r),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".general_list_item .ui-selected").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),e.$watch("files",function(){e.upload(e.files)}),e.multiple=!0,e.upload=function(n){if(n&&n.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var o=0;o<n.length;o++){var r=n[o];$(".upload_container_result ul").append('<li id="uploading_item_'+o+'" class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+r.name+"</div></li>"),t.upload({url:s.backendUrl("file"),fields:{collectionParentName:e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath},file:r}).progress(function(e){var t=parseInt(100*e.loaded/e.total);i.info(t)}).success(function(e,t,i,n){console.log("file "+n.file.name+"uploaded. Response: "+e)})}}},e.listVirtualCollections=function(){return i.info("getting virtual colls"),n({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(t){e.virtualCollections=t}).error(function(){
e.virtualCollections=[]})},e.selectVirtualCollection=function(t,n,s){return i.info("selectVirtualCollection()"),t?(i.info("list vc contents for vc name:"+t),o.path("/home/"+t),o.search("path",n),void(1==s&&e.$apply())):void r.danger("missing vcName")},e.getBreadcrumbPaths=function(){return e.pagingAwareCollectionListing?(a.setCurrentAbsolutePath(e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath),a.getWholePathComponents()):[]},e.pagingAwareCollectionListing&&e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents&&(e.current_collection_index=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.length-1),e.query_search=function(){if(e.display_name=$(".display_name").val(),""==e.display_name)throw r.danger("Missing Search Name"),$(".display_name").focus(),new Error("Missing Search Name");var t='{"targetZone":"","queryType":"'+$("#search_objs").val()+'","pathHint":"'+$(".search_path").val()+'","metadataQueryElements":[',o=[];$(".attr_name").each(function(){if($(this).parent().parent().hasClass("ng-hide"));else{if(""==$(this).val())throw r.danger("Missing Attribute Name"),$(this).focus(),new Error("Missing Attribute Name");o.push($(this).val())}});var a=[];$(".attr_val").each(function(){if($(this).parent().parent().hasClass("ng-hide"));else{if(""==$(this).val())throw r.danger("Missing Attribute Value"),$(this).focus(),new Error("Missing Attribute Value");a.push($(this).val())}});var l=[];$(".attr_eval").each(function(){$(this).parent().parent().hasClass("ng-hide")||l.push($(this).val())});for(var c=0;c<o.length;c++){if(""==o[c])return void r.danger("Missing Attribute Name");if(""==a[c])return void r.danger("Missing Attribute Value");t+='{"attributeName":"'+o[c]+'","operator":"'+l[c]+'","attributeValue":["'+a[c]+'"],"connector":"AND"},'}return t+="]}",i.info(t),n({method:"POST",url:s.backendUrl("metadataQuery"),data:t,dataType:"json",params:{uniqueName:e.url_query_name.query_id,description:e.display_name}}).success(function(t){e.selectVirtualCollection(t.vcName,"")})},e.url_query_name=o.search(),e.get_query_params=function(t){return n({method:"GET",url:s.backendUrl("metadataQuery"),params:{uniqueName:t}}).success(function(t){e.query_vc=t;var i=e.query_vc.queryString;e.query_params=JSON.parse(i)}).error(function(e){$(".display_name").val("New Query"),$(".display_name").focus()})},e.get_query_params(e.url_query_name.query_id),e.remove_and_avu=function(){$(event.target).closest(".and_param").remove()},e.getCopyBreadcrumbPaths=function(){e.breadcrumb_popup_full_array=e.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),e.breadcrumb_popup_full_array.shift(),e.breadcrumb_popup_full_array_paths=[];for(var t="",i=0;i<e.breadcrumb_popup_full_array.length;i++)t=t+"/"+e.breadcrumb_popup_full_array[i],e.breadcrumb_popup_full_array_paths.push({b:e.breadcrumb_popup_full_array[i],path:t});e.breadcrumb_popup_full_array.length>5?e.breadcrumb_popup_compressed_array=e.breadcrumb_popup_full_array_paths.splice(0,e.breadcrumb_popup_full_array_paths.length-5):e.breadcrumb_popup_compressed_array=[]},e.set_path=function(t,i){var n=$(".copy_select_result").empty(),o=t;n.append(o),e.copy_target=i},e.copy_list_refresh=function(t,i){if(""==t)var o=e.copyVC.data.uniqueName;else var o=t;n({method:"GET",url:s.backendUrl("collection/")+o,params:{path:i,offset:0}}).then(function(t){e.copy_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("virtualCollection/")+o})}).then(function(t){e.copyVC=t,"COLLECTION"==e.copyVC.data.type&&e.getCopyBreadcrumbPaths()})},e.path_pop_up_open=function(){e.pop_up_form="path_picker",window.scrollTo(0,0),e.copyVC=e.selectedVc,$(".pop_up_window").fadeIn(100);var t=$(".copy_select_result").empty(),i=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents,o=i[i.length-1];e.name_of_selection=$(".ui-selected"),e.copy_target=e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,t.append(o),e.name_of_selection.each(function(){void 0!=$(this).attr("id")&&($(this).hasClass("data_true")?$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+$(this).attr("id")+"</div></li>"):$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+$(this).attr("id")+"</div></li>"))}),$(".path_picker").fadeIn(100),$(".path_picker_button").fadeIn(100),n({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(t){e.copy_vc_list=t}).then(function(){return n({method:"GET",url:s.backendUrl("collection/")+e.copyVC.data.uniqueName,params:{path:e.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,offset:0}})}).then(function(t){e.copy_list=t,e.getCopyBreadcrumbPaths()})},e.path_pick_action=function(){$(".search_path").val(e.copy_target),e.pop_up_close()},e.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".path_picker").fadeOut(100),$(".path_picker_button").fadeOut(100),e.pop_up_form=""})},e.goToBreadcrumb=function(e){return e?(o.path("/search/root"),void o.search("path",a.buildPathUpToIndex(e))):void i.error("cannot go to breadcrumb, no index")},e.listVirtualCollections(),e.selectProfile=function(e){i.info("going to Data Profile"),e||(i.error("missing irodsAbsolutePath"),r.danger("missing irodsAbsolutePath")),o.url("/profile/"),o.search("path",e)}}]);