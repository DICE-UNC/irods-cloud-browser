function uiCodemirrorDirective(t,e){function n(t,n,a,l){var c=angular.extend({value:n.text()},e.codemirror||{},t.$eval(a.uiCodemirror),t.$eval(a.uiCodemirrorOpts)),u=i(n,c);r(u,a.uiCodemirror||a.uiCodemirrorOpts,t),o(u,l,t),s(u,a.uiRefresh,t),t.$on("CodeMirror",function(t,e){if(!angular.isFunction(e))throw new Error("the CodeMirror event requires a callback function");e(u)}),angular.isFunction(c.onLoad)&&c.onLoad(u)}function i(t,e){var n;return"TEXTAREA"===t[0].tagName?n=window.CodeMirror.fromTextArea(t[0],e):(t.html(""),n=new window.CodeMirror(function(e){t.append(e)},e)),n}function r(t,e,n){function i(e,n){angular.isObject(e)&&r.forEach(function(i){if(e.hasOwnProperty(i)){if(n&&e[i]===n[i])return;t.setOption(i,e[i])}})}if(e){var r=Object.keys(window.CodeMirror.defaults);n.$watch(e,i,!0)}}function o(t,e,n){e&&(e.$formatters.push(function(t){if(angular.isUndefined(t)||null===t)return"";if(angular.isObject(t)||angular.isArray(t))throw new Error("ui-codemirror cannot use an object or an array as a model");return t}),e.$render=function(){var n=e.$viewValue||"";t.setValue(n)},t.on("change",function(t){var i=t.getValue();i!==e.$viewValue&&n.$evalAsync(function(){e.$setViewValue(i)})}))}function s(e,n,i){n&&i.$watch(n,function(n,i){n!==i&&t(function(){e.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return n}}}if(function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);(this||window).CodeMirror=t()}}(function(){"use strict";function t(n,i){if(!(this instanceof t))return new t(n,i);this.options=i=i?Hr(i):{},Hr(ts,i,!1),p(i);var r=i.value;"string"==typeof r&&(r=new Cs(r,i.mode,null,i.lineSeparator)),this.doc=r;var o=new t.inputStyles[i.inputStyle](this),s=this.display=new e(n,r,o);s.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Ao&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Er,keySeq:null,specialChars:null};var l=this;_o&&bo<11&&setTimeout(function(){l.display.input.reset(!0)},20),je(this),Kr(),be(this),this.curOp.forceUpdate=!0,Xi(this,r),i.autofocus&&!Ao||l.hasFocus()?setTimeout(Rr(vn,this),20):yn(this);for(var u in es)es.hasOwnProperty(u)&&es[u](this,i[u],ns);$(this),i.finishInit&&i.finishInit(this);for(var h=0;h<ss.length;++h)ss[h](this);$e(this),wo&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function e(t,e,n){var i=this;this.input=n,i.scrollbarFiller=jr("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=jr("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=jr("div",null,"CodeMirror-code"),i.selectionDiv=jr("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=jr("div",null,"CodeMirror-cursors"),i.measure=jr("div",null,"CodeMirror-measure"),i.lineMeasure=jr("div",null,"CodeMirror-measure"),i.lineSpace=jr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=jr("div",[jr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=jr("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=jr("div",null,null,"position: absolute; height: "+Ns+"px; width: 1px;"),i.gutters=jr("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=jr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=jr("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),_o&&bo<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),wo||go&&Ao||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),i(e)}function i(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,zt(t,100),t.state.modeGen++,t.curOp&&Ne(t)}function r(t){t.options.lineWrapping?(Js(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Qs(t.display.wrapper,"CodeMirror-wrap"),d(t)),s(t),Ne(t),ae(t),setTimeout(function(){y(t)},100)}function o(t){var e=ye(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/_e(t.display)-3);return function(r){if($i(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function s(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&tr(t,e)})}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ae(t)}function l(t){c(t),Ne(t),setTimeout(function(){w(t)},20)}function c(t){var e=t.display.gutters,n=t.options.gutters;qr(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(jr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",u(t)}function u(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function h(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=mi(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=gi(i);){var r=e.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function d(t){var e=t.display,n=t.doc;e.maxLine=Qi(n,n.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=h(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function p(t){var e=Ir(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function f(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Bt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Vt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function m(t,e,n){this.cm=n;var i=this.vert=jr("div",[jr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=jr("div",[jr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(r),Es(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),Es(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,_o&&bo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Qs(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Es(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?on(e,t):rn(e,t)},e),e.display.scrollbars.addClass&&Js(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=f(t));var n=t.display.barWidth,i=t.display.barHeight;_(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&P(t),_(t,f(t)),n=t.display.barWidth,i=t.display.barHeight}function _(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function b(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-qt(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=nr(e,i),s=nr(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=nr(e,ir(Qi(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=nr(e,ir(Qi(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function w(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=C(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function $(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=x(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(jr("div",[jr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(t),!0}return!1}function x(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function C(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function k(t,e,n){var i=t.display;this.viewport=e,this.visible=b(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Yt(t),this.force=n,this.dims=I(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Vt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Vt(t)+"px",e.scrollbarsClipped=!0)}function S(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return He(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Fe(t))return!1;$(t)&&(He(t),e.dims=I(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Ho&&(o=bi(t.doc,o),s=wi(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;We(t,o,s),n.viewOffset=ir(Qi(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=Fe(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Ur();return l>4&&(n.lineDiv.style.display="none"),O(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Ur()!=c&&c.offsetHeight&&c.focus(),qr(n.cursorDiv),qr(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,zt(t,400)),n.updateLineNumbers=null,!0}function D(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Yt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Bt(t.display)-Gt(t),n.top)}),e.visible=b(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&S(t,e);i=!1){P(t);var r=f(t);Ot(t),y(t,r),E(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function A(t,e){var n=new k(t,e);if(S(t,n)){P(t),D(t,n);var i=f(t);Ot(t),y(t,i),E(t,i),n.finish()}}function E(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Vt(t)+"px"}function P(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r,o=e.view[i];if(!o.hidden){if(_o&&bo<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(r<2&&(r=ye(e)),(l>.001||l<-.001)&&(tr(o.line,r),M(o.line),o.rest))for(var c=0;c<o.rest.length;c++)M(o.rest[c])}}}function M(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function I(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[t.options.gutters[s]]=o.clientWidth;return{fixedPos:C(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function O(t,e,n){function i(e){var n=e.nextSibling;return wo&&Eo&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var r=t.display,o=t.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=i(a);var d=o&&null!=e&&e<=c&&h.lineNumber;h.changes&&(Ir(h.changes,"gutter")>-1&&(d=!1),N(t,h,c,n)),d&&(qr(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(x(t.options,c)))),a=h.node.nextSibling}else{var p=q(t,h,c,n);s.insertBefore(p,a)}c+=h.size}for(;a;)a=i(a)}function N(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?z(t,e):"gutter"==o?F(t,e,n,i):"class"==o?W(e):"widget"==o&&j(t,e,i)}e.changes=null}function L(t){return t.node==t.text&&(t.node=jr("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),_o&&bo<8&&(t.node.style.zIndex=2)),t.node}function H(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=L(t);t.background=n.insertBefore(jr("div",null,e),n.firstChild)}}function R(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Ri(t,e)}function z(t,e){var n=e.text.className,i=R(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,W(e)):n&&(e.text.className=n)}function W(t){H(t),t.line.wrapClass?L(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function F(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=L(e);e.gutterBackground=jr("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var r=L(e),s=e.gutter=jr("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),r.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(jr("div",x(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(jr("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function j(t,e,n){e.alignable&&(e.alignable=null);for(var i,r=e.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}B(t,e,n)}function q(t,e,n,i){var r=R(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),W(e),F(t,e,n,i),B(t,e,i),e.node}function B(t,e,n){if(U(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)U(t,e.rest[i],e,n,!1)}function U(t,e,n,i,r){if(e.widgets)for(var o=L(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=jr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),V(l,c,n,i),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),Cr(l,"redraw")}}function V(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function Y(t){return Ro(t.line,t.ch)}function G(t,e){return zo(t,e)<0?e:t}function K(t,e){return zo(t,e)<0?t:e}function X(t){t.state.focused||(t.display.input.focus(),vn(t))}function Q(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=o.splitLines(e),l=null;if(s&&i.ranges.length>1)if(Wo&&Wo.text.join("\n")==e){if(i.ranges.length%Wo.text.length==0){l=[];for(var c=0;c<Wo.text.length;c++)l.push(o.splitLines(Wo.text[c]))}}else a.length==i.ranges.length&&(l=Or(a,function(t){return[t]}));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],h=u.from(),d=u.to();u.empty()&&(n&&n>0?h=Ro(h.line,h.ch-n):t.state.overwrite&&!s?d=Ro(d.line,Math.min(Qi(o,d.line).text.length,d.ch+Mr(a).length)):Wo&&Wo.lineWise&&Wo.text.join("\n")==e&&(h=d=Ro(h.line,0)));var p=t.curOp.updateInput,f={from:h,to:d,text:l?l[c%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};Tn(t.doc,f),Cr(t,"inputRead",t,f)}e&&!s&&Z(t,e),Rn(t),t.curOp.updateInput=p,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function J(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ae(e,function(){Q(e,n,0,null,"paste")}),!0}function Z(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Wn(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qi(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Wn(t,r.head.line,"smart"));s&&Cr(t,"electricInput",t,r.head.line)}}}function tt(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:Ro(r,0),head:Ro(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Er,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var t=jr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=jr("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wo?t.style.width="1000px":t.setAttribute("wrap","off"),Do&&(t.style.border="1px solid black"),et(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Er,this.gracePeriod=!1}function ot(t,e){var n=Zt(t,e.line);if(!n||n.hidden)return null;var i=Qi(t.doc,e.line),r=Xt(n,i,e.line),o=rr(i),s="left";if(o){var a=co(o,e.ch);s=a%2?"right":"left"}var l=ne(r.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function st(t,e){return e&&(t.bad=!0),t}function at(t,e,n){var i;if(e==t.display.lineDiv){if(i=t.display.lineDiv.childNodes[n],!i)return st(t.clipPos(Ro(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return lt(o,e,n)}}function lt(t,e,n){function i(e,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var l=er(r<0?t.line:t.rest[r]),h=o[s]+i;return(i<0||a!=e)&&(h=o[s+(i?1:0)]),Ro(l,h)}}}var r=t.text.firstChild,o=!1;if(!e||!Gs(r,e))return st(Ro(er(t.line),0),!0);if(e==r&&(o=!0,e=r.childNodes[n],n=0,!e)){var s=t.rest?Mr(t.rest):t.line;return st(Ro(er(s),s.text.length),o)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=t.measure,u=c.maps,h=i(a,l,n);if(h)return st(h,o);for(var d=l.nextSibling,p=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(h=i(d,d.firstChild,0))return st(Ro(h.line,h.ch-p),o);p+=d.textContent.length}for(var f=l.previousSibling,p=n;f;f=f.previousSibling){if(h=i(f,f.firstChild,-1))return st(Ro(h.line,h.ch+p),o);p+=d.textContent.length}}function ct(t,e,n,i,r){function o(t){return function(e){return e.id==t}}function s(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(a+=n);var u,h=e.getAttribute("cm-marker");if(h){var d=t.findMarks(Ro(i,0),Ro(r+1,0),o(+h));return void(d.length&&(u=d[0].find())&&(a+=Ji(t.doc,u.from,u.to).join(c)))}if("false"==e.getAttribute("contenteditable"))return;for(var p=0;p<e.childNodes.length;p++)s(e.childNodes[p]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var f=e.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=t.doc.lineSeparator();s(e),e!=n;)e=e.nextSibling;return a}function ut(t,e){this.ranges=t,this.primIndex=e}function ht(t,e){this.anchor=t,this.head=e}function dt(t,e){var n=t[e];t.sort(function(t,e){return zo(t.from(),e.from())}),e=Ir(t,n);for(var i=1;i<t.length;i++){var r=t[i],o=t[i-1];if(zo(o.to(),r.from())>=0){var s=K(o.from(),r.from()),a=G(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=e&&--e,t.splice(--i,2,new ht(l?a:s,l?s:a))}}return new ut(t,e)}function pt(t,e){return new ut([new ht(t,e||t)],0)}function ft(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function mt(t,e){if(e.line<t.first)return Ro(t.first,0);var n=t.first+t.size-1;return e.line>n?Ro(n,Qi(t,n).text.length):gt(e,Qi(t,e.line).text.length)}function gt(t,e){var n=t.ch;return null==n||n>e?Ro(t.line,e):n<0?Ro(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function yt(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=mt(t,e[i]);return n}function _t(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(i){var o=zo(n,r)<0;o!=zo(i,r)<0?(r=n,n=i):o!=zo(n,i)<0&&(n=i)}return new ht(r,n)}return new ht(i||n,n)}function bt(t,e,n,i){Tt(t,new ut([_t(t,t.sel.primary(),e,n)],0),i)}function wt(t,e,n){for(var i=[],r=0;r<t.sel.ranges.length;r++)i[r]=_t(t,t.sel.ranges[r],e[r],null);var o=dt(i,t.sel.primIndex);Tt(t,o,n)}function $t(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Tt(t,dt(r,t.sel.primIndex),i)}function xt(t,e,n,i){Tt(t,pt(e,n),i)}function Ct(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new ht(mt(t,e[n].anchor),mt(t,e[n].head))},origin:n&&n.origin};return Is(t,"beforeSelectionChange",t,i),t.cm&&Is(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?dt(i.ranges,i.ranges.length-1):e}function kt(t,e,n){var i=t.history.done,r=Mr(i);r&&r.ranges?(i[i.length-1]=e,St(t,e,n)):Tt(t,e,n)}function Tt(t,e,n){St(t,e,n),hr(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function St(t,e,n){(Dr(t,"beforeSelectionChange")||t.cm&&Dr(t.cm,"beforeSelectionChange"))&&(e=Ct(t,e,n));var i=n&&n.bias||(zo(e.primary().head,t.sel.primary().head)<0?-1:1);Dt(t,Et(t,e,i,!0)),n&&n.scroll===!1||!t.cm||Rn(t.cm)}function Dt(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Sr(t.cm)),Cr(t,"cursorActivity",t))}function At(t){Dt(t,Et(t,t.sel,null,!1),Hs)}function Et(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Mt(t,s.anchor,a&&a.anchor,n,i),c=Mt(t,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new ht(l,c))}return r?dt(r,e.primIndex):e}function Pt(t,e,n,i,r){var o=Qi(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Is(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=It(t,u,-i,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=zo(u,n))&&(i<0?c<0:c>0))return Pt(t,u,e,i,r)}var h=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(h=It(t,h,i,h.line==e.line?o:null)),h?Pt(t,h,e,i,r):null}}return e}function Mt(t,e,n,i,r){var o=i||1,s=Pt(t,e,n,o,r)||!r&&Pt(t,e,n,o,!0)||Pt(t,e,n,-o,r)||!r&&Pt(t,e,n,-o,!0);return s?s:(t.cantEdit=!0,Ro(t.first,0))}function It(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?mt(t,Ro(e.line-1)):null:n>0&&e.ch==(i||Qi(t,e.line)).text.length?e.line<t.first+t.size-1?Ro(e.line+1,0):null:new Ro(e.line,e.ch+n)}function Ot(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Nt(t,e){for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(e!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Lt(t,a.head,r),l||Ht(t,a,o)}}return i}function Lt(t,e,n){var i=pe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(jr("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(jr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ht(t,e,n){function i(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),a.appendChild(jr("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?u-t:n)+"px; height: "+(i-e)+"px"))}function r(e,n,r){function o(n,i){return de(t,Ro(e,n),"div",h,i)}var a,l,h=Qi(s,e),d=h.text.length;return to(rr(h),n||0,null==r?d:r,function(t,e,s){var h,p,f,m=o(t,"left");if(t==e)h=m,p=f=m.left;else{if(h=o(e-1,"right"),"rtl"==s){var g=m;m=h,h=g}p=m.left,f=h.right}null==n&&0==t&&(p=c),h.top-m.top>3&&(i(p,m.top,null,m.bottom),p=c,m.bottom<h.top&&i(p,m.bottom,null,h.top)),null==r&&e==d&&(f=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),p<c+1&&(p=c),i(p,h.top,f-p,h.bottom)}),{start:a,end:l}}var o=t.display,s=t.doc,a=document.createDocumentFragment(),l=Ut(t.display),c=l.left,u=Math.max(o.sizerWidth,Yt(t)-o.sizer.offsetLeft)-l.right,h=e.from(),d=e.to();if(h.line==d.line)r(h.line,h.ch,d.ch);else{var p=Qi(s,h.line),f=Qi(s,d.line),m=yi(p)==yi(f),g=r(h.line,h.ch,m?p.text.length+1:null).end,v=r(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(c,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(c,g.bottom,null,v.top)}n.appendChild(a)}function Rt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function zt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Rr(Wt,t))}function Wt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=ls(e.mode,jt(t,e.frontier)),r=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength,l=Oi(t,o,a?ls(e.mode,i):i,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=o.styles[d];h&&r.push(e.frontier),o.stateAfter=a?i:ls(e.mode,i)}else o.text.length<=t.options.maxHighlightLength&&Li(t,o.text,i),o.stateAfter=e.frontier%5==0?ls(e.mode,i):null;if(++e.frontier,+new Date>n)return zt(t,t.options.workDelay),!0}),r.length&&Ae(t,function(){for(var e=0;e<r.length;e++)Le(t,r[e],"text")})}}function Ft(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Qi(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=Ws(l.text,null,t.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function jt(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return!0;var o=Ft(t,e,n),s=o>i.first&&Qi(i,o-1).stateAfter;return s=s?ls(i.mode,s):cs(i.mode),i.iter(o,e,function(n){Li(t,n.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?ls(i.mode,s):null,++o}),n&&(i.frontier=o),s}function qt(t){return t.lineSpace.offsetTop}function Bt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ut(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Br(t.measure,jr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Vt(t){return Ns-t.display.nativeBarWidth}function Yt(t){return t.display.scroller.clientWidth-Vt(t)-t.display.barWidth}function Gt(t){return t.display.scroller.clientHeight-Vt(t)-t.display.barHeight}function Kt(t,e,n){var i=t.options.lineWrapping,r=i&&Yt(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];
Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var i=0;i<t.rest.length;i++)if(er(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Qt(t,e){e=yi(e);var n=er(e),i=t.display.externalMeasured=new Ie(t.doc,e,n);i.lineN=n;var r=i.built=Ri(t,i);return i.text=r.pre,Br(t.display.lineMeasure,r.pre),i}function Jt(t,e,n,i){return ee(t,te(t,e),n,i)}function Zt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Re(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=er(e),i=Zt(t,n);i&&!i.text?i=null:i&&i.changes&&(N(t,i,n,I(t)),t.curOp.forceUpdate=!0),i||(i=Qt(t,e));var r=Xt(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ee(t,e,n,i,r){e.before&&(n=-1);var o,s=n+(i||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kt(t,e.view,e.rect),e.hasHeights=!0),o=ie(t,e,n,i),o.bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function ne(t,e,n){for(var i,r,o,s,a=0;a<t.length;a+=3){var l=t[a],c=t[a+1];if(e<l?(r=0,o=1,s="left"):e<c?(r=e-l,o=r+1):(a==t.length-3||e==c&&t[a+3]>e)&&(o=c-l,r=o-1,e>=c&&(s="right")),null!=r){if(i=t[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)i=t[(a-=3)+2],s="left";if("right"==n&&r==c-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)i=t[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function ie(t,e,n,i){var r,o=ne(e.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&Fr(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Fr(e.line.text.charAt(o.coverStart+l));)++l;if(_o&&bo<9&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(_o&&t.options.lineWrapping){var h=Bs(s,a,l).getClientRects();r=h.length?h["right"==i?h.length-1:0]:Bo}else r=Bs(s,a,l).getBoundingClientRect()||Bo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}_o&&bo<11&&(r=re(t.display.measure,r))}else{a>0&&(c=i="right");var h;r=t.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==i?h.length-1:0]:s.getBoundingClientRect()}if(_o&&bo<9&&!a&&(!r||!r.left&&!r.right)){var d=s.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+_e(t.display),top:d.top,bottom:d.bottom}:Bo}for(var p=r.top-e.rect.top,f=r.bottom-e.rect.top,m=(p+f)/2,g=e.view.measure.heights,u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,y=g[u],_={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:v,bottom:y};return r.left||r.right||(_.bogus=!0),t.options.singleCursorHeightPerLine||(_.rtop=p,_.rbottom=f),_}function re(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Zr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function oe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function se(t){t.display.externalMeasure=null,qr(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)oe(t.display.view[e])}function ae(t){se(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ce(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ue(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=ki(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=ir(e);if("local"==i?s+=qt(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:ce());var l=a.left+("window"==i?0:le());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function he(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=le(),r-=ce();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function de(t,e,n,i,r){return i||(i=Qi(t.doc,e.line)),ue(t,i,Jt(t,i,e.ch,r),n)}function pe(t,e,n,i,r,o){function s(e,s){var a=ee(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ue(t,i,a,n)}function a(t,e){var n=l[e],i=n.level%2;return t==eo(n)&&e&&n.level<l[e-1].level?(n=l[--e],t=no(n)-(n.level%2?0:1),i=!0):t==no(n)&&e<l.length-1&&n.level<l[e+1].level&&(n=l[++e],t=eo(n)-n.level%2,i=!1),i&&t==n.to&&t>n.from?s(t-1):s(t,i)}i=i||Qi(t.doc,e.line),r||(r=te(t,i));var l=rr(i),c=e.ch;if(!l)return s(c);var u=co(l,c),h=a(c,u);return null!=sa&&(h.other=a(c,sa)),h}function fe(t,e){var n=0,e=mt(t.doc,e);t.options.lineWrapping||(n=_e(t.display)*e.ch);var i=Qi(t.doc,e.line),r=ir(i)+qt(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function me(t,e,n,i){var r=Ro(t,e);return r.xRel=i,n&&(r.outside=!0),r}function ge(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,n<0)return me(i.first,0,!0,-1);var r=nr(i,n),o=i.first+i.size-1;if(r>o)return me(i.first+i.size-1,Qi(i,o).text.length,!0,1);e<0&&(e=0);for(var s=Qi(i,r);;){var a=ve(t,s,r,e,n),l=gi(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=er(s=c.to.line)}}function ve(t,e,n,i,r){function o(i){var r=pe(t,Ro(n,i),"line",e,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-ir(e),a=!1,l=2*t.display.wrapper.clientWidth,c=te(t,e),u=rr(e),h=e.text.length,d=io(e),p=ro(e),f=o(d),m=a,g=o(p),v=a;if(i>g)return me(n,p,v,1);for(;;){if(u?p==d||p==ho(e,d,1):p-d<=1){var y=i<f||i-f<=g-i?d:p,_=y==d?m:v,b=i-(y==d?f:g);if(v&&!u&&!/\s/.test(e.text.charAt(y))&&b>0&&y<e.text.length&&c.view.measure.heights.length>1){var w=ee(t,c,y,"right");s<=w.bottom&&s>=w.top&&Math.abs(i-w.right)<b&&(_=!1,y++,b=i-w.right)}for(;Fr(e.text.charAt(y));)++y;var $=me(n,y,_,b<-1?-1:b>1?1:0);return $}var x=Math.ceil(h/2),C=d+x;if(u){C=d;for(var k=0;k<x;++k)C=ho(e,C,1)}var T=o(C);T>i?(p=C,g=T,(v=a)&&(g+=1e3),h=x):(d=C,f=T,m=a,h-=x)}}function ye(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Fo){Fo=jr("pre");for(var e=0;e<49;++e)Fo.appendChild(document.createTextNode("x")),Fo.appendChild(jr("br"));Fo.appendChild(document.createTextNode("x"))}Br(t.measure,Fo);var n=Fo.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),qr(t.measure),n||1}function _e(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=jr("span","xxxxxxxxxx"),n=jr("pre",[e]);Br(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function be(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vo},Uo?Uo.ops.push(t.curOp):t.curOp.ownsGroup=Uo={ops:[t.curOp],delayedCallbacks:[]}}function we(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function $e(t){var e=t.curOp,n=e.ownsGroup;if(n)try{we(n)}finally{Uo=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;xe(n)}}function xe(t){for(var e=t.ops,n=0;n<e.length;n++)Ce(e[n]);for(var n=0;n<e.length;n++)ke(e[n]);for(var n=0;n<e.length;n++)Te(e[n]);for(var n=0;n<e.length;n++)Se(e[n]);for(var n=0;n<e.length;n++)De(e[n])}function Ce(t){var e=t.cm,n=e.display;T(e),t.updateMaxLine&&d(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new k(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ke(t){t.updatedDisplay=t.mustUpdate&&S(t.cm,t.update)}function Te(t){var e=t.cm,n=e.display;t.updatedDisplay&&P(e),t.barMeasure=f(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Jt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Vt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Yt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection(t.focus))}function Se(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&on(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==Ur()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.updatedDisplay&&E(e,t.barMeasure),t.selectionChanged&&Rt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&X(t.cm)}function De(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&D(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,w(e)),t.scrollToPos){var r=On(e,mt(i,t.scrollToPos.from),mt(i,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&In(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Is(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Is(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Is(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ae(t,e){if(t.curOp)return e();be(t);try{return e()}finally{$e(t)}}function Ee(t,e){return function(){if(t.curOp)return e.apply(t,arguments);be(t);try{return e.apply(t,arguments)}finally{$e(t)}}}function Pe(t){return function(){if(this.curOp)return t.apply(this,arguments);be(this);try{return t.apply(this,arguments)}finally{$e(this)}}}function Me(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);be(e);try{return t.apply(this,arguments)}finally{$e(e)}}}function Ie(t,e,n){this.line=e,this.rest=_i(e),this.size=this.rest?er(Mr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=$i(t,e)}function Oe(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new Ie(t.doc,Qi(t.doc,o),o);i=o+s.size,r.push(s)}return r}function Ne(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ho&&bi(t.doc,e)<r.viewTo&&He(t);else if(n<=r.viewFrom)Ho&&wi(t.doc,n+i)>r.viewFrom?He(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)He(t);else if(e<=r.viewFrom){var o=ze(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):He(t)}else if(n>=r.viewTo){var o=ze(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):He(t)}else{var s=ze(t,e,e,-1),a=ze(t,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Oe(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):He(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function Le(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[Re(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);Ir(s,n)==-1&&s.push(n)}}}function He(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Re(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,e<0)return i}function ze(t,e,n,i){var r,o=Re(t,e),s=t.display.view;if(!Ho||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=0,l=t.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=e){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,n+=r}for(;bi(t.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function We(t,e,n){var i=t.display,r=i.view;0==r.length||e>=i.viewTo||n<=i.viewFrom?(i.view=Oe(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=Oe(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(Re(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(Oe(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Re(t,n)))),i.viewTo=n}function Fe(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function je(t){function e(){r.activeTouch&&(o=setTimeout(function(){r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function i(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}var r=t.display;Es(r.scroller,"mousedown",Ee(t,Ye)),_o&&bo<11?Es(r.scroller,"dblclick",Ee(t,function(e){if(!Tr(t,e)){var n=Ve(t,e);if(n&&!Je(t,e)&&!Ue(t.display,e)){Ss(e);var i=t.findWordAt(n);bt(t.doc,i.anchor,i.head)}}})):Es(r.scroller,"dblclick",function(e){Tr(t,e)||Ss(e)}),No||Es(r.scroller,"contextmenu",function(e){_n(t,e)});var o,s={end:0};Es(r.scroller,"touchstart",function(e){if(!Tr(t,e)&&!n(e)){clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Es(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Es(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!Ue(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=t.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new ht(a,a):!o.prev.prev||i(o,o.prev.prev)?t.findWordAt(a):new ht(Ro(a.line,0),mt(t.doc,Ro(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),Ss(n)}e()}),Es(r.scroller,"touchcancel",e),Es(r.scroller,"scroll",function(){r.scroller.clientHeight&&(rn(t,r.scroller.scrollTop),on(t,r.scroller.scrollLeft,!0),Is(t,"scroll",t))}),Es(r.scroller,"mousewheel",function(e){sn(t,e)}),Es(r.scroller,"DOMMouseScroll",function(e){sn(t,e)}),Es(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){Tr(t,e)||As(e)},over:function(e){Tr(t,e)||(en(t,e),As(e))},start:function(e){tn(t,e)},drop:Ee(t,Ze),leave:function(e){Tr(t,e)||nn(t)}};var a=r.input.getField();Es(a,"keyup",function(e){fn.call(t,e)}),Es(a,"keydown",Ee(t,dn)),Es(a,"keypress",Ee(t,mn)),Es(a,"focus",Rr(vn,t)),Es(a,"blur",Rr(yn,t))}function qe(e,n,i){var r=i&&i!=t.Init;if(!n!=!r){var o=e.display.dragFunctions,s=n?Es:Ms;s(e.display.scroller,"dragstart",o.start),s(e.display.scroller,"dragenter",o.enter),s(e.display.scroller,"dragover",o.over),s(e.display.scroller,"dragleave",o.leave),s(e.display.scroller,"drop",o.drop)}}function Be(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ue(t,e){for(var n=wr(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Ve(t,e,n,i){var r=t.display;if(!n&&"true"==wr(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=ge(t,o,s);if(i&&1==c.xRel&&(l=Qi(t.doc,c.line).text).length==c.ch){var u=Ws(l,l.length,t.options.tabSize)-l.length;c=Ro(c.line,Math.max(0,Math.round((o-Ut(t.display).left)/_e(t.display))-u))}return c}function Ye(t){var e=this,n=e.display;if(!(Tr(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=t.shiftKey,Ue(n,t))return void(wo||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Je(e,t)){var i=Ve(e,t);switch(window.focus(),$r(t)){case 1:e.state.selectingText?e.state.selectingText(t):i?Ge(e,t,i):wr(t)==n.scroller&&Ss(t);break;case 2:wo&&(e.state.lastMiddleDown=+new Date),i&&bt(e.doc,i),setTimeout(function(){n.input.focus()},20),Ss(t);break;case 3:No?_n(e,t):gn(e)}}}}function Ge(t,e,n){_o?setTimeout(Rr(X,t),0):t.curOp.focus=Ur();var i,r=+new Date;qo&&qo.time>r-400&&0==zo(qo.pos,n)?i="triple":jo&&jo.time>r-400&&0==zo(jo.pos,n)?(i="double",qo={time:r,pos:n}):(i="single",jo={time:r,pos:n});var o,s=t.doc.sel,a=Eo?e.metaKey:e.ctrlKey;t.options.dragDrop&&ta&&!t.isReadOnly()&&"single"==i&&(o=s.contains(n))>-1&&(zo((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(zo(o.to(),n)>0||n.xRel<0)?Ke(t,e,n,a):Xe(t,e,n,i,a)}function Ke(t,e,n,i){var r=t.display,o=+new Date,s=Ee(t,function(a){wo&&(r.scroller.draggable=!1),t.state.draggingText=!1,Ms(document,"mouseup",s),Ms(r.scroller,"drop",s),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(Ss(a),!i&&+new Date-200<o&&bt(t.doc,n),wo||_o&&9==bo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});wo&&(r.scroller.draggable=!0),t.state.draggingText=s,s.copy=Eo?e.altKey:e.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Es(document,"mouseup",s),Es(r.scroller,"drop",s)}function Xe(t,e,n,i,r){function o(e){if(0!=zo(g,e))if(g=e,"rect"==i){for(var r=[],o=t.options.tabSize,s=Ws(Qi(c,n.line).text,n.ch,o),a=Ws(Qi(c,e.line).text,e.ch,o),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));f<=m;f++){var v=Qi(c,f).text,y=Fs(v,l,o);l==p?r.push(new ht(Ro(f,y),Ro(f,y))):v.length>y&&r.push(new ht(Ro(f,y),Ro(f,Fs(v,p,o))))}r.length||r.push(new ht(n,n)),Tt(c,dt(d.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var _=u,b=_.anchor,w=e;if("single"!=i){if("double"==i)var $=t.findWordAt(e);else var $=new ht(Ro(e.line,0),mt(c,Ro(e.line+1,0)));zo($.anchor,b)>0?(w=$.head,b=K(_.from(),$.anchor)):(w=$.anchor,b=G(_.to(),$.head))}var r=d.ranges.slice(0);r[h]=new ht(mt(c,b),w),Tt(c,dt(r,h),Rs)}}function s(e){var n=++y,r=Ve(t,e,!0,"rect"==i);if(r)if(0!=zo(r,g)){t.curOp.focus=Ur(),o(r);var a=b(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Ee(t,function(){y==n&&s(e)}),150)}else{var u=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;u&&setTimeout(Ee(t,function(){y==n&&(l.scroller.scrollTop+=u,s(e))}),50)}}function a(e){t.state.selectingText=!1,y=1/0,Ss(e),l.input.focus(),Ms(document,"mousemove",_),Ms(document,"mouseup",w),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;Ss(e);var u,h,d=c.sel,p=d.ranges;if(r&&!e.shiftKey?(h=c.sel.contains(n),u=h>-1?p[h]:new ht(n,n)):(u=c.sel.primary(),h=c.sel.primIndex),Po?e.shiftKey&&e.metaKey:e.altKey)i="rect",r||(u=new ht(n,n)),n=Ve(t,e,!0,!0),h=-1;else if("double"==i){var f=t.findWordAt(n);u=t.display.shift||c.extend?_t(c,u,f.anchor,f.head):f}else if("triple"==i){var m=new ht(Ro(n.line,0),mt(c,Ro(n.line+1,0)));u=t.display.shift||c.extend?_t(c,u,m.anchor,m.head):m}else u=_t(c,u,n);r?h==-1?(h=p.length,Tt(c,dt(p.concat([u]),h),{scroll:!1,origin:"*mouse"})):p.length>1&&p[h].empty()&&"single"==i&&!e.shiftKey?(Tt(c,dt(p.slice(0,h).concat(p.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),d=c.sel):$t(c,h,u,Rs):(h=0,Tt(c,new ut([u],0),Rs),d=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),y=0,_=Ee(t,function(t){$r(t)?s(t):a(t)}),w=Ee(t,a);t.state.selectingText=w,Es(document,"mousemove",_),Es(document,"mouseup",w)}function Qe(t,e,n,i){try{var r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ss(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Dr(t,n))return br(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=nr(t.doc,o),h=t.options.gutters[l];return Is(t,n,t,u,h,e),br(e)}}}function Je(t,e){return Qe(t,e,"gutterClick",!0)}function Ze(t){var e=this;if(nn(e),!Tr(e,t)&&!Ue(e.display,t)){Ss(t),_o&&(Yo=+new Date);var n=Ve(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(t,i){if(!e.options.allowDropFileTypes||Ir(e.options.allowDropFileTypes,t.type)!=-1){var a=new FileReader;a.onload=Ee(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[i]=t,++s==r){n=mt(e.doc,n);var l={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Tn(e.doc,l),kt(e.doc,pt(n,Zo(l)))}}),a.readAsText(t)}},l=0;l<r;++l)a(i[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!e.state.draggingText.copy)var c=e.listSelections();if(St(e.doc,pt(n,n)),c)for(var l=0;l<c.length;++l)Mn(e.doc,"",c[l].anchor,c[l].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function tn(t,e){if(_o&&(!t.state.draggingText||+new Date-Yo<100))return void As(e);if(!Tr(t,e)&&!Ue(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!ko)){var n=jr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Co&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Co&&n.parentNode.removeChild(n)}}function en(t,e){var n=Ve(t,e);if(n){var i=document.createDocumentFragment();Lt(t,n,i),t.display.dragCursor||(t.display.dragCursor=jr("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Br(t.display.dragCursor,i)}}function nn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,go||A(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),go&&A(t),zt(t,100))}function on(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,w(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function sn(t,e){var n=Xo(e),i=n.x,r=n.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&Eo&&wo)t:for(var c=e.target,u=o.view;c!=s;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){t.display.currentWheelTarget=c;break t}if(i&&!go&&!Co&&null!=Ko)return r&&l&&rn(t,Math.max(0,Math.min(s.scrollTop+r*Ko,s.scrollHeight-s.clientHeight))),on(t,Math.max(0,Math.min(s.scrollLeft+i*Ko,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ss(e),void(o.wheelStartX=null);if(r&&null!=Ko){var d=r*Ko,p=t.doc.scrollTop,f=p+o.wrapper.clientHeight;d<0?p=Math.max(0,p+d-50):f=Math.min(t.doc.height,f+d+50),A(t,{top:p,bottom:f})}Go<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ko=(Ko*Go+n)/(Go+1),++Go)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function an(t,e,n){if("string"==typeof e&&(e=us[e],!e))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Ls}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function ln(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=ds(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&ds(e,t.options.extraKeys,n,t)||ds(e,t.options.keyMap,n,t)}function cn(t,e,n,i){var r=t.state.keySeq;if(r){if(ps(e))return"handled";Qo.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=ln(t,e,i);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Cr(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(Ss(n),Rt(t)),r&&!o&&/\'$/.test(e)?(Ss(n),!0):!!o}function un(t,e){var n=fs(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?cn(t,"Shift-"+n,e,function(e){return an(t,e,!0)})||cn(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return an(t,e)}):cn(t,n,e,function(e){return an(t,e)}))}function hn(t,e,n){return cn(t,"'"+n+"'",e,function(e){return an(t,e,!0)})}function dn(t){var e=this;if(e.curOp.focus=Ur(),!Tr(e,t)){_o&&bo<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=un(e,t);Co&&(Jo=i?n:null,!i&&88==n&&!ia&&(Eo?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||pn(e)}}function pn(t){function e(t){18!=t.keyCode&&t.altKey||(Qs(n,"CodeMirror-crosshair"),Ms(document,"keyup",e),Ms(document,"mouseover",e))}var n=t.display.lineDiv;Js(n,"CodeMirror-crosshair"),Es(document,"keyup",e),Es(document,"mouseover",e)}function fn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Tr(this,t)}function mn(t){var e=this;if(!(Ue(e.display,t)||Tr(e,t)||t.ctrlKey&&!t.altKey||Eo&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(Co&&n==Jo)return Jo=null,void Ss(t);if(!Co||t.which&&!(t.which<10)||!un(e,t)){var r=String.fromCharCode(null==i?n:i);hn(e,t,r)||e.display.input.onKeyPress(t)}}}function gn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,yn(t))},100)}function vn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Is(t,"focus",t),t.state.focused=!0,Js(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),wo&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Rt(t))}function yn(t){t.state.delayingBlurEvent||(t.state.focused&&(Is(t,"blur",t),t.state.focused=!1,Qs(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function _n(t,e){Ue(t.display,e)||bn(t,e)||Tr(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function bn(t,e){return!!Dr(t,"gutterContextMenu")&&Qe(t,e,"gutterContextMenu",!1)}function wn(t,e){if(zo(t,e.from)<0)return t;if(zo(t,e.to)<=0)return Zo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Zo(e).ch-e.to.ch),Ro(n,i)}function $n(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new ht(wn(r.anchor,e),wn(r.head,e)))}return dt(n,t.sel.primIndex)}function xn(t,e,n){return t.line==e.line?Ro(n.line,t.ch-e.ch+n.ch):Ro(n.line+(t.line-e.line),t.ch)}function Cn(t,e,n){for(var i=[],r=Ro(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=xn(a.from,r,o),c=xn(Zo(a),r,o);if(r=a.to,o=c,"around"==n){var u=t.sel.ranges[s],h=zo(u.head,u.anchor)<0;i[s]=new ht(h?c:l,h?l:c)}else i[s]=new ht(l,l)}return new ut(i,t.sel.primIndex)}function kn(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(e,n,i,r){e&&(this.from=mt(t,e)),n&&(this.to=mt(t,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Is(t,"beforeChange",t,i),t.cm&&Is(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Tn(t,e,n){if(t.cm){if(!t.cm.curOp)return Ee(t.cm,Tn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Dr(t,"beforeChange")||t.cm&&Dr(t.cm,"beforeChange"))||(e=kn(t,e,!0))){var i=Lo&&!n&&li(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)Sn(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text});else Sn(t,e)}}function Sn(t,e){if(1!=e.text.length||""!=e.text[0]||0!=zo(e.from,e.to)){var n=$n(t,e);cr(t,e,n,t.cm?t.cm.curOp.id:NaN),En(t,e,n,oi(t,e));var i=[];Ki(t,function(t,n){n||Ir(i,t.history)!=-1||(_r(t.history,e),i.push(t.history)),En(t,e,null,oi(t,e))})}}function Dn(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(dr(i,a),n&&!i.equals(t.sel))return void Tt(t,i,{clearRedo:!1});o=i}var c=[];dr(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Dr(t,"beforeChange")||t.cm&&Dr(t.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var h=i.changes[l];if(h.origin=e,u&&!kn(t,h,!1))return void(s.length=0);c.push(sr(t,h));var d=l?$n(t,h):Mr(s);En(t,h,d,ai(t,h)),!l&&t.cm&&t.cm.scrollIntoView({from:h.from,to:Zo(h)});var p=[];Ki(t,function(t,e){e||Ir(p,t.history)!=-1||(_r(t.history,h),p.push(t.history)),En(t,h,null,ai(t,h))})}}}}function An(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(Or(t.sel.ranges,function(t){return new ht(Ro(t.anchor.line+e,t.anchor.ch),Ro(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Ne(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)Le(t.cm,i,"gutter")}}function En(t,e,n,i){if(t.cm&&!t.cm.curOp)return Ee(t.cm,En)(t,e,n,i);if(e.to.line<t.first)return void An(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);An(t,r),e={from:Ro(t.first,0),to:Ro(e.to.line+r,e.to.ch),text:[Mr(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ro(o,Qi(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Ji(t,e.from,e.to),n||(n=$n(t,e)),t.cm?Pn(t.cm,e,i):Vi(t,e,i),St(t,n,Hs)}}function Pn(t,e,n){var i=t.doc,r=t.display,s=e.from,a=e.to,l=!1,c=s.line;t.options.lineWrapping||(c=er(yi(Qi(i,s.line))),i.iter(c,a.line+1,function(t){if(t==r.maxLine)return l=!0,!0})),i.sel.contains(e.from,e.to)>-1&&Sr(t),Vi(i,e,n,o(t)),t.options.lineWrapping||(i.iter(c,s.line+e.text.length,function(t){var e=h(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),zt(t,400);var u=e.text.length-(a.line-s.line)-1;e.full?Ne(t):s.line!=a.line||1!=e.text.length||Ui(t.doc,e)?Ne(t,s.line,a.line+1,u):Le(t,s.line,"text");var d=Dr(t,"changes"),p=Dr(t,"change");if(p||d){var f={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};p&&Cr(t,"change",t,f),d&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function Mn(t,e,n,i,r){if(i||(i=n),zo(i,n)<0){var o=i;i=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),Tn(t,{from:n,to:i,text:e,origin:r})}function In(t,e){if(!Tr(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),
null!=r&&!So){var o=jr("div","​",null,"position: absolute; top: "+(e.top-n.viewOffset-qt(t.display))+"px; height: "+(e.bottom-e.top+Vt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function On(t,e,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,s=pe(t,e),a=n&&n!=e?pe(t,n):s,l=Ln(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(rn(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(on(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function Nn(t,e,n,i,r){var o=Ln(t,e,n,i,r);null!=o.scrollTop&&rn(t,o.scrollTop),null!=o.scrollLeft&&on(t,o.scrollLeft)}function Ln(t,e,n,i,r){var o=t.display,s=ye(t.display);n<0&&(n=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Gt(t),c={};r-n>l&&(r=n+l);var u=t.doc.height+Bt(o),h=n<s,d=r>u-s;if(n<a)c.scrollTop=h?0:n;else if(r>a+l){var p=Math.min(n,(d?u:r)-l);p!=a&&(c.scrollTop=p)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,m=Yt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),g=i-e>m;return g&&(i=e+m),e<10?c.scrollLeft=0:e<f?c.scrollLeft=Math.max(0,e-(g?0:10)):i>m+f-3&&(c.scrollLeft=i+(g?0:10)-m),c}function Hn(t,e,n){null==e&&null==n||zn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Rn(t){zn(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?Ro(e.line,e.ch-1):e,i=Ro(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function zn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=fe(t,e.from),i=fe(t,e.to),r=Ln(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function Wn(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=jt(t,e):n="prev");var s=t.options.tabSize,a=Qi(o,e),l=Ws(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(r,a.text.slice(u.length),a.text),c==Ls||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?Ws(Qi(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)d+=s,h+="\t";if(d<c&&(h+=Pr(c-d)),h!=u)return Mn(o,h,Ro(e,0),Ro(e,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==e&&f.head.ch<u.length){var d=Ro(e,u.length);$t(o,p,new ht(d,d));break}}}function Fn(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Qi(t,ft(t,e)):r=er(e),null==r?null:(i(o,r)&&t.cm&&Le(t.cm,r,n),o)}function jn(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&zo(o.from,Mr(i).to)<=0;){var s=i.pop();if(zo(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Ae(t,function(){for(var e=i.length-1;e>=0;e--)Mn(t.doc,"",i[e].from,i[e].to,"+delete");Rn(t)})}function qn(t,e,n,i,r){function o(){var e=a+n;return!(e<t.first||e>=t.first+t.size)&&(a=e,u=Qi(t,e))}function s(t){var e=(r?ho:po)(u,l,n,!0);if(null==e){if(t||!o())return!1;l=r?(n<0?ro:io)(u):n<0?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=n,u=Qi(t,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var h=null,d="group"==i,p=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(n<0)||s(!f);f=!1){var m=u.text.charAt(l)||"\n",g=zr(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||f||g||(g="s"),h&&h!=g){n<0&&(n=1,s());break}if(g&&(h=g),n>0&&!s(!f))break}var v=Mt(t,Ro(a,l),e,c,!0);return zo(e,v)||(v.hitSide=!0),v}function Bn(t,e,n,i){var r,o=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(a-(n<0?1.5:.5)*ye(t.display))}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;;){var l=ge(t,s,r);if(!l.outside)break;if(n<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function Un(e,n,i,r){t.defaults[e]=n,i&&(es[e]=r?function(t,e,n){n!=ns&&i(t,e,n)}:i)}function Vn(t){for(var e,n,i,r,o=t.split(/-(?!$)/),t=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Yn(t){return"string"==typeof t?hs[t]:t}function Gn(t,e,n,i,r){if(i&&i.shared)return Kn(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Ee(t.cm,Gn)(t,e,n,i,r);var o=new vs(t,r),s=zo(e,n);if(i&&Hr(i,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=jr("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vi(t,e.line,e,n,o)||e.line!=n.line&&vi(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ho=!0}o.addToHistory&&cr(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&yi(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&tr(t,0),ni(t,new Zn(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){$i(t,e)&&tr(e,0)}),o.clearOnEnter&&Es(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Lo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++gs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Ne(c,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=e.line;u<=n.line;u++)Le(c,u,"text");o.atomic&&At(c.doc),Cr(c,"markerAdded",c,o)}return o}function Kn(t,e,n,i,r){i=Hr(i),i.shared=!1;var o=[Gn(t,e,n,i,r)],s=o[0],a=i.widgetNode;return Ki(t,function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Gn(t,mt(t,e),mt(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Mr(o)}),new ys(o,s)}function Xn(t){return t.findMarks(Ro(t.first,0),t.clipPos(Ro(t.lastLine())),function(t){return t.parent})}function Qn(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(zo(o,s)){var a=Gn(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Jn(t){for(var e=0;e<t.length;e++){var n=t[e],i=[n.primary.doc];Ki(n.primary.doc,function(t){i.push(t)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];Ir(i,o.doc)==-1&&(o.parent=null,n.markers.splice(r--,1))}}}function Zn(t,e,n){this.marker=t,this.from=e,this.to=n}function ti(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function ei(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function ni(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ii(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Zn(s,o.from,l?null:o.to))}}return i}function ri(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Zn(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return i}function oi(t,e){if(e.full)return null;var n=vt(t,e.from.line)&&Qi(t,e.from.line).markedSpans,i=vt(t,e.to.line)&&Qi(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==zo(e.from,e.to),a=ii(n,r,s),l=ri(i,o,s),c=1==e.text.length,u=Mr(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var p=ti(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=r}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var p=ti(a,d.marker);p||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=si(a)),l&&l!=a&&(l=si(l));var f=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new Zn(a[h].marker,null,null));for(var h=0;h<g;++h)f.push(m);f.push(l)}return f}function si(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function ai(t,e){var n=mr(t,e),i=oi(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function li(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&Ir(i,n)!=-1||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(zo(c.to,a.from)<0||zo(c.from,a.to)>0)){var u=[l,1],h=zo(c.from,a.from),d=zo(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function ci(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function ui(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function hi(t){return t.inclusiveLeft?-1:0}function di(t){return t.inclusiveRight?1:0}function pi(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=zo(i.from,r.from)||hi(t)-hi(e);if(o)return-o;var s=zo(i.to,r.to)||di(t)-di(e);return s?s:e.id-t.id}function fi(t,e){var n,i=Ho&&t.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!n||pi(n,r.marker)<0)&&(n=r.marker);return n}function mi(t){return fi(t,!0)}function gi(t){return fi(t,!1)}function vi(t,e,n,i,r){var o=Qi(t,e),s=Ho&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=zo(c.from,n)||hi(l.marker)-hi(r),h=zo(c.to,i)||di(l.marker)-di(r);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?zo(c.to,n)>=0:zo(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?zo(c.from,i)<=0:zo(c.from,i)<0)))return!0}}}function yi(t){for(var e;e=mi(t);)t=e.find(-1,!0).line;return t}function _i(t){for(var e,n;e=gi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function bi(t,e){var n=Qi(t,e),i=yi(n);return n==i?e:er(i)}function wi(t,e){if(e>t.lastLine())return e;var n,i=Qi(t,e);if(!$i(t,i))return e;for(;n=gi(i);)i=n.find(1,!0).line;return er(i)+1}function $i(t,e){var n=Ho&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&xi(t,e,i))return!0}}function xi(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return xi(t,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&xi(t,e,r))return!0}function Ci(t,e,n){ir(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Hn(t,null,n)}function ki(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Gs(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Br(e.display.measure,jr("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Ti(t,e,n,i){var r=new _s(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Fn(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!$i(t,e)){var i=ir(e)<t.scrollTop;tr(e,e.height+ki(r)),i&&Hn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Si(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ci(t),ui(t,n);var r=i?i(t):1;r!=t.height&&tr(t,r)}function Di(t){t.parent=null,ci(t)}function Ai(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Ei(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var i=t.innerMode(e,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Pi(e,n,i,r){for(var o=0;o<10;o++){r&&(r[0]=t.innerMode(e,i).mode);var s=e.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function Mi(t,e,n,i){function r(t){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:t?ls(s.mode,u):u}}var o,s=t.doc,a=s.mode;e=mt(s,e);var l,c=Qi(s,e.line),u=jt(t,e.line,n),h=new ms(c.text,t.options.tabSize);for(i&&(l=[]);(i||h.pos<e.ch)&&!h.eol();)h.start=h.pos,o=Pi(a,h,u),i&&l.push(r(!0));return i?l:r()}function Ii(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new ms(e,t.options.tabSize),d=t.options.addModeClass&&[null];for(""==e&&Ai(Ei(n,i),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&Li(t,e,i,h.pos),h.pos=e.length,l=null):l=Ai(Pi(n,h,i,d),o),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<h.start;)c=Math.min(h.start,c+5e4),r(c,u);u=l}h.start=h.pos}for(;c<h.pos;){var f=Math.min(h.pos,c+5e4);r(f,u),c=f}}function Oi(t,e,n,i){var r=[t.state.modeGen],o={};Ii(t,e.text,t.doc.mode,n,function(t,e){r.push(t,e)},o,i);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;Ii(t,e.text,a.mode,!0,function(t,e){for(var n=l;c<t;){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Ni(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=jt(t,er(e)),r=Oi(t,e,e.text.length>t.options.maxHighlightLength?ls(t.doc.mode,i):i);e.stateAfter=i,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Li(t,e,n,i){var r=t.doc.mode,o=new ms(e,t.options.tabSize);for(o.start=o.pos=i||0,""==e&&Ei(r,n);!o.eol();)Pi(r,o,n),o.start=o.pos}function Hi(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?$s:ws;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Ri(t,e){var n=jr("span",null,null,wo?"padding-right: .1px":null),i={pre:jr("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(_o||wo)&&t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;i.pos=0,i.addToken=Wi,Jr(t.display.measure)&&(o=rr(s))&&(i.addToken=ji(i.addToken,o)),i.map=[];var a=e!=t.display.externalMeasured&&er(s);Bi(s,i,Ni(t,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Yr(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Yr(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qr(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(wo){var l=i.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Is(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=Yr(i.pre.className,i.textClass||"")),i}function zi(t){var e=jr("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Wi(t,e,n,i,r,o,s){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,Fi):e,l=t.cm.state.specialChars,c=!1;if(l.test(e))for(var u=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var d=l.exec(e),p=d?d.index-h:e.length-h;if(p){var f=document.createTextNode(a.slice(h,h+p));_o&&bo<9?u.appendChild(jr("span",[f])):u.appendChild(f),t.map.push(t.pos,t.pos+p,f),t.col+=p,t.pos+=p}if(!d)break;if(h+=p+1,"\t"==d[0]){var m=t.cm.options.tabSize,g=m-t.col%m,f=u.appendChild(jr("span",Pr(g),"cm-tab"));f.setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=g}else if("\r"==d[0]||"\n"==d[0]){var f=u.appendChild(jr("span","\r"==d[0]?"␍":"␤","cm-invalidchar"));f.setAttribute("cm-text",d[0]),t.col+=1}else{var f=t.cm.options.specialCharPlaceholder(d[0]);f.setAttribute("cm-text",d[0]),_o&&bo<9?u.appendChild(jr("span",[f])):u.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}else{t.col+=e.length;var u=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,u),_o&&bo<9&&(c=!0),t.pos+=e.length}if(n||i||r||c||s){var v=n||"";i&&(v+=i),r&&(v+=r);var y=jr("span",[u],v,s);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(u)}}function Fi(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":" ";return e+=" "}function ji(t,e){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var h=0;h<e.length;h++){var d=e[h];if(d.to>c&&d.from<=c)break}if(d.to>=u)return t(n,i,r,o,s,a,l);t(n,i.slice(0,d.to-c),r,o,null,a,l),o=null,i=i.slice(d.to-c),c=d.to}}}function qi(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e}function Bi(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,h,d,p=r.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=h=a="",d=null,v=1/0;for(var y,_=[],b=0;b<i.length;++b){var w=i[b],$=w.marker;"bookmark"==$.type&&w.from==f&&$.widgetNode?_.push($):w.from<=f&&(null==w.to||w.to>f||$.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),$.className&&(l+=" "+$.className),$.css&&(a=(a?a+";":"")+$.css),$.startStyle&&w.from==f&&(u+=" "+$.startStyle),$.endStyle&&w.to==v&&(y||(y=[])).push($.endStyle,w.to),$.title&&!h&&(h=$.title),$.collapsed&&(!d||pi(d.marker,$)<0)&&(d=w)):w.from>f&&v>w.from&&(v=w.from)}if(y)for(var b=0;b<y.length;b+=2)y[b+1]==v&&(c+=" "+y[b]);if(!d||d.from==f)for(var b=0;b<_.length;++b)qi(e,0,_[b]);if(d&&(d.from||0)==f){if(qi(e,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var x=Math.min(p,v);;){if(g){var C=f+g.length;if(!d){var k=C>x?g.slice(0,x-f):g;e.addToken(e,k,s?s+l:l,u,f+k.length==v?c:"",h,a)}if(C>=x){g=g.slice(x-f),f=x;break}f=C,u=""}g=r.slice(o,o=n[m++]),s=Hi(n[m++],e.cm.options)}}else for(var m=1;m<n.length;m+=2)e.addToken(e,r.slice(o,o=n[m]),Hi(n[m+1],e.cm.options))}function Ui(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Mr(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Vi(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){Si(t,n,r,i),Cr(t,"change",t,e)}function s(t,e){for(var n=t,o=[];n<e;++n)o.push(new bs(c[n],r(n),i));return o}var a=e.from,l=e.to,c=e.text,u=Qi(t,a.line),h=Qi(t,l.line),d=Mr(c),p=r(c.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Ui(t,e)){var m=s(0,c.length-1);o(h,h.text,p),f&&t.remove(a.line,f),m.length&&t.insert(a.line,m)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),p);else{var m=s(1,c.length-1);m.push(new bs(d+u.text.slice(l.ch),p,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),t.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),p);var m=s(1,c.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,m)}Cr(t,"change",t,e)}function Yi(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Gi(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}function Ki(t,e,n){function i(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function Xi(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),n(t),t.options.lineWrapping||d(t),t.options.mode=e.modeOption,Ne(t)}function Qi(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function Ji(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function Zi(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function tr(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function er(t){if(null==t.parent)return null;for(var e=t.parent,n=Ir(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function nr(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var i=0;i<t.lines.length;++i){var s=t.lines[i],a=s.height;if(e<a)break;e-=a}return n+i}function ir(t){t=yi(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;e+=s.height}return e}function rr(t){var e=t.order;return null==e&&(e=t.order=aa(t.text)),e}function or(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function sr(t,e){var n={from:Y(e.from),to:Zo(e),text:Ji(t,e.from,e.to)};return pr(t,n,e.from.line,e.to.line+1),Ki(t,function(t){pr(t,n,e.from.line,e.to.line+1)},!0),n}function ar(t){for(;t.length;){var e=Mr(t);if(!e.ranges)break;t.pop()}}function lr(t,e){return e?(ar(t.done),Mr(t.done)):t.done.length&&!Mr(t.done).ranges?Mr(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Mr(t.done)):void 0}function cr(t,e,n,i){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=lr(r,r.lastOp==i))){var a=Mr(o.changes);0==zo(e.from,e.to)&&0==zo(e.from,a.to)?a.to=Zo(e):o.changes.push(sr(t,e))}else{var l=Mr(r.done);for(l&&l.ranges||dr(t.sel,r.done),o={changes:[sr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,a||Is(t,"historyAdded")}function ur(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function hr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||ur(t,o,Mr(r.done),e))?r.done[r.done.length-1]=e:dr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&i.clearRedo!==!1&&ar(r.undone)}function dr(t,e){var n=Mr(e);n&&n.ranges&&n.equals(t)||e.push(t)}function pr(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function fr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function mr(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(fr(n[i]));return r}function gr(t,e,n){for(var i=0,r=[];i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?ut.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&Ir(e,Number(c[1]))>-1&&(Mr(a)[h]=u[h],delete u[h])}}}return r}function vr(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function yr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)vr(o.ranges[a].anchor,e,n,i),vr(o.ranges[a].head,e,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Ro(l.from.line+i,l.from.ch),l.to=Ro(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function _r(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;yr(t.done,n,i,r),yr(t.undone,n,i,r)}function br(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function wr(t){return t.target||t.srcElement}function $r(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Eo&&t.ctrlKey&&1==e&&(e=3),e}function xr(t,e,n){var i=t._handlers&&t._handlers[e];return n?i&&i.length>0?i.slice():Ps:i||Ps}function Cr(t,e){function n(t){return function(){t.apply(null,o)}}var i=xr(t,e,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);Uo?r=Uo.delayedCallbacks:Os?r=Os:(r=Os=[],setTimeout(kr,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function kr(){var t=Os;Os=null;for(var e=0;e<t.length;++e)t[e]()}function Tr(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Is(t,n||e.type,t,e),br(e)||e.codemirrorIgnore}function Sr(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)Ir(n,e[i])==-1&&n.push(e[i])}function Dr(t,e){return xr(t,e).length>0}function Ar(t){t.prototype.on=function(t,e){Es(this,t,e)},t.prototype.off=function(t,e){Ms(this,t,e)}}function Er(){this.id=null}function Pr(t){for(;js.length<=t;)js.push(Mr(js)+" ");return js[t]}function Mr(t){return t[t.length-1]}function Ir(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Or(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Nr(){}function Lr(t,e){var n;return Object.create?n=Object.create(t):(Nr.prototype=t,n=new Nr),e&&Hr(e,n),n}function Hr(t,e,n){e||(e={});for(var i in t)!t.hasOwnProperty(i)||n===!1&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function Rr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function zr(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Vs(t))||e.test(t):Vs(t)}function Wr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Fr(t){return t.charCodeAt(0)>=768&&Ys.test(t)}function jr(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function qr(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Br(t,e){return qr(t).appendChild(e)}function Ur(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Vr(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Yr(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!Vr(n[i]).test(e)&&(e+=" "+n[i]);return e}function Gr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&t(i)}}function Kr(){Zs||(Xr(),Zs=!0)}function Xr(){var t;Es(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Gr(Be)},100))}),Es(window,"blur",function(){Gr(yn)})}function Qr(t){if(null==Ks){var e=jr("span","​");Br(t,jr("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ks=e.offsetWidth<=1&&e.offsetHeight>2&&!(_o&&bo<8))}var n=Ks?jr("span","​"):jr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Jr(t){if(null!=Xs)return Xs;var e=Br(t,document.createTextNode("AخA")),n=Bs(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Bs(e,1,2).getBoundingClientRect();return Xs=i.right-n.right<3}function Zr(t){if(null!=ra)return ra;var e=Br(t,jr("span","x")),n=e.getBoundingClientRect(),i=Bs(e,0,1).getBoundingClientRect();return ra=Math.abs(n.left-i.left)>1}function to(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function eo(t){return t.level%2?t.to:t.from}function no(t){return t.level%2?t.from:t.to}function io(t){var e=rr(t);return e?eo(e[0]):0}function ro(t){var e=rr(t);return e?no(Mr(e)):t.text.length}function oo(t,e){var n=Qi(t.doc,e),i=yi(n);i!=n&&(e=er(i));var r=rr(i),o=r?r[0].level%2?ro(i):io(i):0;return Ro(e,o)}function so(t,e){for(var n,i=Qi(t.doc,e);n=gi(i);)i=n.find(1,!0).line,e=null;var r=rr(i),o=r?r[0].level%2?io(i):ro(i):i.text.length;return Ro(null==e?er(i):e,o)}function ao(t,e){var n=oo(t,e.line),i=Qi(t.doc,n.line),r=rr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return Ro(n.line,s?0:o)}return n}function lo(t,e,n){var i=t[0].level;return e==i||n!=i&&e<n}function co(t,e){sa=null;for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return i;if(r.from==e||r.to==e){if(null!=n)return lo(t,r.level,t[n].level)?(r.from!=r.to&&(sa=n),i):(r.from!=r.to&&(sa=i),n);n=i}}return n}function uo(t,e,n,i){if(!i)return e+n;do e+=n;while(e>0&&Fr(t.text.charAt(e)));return e}function ho(t,e,n,i){var r=rr(t);if(!r)return po(t,e,n,i);for(var o=co(r,e),s=r[o],a=uo(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return co(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?uo(t,s.to,-1,i):uo(t,s.from,1,i)}}function po(t,e,n,i){var r=e+n;if(i)for(;r>0&&Fr(t.text.charAt(r));)r+=n;return r<0||r>t.text.length?null:r}var fo=navigator.userAgent,mo=navigator.platform,go=/gecko\/\d/i.test(fo),vo=/MSIE \d/.test(fo),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fo),_o=vo||yo,bo=_o&&(vo?document.documentMode||6:yo[1]),wo=/WebKit\//.test(fo),$o=wo&&/Qt\/\d+\.\d+/.test(fo),xo=/Chrome\//.test(fo),Co=/Opera\//.test(fo),ko=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fo),So=/PhantomJS/.test(fo),Do=/AppleWebKit/.test(fo)&&/Mobile\/\w+/.test(fo),Ao=Do||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fo),Eo=Do||/Mac/.test(mo),Po=/\bCrOS\b/.test(fo),Mo=/win/i.test(mo),Io=Co&&fo.match(/Version\/(\d*\.\d*)/);Io&&(Io=Number(Io[1])),Io&&Io>=15&&(Co=!1,wo=!0);var Oo=Eo&&($o||Co&&(null==Io||Io<12.11)),No=go||_o&&bo>=9,Lo=!1,Ho=!1;m.prototype=Hr({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;
if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Eo&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Er,this.disableVert=new Er},enableZeroWidthBar:function(t,e){function n(){var i=t.getBoundingClientRect(),r=document.elementFromPoint(i.left+1,i.bottom-1);r!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},m.prototype),g.prototype=Hr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),t.scrollbarModel={"native":m,"null":g},k.prototype.signal=function(t,e){Dr(t,e)&&this.events.push(arguments)},k.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Is.apply(null,this.events[t])};var Ro=t.Pos=function(t,e){return this instanceof Ro?(this.line=t,void(this.ch=e)):new Ro(t,e)},zo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Wo=null;nt.prototype=Hr({init:function(t){function e(t){if(!Tr(i,t)){if(i.somethingSelected())Wo={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Wo.text.join("\n"),qs(o));else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);Wo={lineWise:!0,text:e.text},"cut"==t.type?i.setSelections(e.ranges,null,Hs):(n.prevInput="",o.value=e.text.join("\n"),qs(o))}"cut"==t.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=it(),o=this.textarea=r.firstChild;t.wrapper.insertBefore(r,t.wrapper.firstChild),Do&&(o.style.width="0px"),Es(o,"input",function(){_o&&bo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Es(o,"paste",function(t){Tr(i,t)||J(t,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Es(o,"cut",e),Es(o,"copy",e),Es(t.scroller,"paste",function(e){Ue(t,e)||Tr(i,e)||(i.state.pasteIncoming=!0,n.focus())}),Es(t.lineSpace,"selectstart",function(e){Ue(t,e)||Ss(e)}),Es(o,"compositionstart",function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Es(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,i=Nt(t);if(t.options.moveInputWithCursor){var r=pe(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(t){var e=this.cm,n=e.display;Br(n.cursorDiv,t.cursors),Br(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();e=ia&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var s=e?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&qs(this.textarea),_o&&bo>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",_o&&bo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ao||Ur()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var i=n.poll();i||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||na(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=e.value;if(i==n&&!t.somethingSelected())return!1;if(_o&&bo>=9&&this.hasSelection===i||Eo&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);o<s&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return Ae(t,function(){Q(t,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?e.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){_o&&bo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=s.selectionStart){var t=r.somethingSelected(),e="​"+(t?s.value:"");s.value="⇚",s.value=e,i.prevInput=t?"":"​",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=h,s.style.cssText=u,_o&&bo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!_o||_o&&bo<9)&&e();var t=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==i.prevInput?Ee(r,us.selectAll)(r):t++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Ve(r,t),l=o.scroller.scrollTop;if(a&&!Co){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(a)==-1&&Ee(r,Tt)(r.doc,pt(a),Hs);var u=s.style.cssText,h=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var d=i.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px; z-index: 1000; background: "+(_o?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",wo)var p=window.scrollY;if(o.input.focus(),wo&&window.scrollTo(null,p),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),_o&&bo>=9&&e(),No){As(t);var f=function(){Ms(window,"mouseup",f),setTimeout(n,20)};Es(window,"mouseup",f)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Nr,needsContentAttribute:!1},nt.prototype),rt.prototype=Hr({init:function(t){function e(t){if(!Tr(i,t)){if(i.somethingSelected())Wo={lineWise:!1,text:i.getSelections()},"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);Wo={lineWise:!0,text:e.text},"cut"==t.type&&i.operation(function(){i.setSelections(e.ranges,0,Hs),i.replaceSelection("",null,"cut")})}if(t.clipboardData&&!Do)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Wo.text.join("\n"));else{var n=it(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Wo.text.join("\n");var o=document.activeElement;qs(r),setTimeout(function(){i.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,i=n.cm,r=n.div=t.lineDiv;et(r),Es(r,"paste",function(t){Tr(i,t)||J(t,i)}),Es(r,"compositionstart",function(t){var e=t.data;if(n.composing={sel:i.doc.sel,data:e,startData:e},e){var r=i.doc.sel.primary(),o=i.getLine(r.head.line),s=o.indexOf(e,Math.max(0,r.head.ch-e.length));s>-1&&s<=r.head.ch&&(n.composing.sel=pt(Ro(r.head.line,s),Ro(r.head.line,s+e.length)))}}),Es(r,"compositionupdate",function(t){n.composing.data=t.data}),Es(r,"compositionend",function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)},50))}),Es(r,"touchstart",function(){n.forceCompositionEnd()}),Es(r,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||Ae(n.cm,function(){Ne(i)})}),Es(r,"copy",e),Es(r,"cut",e)},prepareSelection:function(){var t=Nt(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=at(this.cm,t.anchorNode,t.anchorOffset),i=at(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!i||i.bad||0!=zo(K(n,i),e.from())||0!=zo(G(n,i),e.to())){var r=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(r||o){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Bs(r.node,r.offset,o.offset,o.node)}catch(h){}u&&(!go&&this.cm.state.focused?(t.collapse(r.node,r.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&&null==t.anchorNode?t.addRange(a):go&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Br(this.cm.display.cursorDiv,t.cursors),Br(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Gs(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Ae(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=at(e,t.anchorNode,t.anchorOffset),i=at(e,t.focusNode,t.focusOffset);n&&i&&Ae(e,function(){Tt(e.doc,pt(n,i),Hs),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,n=t.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<e.viewFrom||r.line>e.viewTo-1)return!1;var o;if(i.line==e.viewFrom||0==(o=Re(t,i.line)))var s=er(e.view[0].line),a=e.view[0].node;else var s=er(e.view[o].line),a=e.view[o-1].node.nextSibling;var l=Re(t,r.line);if(l==e.view.length-1)var c=e.viewTo-1,u=e.lineDiv.lastChild;else var c=er(e.view[l+1].line)-1,u=e.view[l+1].node.previousSibling;for(var h=t.doc.splitLines(ct(t,a,u,s,c)),d=Ji(t.doc,Ro(s,0),Ro(c,Qi(t.doc,c).text.length));h.length>1&&d.length>1;)if(Mr(h)==Mr(d))h.pop(),d.pop(),c--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),s++}for(var p=0,f=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Mr(h),_=Mr(d),b=Math.min(y.length-(1==h.length?p:0),_.length-(1==d.length?p:0));f<b&&y.charCodeAt(y.length-f-1)==_.charCodeAt(_.length-f-1);)++f;h[h.length-1]=y.slice(0,y.length-f),h[0]=h[0].slice(p);var w=Ro(s,p),$=Ro(c,d.length?Mr(d).length-f:0);return h.length>1||h[0]||zo(w,$)?(Mn(t.doc,h,w,$,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Ee(this.cm,Ne)(this.cm):t.data&&t.data!=t.startData&&Ee(this.cm,Q)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Ee(this.cm,Q)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Nr,resetPosition:Nr,needsContentAttribute:!0},rt.prototype),t.inputStyles={textarea:nt,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=zo(n.anchor,i.anchor)||0!=zo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ht(Y(this.ranges[e].anchor),Y(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(zo(e,i.from())>=0&&zo(t,i.to())<=0)return n}return-1}},ht.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Fo,jo,qo,Bo={left:0,right:0,top:0,bottom:0},Uo=null,Vo=0,Yo=0,Go=0,Ko=null;_o?Ko=-.53:go?Ko=15:xo?Ko=-.7:ko&&(Ko=-1/3);var Xo=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Xo(t);return e.x*=Ko,e.y*=Ko,e};var Qo=new Er,Jo=null,Zo=t.changeEnd=function(t){return t.text?Ro(t.from.line+t.text.length-1,Mr(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,i=n[t];n[t]==e&&"mode"!=t||(n[t]=e,es.hasOwnProperty(t)&&Ee(this,es[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Yn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Pe(function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,Ne(this)}),removeOverlay:Pe(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void Ne(this)}}),indentLine:Pe(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Wn(this,t,e,n)}),indentSelection:Pe(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Wn(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&Rn(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Wn(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[i].from().ch>0&&$t(this.doc,i,new ht(o,c[i].to()),Hs)}}}),getTokenAt:function(t,e){return Mi(this,t,e)},getLineTokens:function(t,e){return Mi(this,Ro(t),e,!0)},getTokenTypeAt:function(t){t=mt(this.doc,t);var e,n=Ni(this,Qi(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!as.hasOwnProperty(e))return n;var i=as[e],r=this.getModeAt(t);if("string"==typeof r[e])i[r[e]]&&n.push(i[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=i[r[e][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&Ir(n,a.val)==-1&&n.push(a.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=ft(n,null==t?n.first+n.size-1:t),jt(this,t+1,e)},cursorCoords:function(t,e){var n,i=this.doc.sel.primary();return n=null==t?i.head:"object"==typeof t?mt(this.doc,t):t?i.from():i.to(),pe(this,n,e||"page")},charCoords:function(t,e){return de(this,mt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=he(this,t,e||"page"),ge(this,t.left,t.top)},lineAtHeight:function(t,e){return t=he(this,{top:t,left:0},e||"page").top,nr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,i=!1;if("number"==typeof t){var r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,i=!0),n=Qi(this.doc,t)}else n=t;return ue(this,n,{top:0,left:0},e||"page").top+(i?this.doc.height-ir(n):0)},defaultTextHeight:function(){return ye(this.display)},defaultCharWidth:function(){return _e(this.display)},setGutterMarker:Pe(function(t,e,n){return Fn(this.doc,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&Wr(i)&&(t.gutterMarkers=null),!0})}),clearGutter:Pe(function(t){var e=this,n=e.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,Le(e,i,"gutter"),Wr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(t=Qi(this.doc,t),!t)return null}else{var e=er(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display;t=pe(this,mt(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&Nn(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:Pe(dn),triggerOnKeyPress:Pe(mn),triggerOnKeyUp:fn,execCommand:function(t){if(us.hasOwnProperty(t))return us[t].call(null,this)},triggerElectric:Pe(function(t){Z(this,t)}),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=0,s=mt(this.doc,t);o<e&&(s=qn(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Pe(function(t,e){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?qn(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()},zs)}),deleteH:Pe(function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):jn(this,function(n){var r=qn(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=0,a=mt(this.doc,t);s<e;++s){var l=pe(this,a,"div");if(null==o?o=l.left:l.left=o,a=Bn(this,l,r,n),a.hitSide)break}return a},moveV:Pe(function(t,e){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=pe(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Bn(n,a,t,e);return"page"==e&&s==i.sel.primary()&&Hn(n,null,de(n,l,"div").top-a.top),l},zs),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(t){var e=this.doc,n=Qi(e,t.line).text,i=t.ch,r=t.ch;if(n){var o=this.getHelper(t,"wordChars");(t.xRel<0||r==n.length)&&i?--i:++r;for(var s=n.charAt(i),a=zr(s,o)?function(t){return zr(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!zr(t)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new ht(Ro(t.line,i),Ro(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Js(this.display.cursorDiv,"CodeMirror-overwrite"):Qs(this.display.cursorDiv,"CodeMirror-overwrite"),Is(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ur()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Pe(function(t,e){null==t&&null==e||zn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Vt(this)-this.display.barHeight,width:t.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Yt(this)}},scrollIntoView:Pe(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ro(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)zn(this),this.curOp.scrollToPos=t;else{var n=Ln(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Pe(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var i=this;null!=t&&(i.display.wrapper.style.width=n(t)),null!=e&&(i.display.wrapper.style.height=n(e)),i.options.lineWrapping&&se(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Le(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Is(i,"refresh",this)}),operation:function(t){return Ae(this,t)},refresh:Pe(function(){var t=this.display.cachedTextHeight;Ne(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==t||Math.abs(t-ye(this.display))>.5)&&s(this),Is(this,"refresh",this)}),swapDoc:Pe(function(t){var e=this.doc;return e.cm=null,Xi(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Cr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ar(t);var ts=t.defaults={},es=t.optionHandlers={},ns=t.Init={toString:function(){return"CodeMirror.Init"}};Un("value","",function(t,e){t.setValue(e)},!0),Un("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Un("indentUnit",2,n,!0),Un("indentWithTabs",!1),Un("smartIndent",!0),Un("tabSize",4,function(t){i(t),ae(t),Ne(t)},!0),Un("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(o==-1)break;r=o+e.length,n.push(Ro(i,o))}i++});for(var r=n.length-1;r>=0;r--)Mn(t.doc,e,n[r],Ro(n[r].line,n[r].ch+e.length))}}),Un("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,i){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=t.Init&&e.refresh()}),Un("specialCharPlaceholder",zi,function(t){t.refresh()},!0),Un("electricChars",!0),Un("inputStyle",Ao?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Un("rtlMoveVisually",!Mo),Un("wholeLineUpdateBefore",!0),Un("theme","default",function(t){a(t),l(t)},!0),Un("keyMap","default",function(e,n,i){var r=Yn(n),o=i!=t.Init&&Yn(i);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),Un("extraKeys",null),Un("lineWrapping",!1,r,!0),Un("gutters",[],function(t){p(t.options),l(t)},!0),Un("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?C(t.display)+"px":"0",t.refresh()},!0),Un("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Un("scrollbarStyle","native",function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Un("lineNumbers",!1,function(t){p(t.options),l(t)},!0),Un("firstLineNumber",1,l,!0),Un("lineNumberFormatter",function(t){return t},l,!0),Un("showCursorWhenSelecting",!1,Ot,!0),Un("resetSelectionOnContextMenu",!0),Un("lineWiseCopyCut",!0),Un("readOnly",!1,function(t,e){"nocursor"==e?(yn(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Un("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Un("dragDrop",!0,qe),Un("allowDropFileTypes",null),Un("cursorBlinkRate",530),Un("cursorScrollMargin",0),Un("cursorHeight",1,Ot,!0),Un("singleCursorHeightPerLine",!0,Ot,!0),Un("workTime",100),Un("workDelay",100),Un("flattenSpans",!0,i,!0),Un("addModeClass",!1,i,!0),Un("pollInterval",100),Un("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Un("historyEventDelay",1250),Un("viewportMargin",10,function(t){t.refresh()},!0),Un("maxHighlightLength",1e4,i,!0),Un("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Un("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Un("autofocus",null);var is=t.modes={},rs=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),is[e]=n},t.defineMIME=function(t,e){rs[t]=e},t.resolveMode=function(e){if("string"==typeof e&&rs.hasOwnProperty(e))e=rs[e];else if(e&&"string"==typeof e.name&&rs.hasOwnProperty(e.name)){var n=rs[e.name];"string"==typeof n&&(n={name:n}),e=Lr(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),i=is[n.name];if(!i)return t.getMode(e,"text/plain");var r=i(e,n);if(os.hasOwnProperty(n.name)){var o=os[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var os=t.modeExtensions={};t.extendMode=function(t,e){var n=os.hasOwnProperty(t)?os[t]:os[t]={};Hr(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){Cs.prototype[t]=e},t.defineOption=Un;var ss=[];t.defineInitHook=function(t){ss.push(t)};var as=t.helpers={};t.registerHelper=function(e,n,i){as.hasOwnProperty(e)||(as[e]=t[e]={_global:[]}),as[e][n]=i},t.registerGlobalHelper=function(e,n,i,r){t.registerHelper(e,n,r),as[e]._global.push({pred:i,val:r})};var ls=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},cs=t.startState=function(t,e,n){return!t.startState||t.startState(e,n)};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var us=t.commands={selectAll:function(t){t.setSelection(Ro(t.firstLine(),0),Ro(t.lastLine()),Hs)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Hs)},killLine:function(t){jn(t,function(e){if(e.empty()){var n=Qi(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Ro(e.head.line+1,0)}:{from:e.head,to:Ro(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){jn(t,function(e){return{from:Ro(e.from().line,0),to:mt(t.doc,Ro(e.to().line+1,0))}})},delLineLeft:function(t){jn(t,function(t){return{from:Ro(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){jn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return{from:i,to:e.from()}})},delWrappedLineRight:function(t){jn(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ro(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ro(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return oo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return ao(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return so(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},zs)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},zs)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?ao(t,e.head):i},zs)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){
t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Ws(t.getLine(o.line),o.ch,i);e.push(Pr(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Ae(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var r=e[i].head,o=Qi(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new Ro(r.line,r.ch-1)),r.ch>0)r=new Ro(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),Ro(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=Qi(t.doc,r.line-1).text;s&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),Ro(r.line-1,s.length-1),Ro(r.line,1),"+transpose")}n.push(new ht(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){Ae(t,function(){for(var e=t.listSelections().length,n=0;n<e;n++){var i=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),i.anchor,i.head,"+input"),t.indentLine(i.from().line+1,null,!0)}Rn(t)})},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},hs=t.keyMap={};hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hs["default"]=Eo?hs.macDefault:hs.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=Or(n.split(" "),Vn),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t};var ds=t.lookupKey=function(t,e,n,i){e=Yn(e);var r=e.call?e.call(t,i):e[t];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return ds(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=ds(t,e.fallthrough[o],n,i);if(s)return s}}},ps=t.isModifierKey=function(t){var e="string"==typeof t?t:oa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},fs=t.keyName=function(t,e){if(Co&&34==t.keyCode&&t["char"])return!1;var n=oa[t.keyCode],i=n;return null!=i&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(i="Alt-"+i),(Oo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Oo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!e&&t.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};t.fromTextArea=function(e,n){function i(){e.value=c.getValue()}if(n=n?Hr(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var r=Ur();n.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(Es(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=e.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}n.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ms(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return c};var ms=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ms.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ws(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ws(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ws(this.string,null,this.tabSize)-(this.lineStart?Ws(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&e!==!1&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(r(o)==r(t))return e!==!1&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var gs=0,vs=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++gs};Ar(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&be(t),Dr(this,"clear")){var n=this.find();n&&Cr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ti(s.markedSpans,this);t&&!this.collapsed?Le(t,er(s),"text"):t&&(null!=a.to&&(r=er(s)),null!=a.from&&(i=er(s))),s.markedSpans=ei(s.markedSpans,a),null==a.from&&this.collapsed&&!$i(this.doc,s)&&t&&tr(s,ye(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=yi(this.lines[o]),c=h(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Ne(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&At(t.doc)),t&&Cr(t,"markerCleared",t,this),e&&$e(t),this.parent&&this.parent.clear()}},vs.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=ti(o.markedSpans,this);if(null!=s.from&&(n=Ro(e?o:er(o),s.from),t==-1))return n;if(null!=s.to&&(i=Ro(e?o:er(o),s.to),1==t))return i}return n&&{from:n,to:i}},vs.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Ae(n,function(){var i=t.line,r=er(t.line),o=Zt(n,r);if(o&&(oe(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!$i(e.doc,i)&&null!=e.height){var s=e.height;e.height=null;var a=ki(e)-s;a&&tr(i,i.height+a)}})},vs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&Ir(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vs.prototype.detachLine=function(t){if(this.lines.splice(Ir(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var gs=0,ys=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Ar(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Cr(this,"clear")}},ys.prototype.find=function(t,e){return this.primary.find(t,e)};var _s=t.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Ar(_s),_s.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=er(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=ki(this);tr(n,Math.max(0,n.height-o)),t&&Ae(t,function(){Ci(t,n,-o),Le(t,i,"widget")})}},_s.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var i=ki(this)-t;i&&(tr(n,n.height+i),e&&Ae(e,function(){e.curOp.forceUpdate=!0,Ci(e,n,i)}))};var bs=t.Line=function(t,e,n){this.text=t,ui(this,e),this.height=n?n(this):1};Ar(bs),bs.prototype.lineNo=function(){return er(this)};var ws={},$s={};Yi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Di(r),Cr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},Gi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Yi))){var a=[];this.collapse(a),this.children=[new Yi(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Yi(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Gi(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=Ir(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new Gi(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var xs=0,Cs=t.Doc=function(t,e,n,i){if(!(this instanceof Cs))return new Cs(t,e,n,i);null==n&&(n=0),Gi.call(this,[new Yi([new bs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Ro(n,0);this.sel=pt(r),this.history=new or(null),this.id=++xs,this.modeOption=e,this.lineSep=i,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Vi(this,{from:r,to:r,text:t}),Tt(this,pt(r),Hs)};Cs.prototype=Lr(Gi.prototype,{constructor:Cs,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Zi(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Me(function(t){var e=Ro(this.first,0),n=this.first+this.size-1;Tn(this,{from:e,to:Ro(n,Qi(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,pt(e))}),replaceRange:function(t,e,n,i){e=mt(this,e),n=n?mt(this,n):e,Mn(this,t,e,n,i)},getRange:function(t,e,n){var i=Ji(this,mt(this,t),mt(this,e));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(vt(this,t))return Qi(this,t)},getLineNumber:function(t){return er(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Qi(this,t)),yi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return mt(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Me(function(t,e,n){xt(this,mt(this,"number"==typeof t?Ro(t,e||0):t),null,n)}),setSelection:Me(function(t,e,n){xt(this,mt(this,t),mt(this,e||t),n)}),extendSelection:Me(function(t,e,n){bt(this,mt(this,t),e&&mt(this,e),n)}),extendSelections:Me(function(t,e){wt(this,yt(this,t),e)}),extendSelectionsBy:Me(function(t,e){var n=Or(this.sel.ranges,t);wt(this,yt(this,n),e)}),setSelections:Me(function(t,e,n){if(t.length){for(var i=0,r=[];i<t.length;i++)r[i]=new ht(mt(this,t[i].anchor),mt(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,dt(r,e),n)}}),addSelection:Me(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new ht(mt(this,t),mt(this,e||t))),Tt(this,dt(i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=Ji(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Ji(this,n[i].from(),n[i].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Me(function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&Cn(this,i,e),o=i.length-1;o>=0;o--)Tn(this,i[o]);a?kt(this,a):this.cm&&Rn(this.cm)}),undo:Me(function(){Dn(this,"undo")}),redo:Me(function(){Dn(this,"redo")}),undoSelection:Me(function(){Dn(this,"undo",!0)}),redoSelection:Me(function(){Dn(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:gr(this.history.done),undone:gr(this.history.undone)}},setHistory:function(t){var e=this.history=new or(this.history.maxGeneration);e.done=gr(t.done.slice(0),null,!0),e.undone=gr(t.undone.slice(0),null,!0)},addLineClass:Me(function(t,e,n){return Fn(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(Vr(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:Me(function(t,e,n){return Fn(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(Vr(n));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Me(function(t,e,n){return Ti(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Gn(this,mt(this,t),mt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=mt(this,t),Gn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=mt(this,t);var e=[],n=Qi(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=mt(this,t),e=mt(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;return o>t?(e=t,!0):(t-=o,void++n)}),mt(this,Ro(n,e))},indexFromPos:function(t){t=mt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Cs(Zi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new Cs(Zi(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Qn(i,Xn(this)),i},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Jn(Xn(this));break}}if(e.history==this.history){var r=[e.id];Ki(e,function(t){r.push(t.id)},!0),e.history=new or(null),e.history.done=gr(this.history.done,r),e.history.undone=gr(this.history.undone,r)}},iterLinkedDocs:function(t){Ki(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ea(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Cs.prototype.eachLine=Cs.prototype.iter;var ks="iter insert remove copy getEditor constructor".split(" ");for(var Ts in Cs.prototype)Cs.prototype.hasOwnProperty(Ts)&&Ir(ks,Ts)<0&&(t.prototype[Ts]=function(t){return function(){return t.apply(this.doc,arguments)}}(Cs.prototype[Ts]));Ar(Cs);var Ss=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Ds=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},As=t.e_stop=function(t){Ss(t),Ds(t)},Es=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={}),r=i[e]||(i[e]=[]);r.push(n)}},Ps=[],Ms=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var i=xr(t,e,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Is=t.signal=function(t,e){var n=xr(t,e,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Os=null,Ns=30,Ls=t.Pass={toString:function(){return"CodeMirror.Pass"}},Hs={scroll:!1},Rs={origin:"*mouse"},zs={origin:"+move"};Er.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Ws=t.countColumn=function(t,e,n,i,r){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}},Fs=t.findColumn=function(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);o==-1&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=e)return i}},js=[""],qs=function(t){t.select()};Do?qs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:_o&&(qs=function(t){try{t.select()}catch(e){}});var Bs,Us=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Vs=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Us.test(t))},Ys=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Bs=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var Gs=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};_o&&bo<11&&(Ur=function(){try{return document.activeElement}catch(t){return document.body}});var Ks,Xs,Qs=t.rmClass=function(t,e){var n=t.className,i=Vr(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Js=t.addClass=function(t,e){var n=t.className;Vr(e).test(n)||(t.className+=(n?" ":"")+e)},Zs=!1,ta=function(){if(_o&&bo<9)return!1;var t=jr("div");return"draggable"in t||"dragDrop"in t}(),ea=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);r==-1&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");s!=-1?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},na=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},ia=function(){var t=jr("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),ra=null,oa=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)oa[t+48]=oa[t+96]=String(t);for(var t=65;t<=90;t++)oa[t]=String.fromCharCode(t);for(var t=1;t<=12;t++)oa[t+111]=oa[t+63235]="F"+t}();var sa,aa=function(){function t(t){return t<=247?n.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?i.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,h=[],d=0;d<u;++d)h.push(i=t(n.charCodeAt(d)));for(var d=0,p=c;d<u;++d){var i=h[d];"m"==i?h[d]=p:p=i}for(var d=0,f=c;d<u;++d){var i=h[d];"1"==i&&"r"==f?h[d]="n":s.test(i)&&(f=i,"r"==i&&(h[d]="R"))}for(var d=1,p=h[0];d<u-1;++d){var i=h[d];"+"==i&&"1"==p&&"1"==h[d+1]?h[d]="1":","!=i||p!=h[d+1]||"1"!=p&&"n"!=p||(h[d]=p),p=i}for(var d=0;d<u;++d){var i=h[d];if(","==i)h[d]="N";else if("%"==i){for(var m=d+1;m<u&&"%"==h[m];++m);for(var g=d&&"!"==h[d-1]||m<u&&"1"==h[m]?"1":"N",v=d;v<m;++v)h[v]=g;d=m-1}}for(var d=0,f=c;d<u;++d){var i=h[d];"L"==f&&"1"==i?h[d]="L":s.test(i)&&(f=i)}for(var d=0;d<u;++d)if(o.test(h[d])){for(var m=d+1;m<u&&o.test(h[m]);++m);for(var y="L"==(d?h[d-1]:c),_="L"==(m<u?h[m]:c),g=y||_?"L":"R",v=d;v<m;++v)h[v]=g;d=m-1}for(var b,w=[],d=0;d<u;)if(a.test(h[d])){var $=d;for(++d;d<u&&a.test(h[d]);++d);w.push(new e(0,$,d))}else{var x=d,C=w.length;for(++d;d<u&&"L"!=h[d];++d);for(var v=x;v<d;)if(l.test(h[v])){x<v&&w.splice(C,0,new e(1,x,v));var k=v;for(++v;v<d&&l.test(h[v]);++v);w.splice(C,0,new e(2,k,v)),x=v}else++v;x<d&&w.splice(C,0,new e(1,x,d))}return 1==w[0].level&&(b=n.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift(new e(0,0,b[0].length))),1==Mr(w).level&&(b=n.match(/\s+$/))&&(Mr(w).to-=b[0].length,w.push(new e(0,u-b[0].length,u))),2==w[0].level&&w.unshift(new e(1,w[0].to,w[0].to)),w[0].level!=Mr(w).level&&w.push(new e(w[0].level,u,u)),w}}();return t.version="5.16.0",t}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}t.defineMode("javascript",function(n,i){function r(t){for(var e,n=!1,i=!1;null!=(e=t.next());){if(!n){if("/"==e&&!i)return;"["==e?i=!0:i&&"]"==e&&(i=!1)}n=!n&&"\\"==e}}function o(t,e,n){return wt=t,$t=n,e}function s(t,n){var i=t.next();if('"'==i||"'"==i)return n.tokenize=a(i),n.tokenize(t,n);if("."==i&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==i&&t.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return o(i);if("="==i&&t.eat(">"))return o("=>","operator");if("0"==i&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","number");if("0"==i&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),o("number","number");if("0"==i&&t.eat(/b/i))return t.eatWhile(/[01]/i),o("number","number");if(/\d/.test(i))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==i)return t.eat("*")?(n.tokenize=l,l(t,n)):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e(t,n,1)?(r(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(t.eatWhile(Et),o("operator","operator",t.current()));if("`"==i)return n.tokenize=c,c(t,n);if("#"==i)return t.skipToEnd(),o("error","error");if(Et.test(i))return t.eatWhile(Et),o("operator","operator",t.current());if(Dt.test(i)){t.eatWhile(Dt);var s=t.current(),u=At.propertyIsEnumerable(s)&&At[s];return u&&"."!=n.lastType?o(u.type,u.style,s):o("variable","variable",s)}}function a(t){return function(e,n){var i,r=!1;if(kt&&"@"==e.peek()&&e.match(Pt))return n.tokenize=s,o("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=t||r);)r=!r&&"\\"==i;return r||(n.tokenize=s),o("string","string")}}function l(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=s;break}i="*"==n}return o("comment","comment")}function c(t,e){for(var n,i=!1;null!=(n=t.next());){if(!i&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=s;break}i=!i&&"\\"==n}return o("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=t.string.charAt(o),a=Mt.indexOf(s);if(a>=0&&a<3){if(!i){++o;break}if(0==--i)break}else if(a>=3&&a<6)++i;else if(Dt.test(s))r=!0;else{if(/["'\/]/.test(s))return;if(r&&!i){++o;break}}}r&&!i&&(e.fatArrowAt=o)}}function h(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i);
}function d(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==e)return!0}function p(t,e,n,i,r){var o=t.cc;for(Ot.state=t,Ot.stream=r,Ot.marked=null,Ot.cc=o,Ot.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var s=o.length?o.pop():Tt?x:$;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ot.marked?Ot.marked:"variable"==n&&d(t,i)?"variable-2":e}}}function f(){for(var t=arguments.length-1;t>=0;t--)Ot.cc.push(arguments[t])}function m(){return f.apply(null,arguments),!0}function g(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var n=Ot.state;if(Ot.marked="def",n.context){if(e(n.localVars))return;n.localVars={name:t,next:n.localVars}}else{if(e(n.globalVars))return;i.globalVars&&(n.globalVars={name:t,next:n.globalVars})}}function v(){Ot.state.context={prev:Ot.state.context,vars:Ot.state.localVars},Ot.state.localVars=Nt}function y(){Ot.state.localVars=Ot.state.context.vars,Ot.state.context=Ot.state.context.prev}function _(t,e){var n=function(){var n=Ot.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new h(i,Ot.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function b(){var t=Ot.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function w(t){function e(n){return n==t?m():";"==t?f():m(e)}return e}function $(t,e){return"var"==t?m(_("vardef",e.length),K,w(";"),b):"keyword a"==t?m(_("form"),x,$,b):"keyword b"==t?m(_("form"),$,b):"{"==t?m(_("}"),B,b):";"==t?m():"if"==t?("else"==Ot.state.lexical.info&&Ot.state.cc[Ot.state.cc.length-1]==b&&Ot.state.cc.pop()(),m(_("form"),x,$,b,tt)):"function"==t?m(st):"for"==t?m(_("form"),et,$,b):"variable"==t?m(_("stat"),H):"switch"==t?m(_("form"),x,_("}","switch"),w("{"),B,b,b):"case"==t?m(x,w(":")):"default"==t?m(w(":")):"catch"==t?m(_("form"),v,w("("),at,w(")"),$,b,y):"class"==t?m(_("form"),lt,b):"export"==t?m(_("stat"),dt,b):"import"==t?m(_("stat"),pt,b):"module"==t?m(_("form"),X,_("}"),w("{"),B,b,b):"async"==t?m($):f(_("stat"),x,w(";"),b)}function x(t){return k(t,!1)}function C(t){return k(t,!0)}function k(t,e){if(Ot.state.fatArrowAt==Ot.stream.start){var n=e?I:M;if("("==t)return m(v,_(")"),j(X,")"),b,w("=>"),n,y);if("variable"==t)return f(v,X,w("=>"),n,y)}var i=e?A:D;return It.hasOwnProperty(t)?m(i):"function"==t?m(st,i):"keyword c"==t?m(e?S:T):"("==t?m(_(")"),T,_t,w(")"),b,i):"operator"==t||"spread"==t?m(e?C:x):"["==t?m(_("]"),vt,b,i):"{"==t?q(z,"}",null,i):"quasi"==t?f(E,i):"new"==t?m(O(e)):m()}function T(t){return t.match(/[;\}\)\],]/)?f():f(x)}function S(t){return t.match(/[;\}\)\],]/)?f():f(C)}function D(t,e){return","==t?m(x):A(t,e,!1)}function A(t,e,n){var i=0==n?D:A,r=0==n?x:C;return"=>"==t?m(v,n?I:M,y):"operator"==t?/\+\+|--/.test(e)?m(i):"?"==e?m(x,w(":"),r):m(r):"quasi"==t?f(E,i):";"!=t?"("==t?q(C,")","call",i):"."==t?m(R,i):"["==t?m(_("]"),T,w("]"),b,i):void 0:void 0}function E(t,e){return"quasi"!=t?f():"${"!=e.slice(e.length-2)?m(E):m(x,P)}function P(t){if("}"==t)return Ot.marked="string-2",Ot.state.tokenize=c,m(E)}function M(t){return u(Ot.stream,Ot.state),f("{"==t?$:x)}function I(t){return u(Ot.stream,Ot.state),f("{"==t?$:C)}function O(t){return function(e){return"."==e?m(t?L:N):f(t?C:x)}}function N(t,e){if("target"==e)return Ot.marked="keyword",m(D)}function L(t,e){if("target"==e)return Ot.marked="keyword",m(A)}function H(t){return":"==t?m(b,$):f(D,w(";"),b)}function R(t){if("variable"==t)return Ot.marked="property",m()}function z(t,e){return"variable"==t||"keyword"==Ot.style?(Ot.marked="property",m("get"==e||"set"==e?W:F)):"number"==t||"string"==t?(Ot.marked=kt?"property":Ot.style+" property",m(F)):"jsonld-keyword"==t?m(F):"modifier"==t?m(z):"["==t?m(x,w("]"),F):"spread"==t?m(x):void 0}function W(t){return"variable"!=t?f(F):(Ot.marked="property",m(st))}function F(t){return":"==t?m(C):"("==t?f(st):void 0}function j(t,e){function n(i,r){if(","==i){var o=Ot.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),m(t,n)}return i==e||r==e?m():m(w(e))}return function(i,r){return i==e||r==e?m():f(t,n)}}function q(t,e,n){for(var i=3;i<arguments.length;i++)Ot.cc.push(arguments[i]);return m(_(e,n),j(t,e),b)}function B(t){return"}"==t?m():f($,B)}function U(t){if(St&&":"==t)return m(Y)}function V(t,e){if("="==e)return m(C)}function Y(t){if("variable"==t)return Ot.marked="variable-3",m(G)}function G(t,e){return"<"==e?m(j(Y,">"),G):"["==t?m(w("]"),G):void 0}function K(){return f(X,U,J,Z)}function X(t,e){return"modifier"==t?m(X):"variable"==t?(g(e),m()):"spread"==t?m(X):"["==t?q(X,"]"):"{"==t?q(Q,"}"):void 0}function Q(t,e){return"variable"!=t||Ot.stream.match(/^\s*:/,!1)?("variable"==t&&(Ot.marked="property"),"spread"==t?m(X):"}"==t?f():m(w(":"),X,J)):(g(e),m(J))}function J(t,e){if("="==e)return m(C)}function Z(t){if(","==t)return m(K)}function tt(t,e){if("keyword b"==t&&"else"==e)return m(_("form","else"),$,b)}function et(t){if("("==t)return m(_(")"),nt,w(")"),b)}function nt(t){return"var"==t?m(K,w(";"),rt):";"==t?m(rt):"variable"==t?m(it):f(x,w(";"),rt)}function it(t,e){return"in"==e||"of"==e?(Ot.marked="keyword",m(x)):m(D,rt)}function rt(t,e){return";"==t?m(ot):"in"==e||"of"==e?(Ot.marked="keyword",m(x)):f(x,w(";"),ot)}function ot(t){")"!=t&&m(x)}function st(t,e){return"*"==e?(Ot.marked="keyword",m(st)):"variable"==t?(g(e),m(st)):"("==t?m(v,_(")"),j(at,")"),b,U,$,y):void 0}function at(t){return"spread"==t?m(at):f(X,U,V)}function lt(t,e){if("variable"==t)return g(e),m(ct)}function ct(t,e){return"extends"==e?m(x,ct):"{"==t?m(_("}"),ut,b):void 0}function ut(t,e){return"variable"==t||"keyword"==Ot.style?"static"==e?(Ot.marked="keyword",m(ut)):(Ot.marked="property","get"==e||"set"==e?m(ht,st,ut):m(st,ut)):"*"==e?(Ot.marked="keyword",m(ut)):";"==t?m(ut):"}"==t?m():void 0}function ht(t){return"variable"!=t?f():(Ot.marked="property",m())}function dt(t,e){return"*"==e?(Ot.marked="keyword",m(gt,w(";"))):"default"==e?(Ot.marked="keyword",m(x,w(";"))):f($)}function pt(t){return"string"==t?m():f(ft,gt)}function ft(t,e){return"{"==t?q(ft,"}"):("variable"==t&&g(e),"*"==e&&(Ot.marked="keyword"),m(mt))}function mt(t,e){if("as"==e)return Ot.marked="keyword",m(ft)}function gt(t,e){if("from"==e)return Ot.marked="keyword",m(x)}function vt(t){return"]"==t?m():f(C,yt)}function yt(t){return"for"==t?f(_t,w("]")):","==t?m(j(S,"]")):f(j(C,"]"))}function _t(t){return"for"==t?m(et,_t):"if"==t?m(x,_t):void 0}function bt(t,e){return"operator"==t.lastType||","==t.lastType||Et.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var wt,$t,xt=n.indentUnit,Ct=i.statementIndent,kt=i.jsonld,Tt=i.json||kt,St=i.typescript,Dt=i.wordCharacters||/[\w$\xa1-\uffff]/,At=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},s={"if":t("if"),"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":t("new"),"delete":i,"throw":i,"debugger":i,"var":t("var"),"const":t("var"),"let":t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),"class":t("class"),"super":t("atom"),"yield":i,"export":t("export"),"import":t("import"),"extends":i,await:i,async:t("async")};if(St){var a={type:"variable",style:"variable-3"},l={"interface":t("class"),"implements":i,namespace:i,module:t("module"),"enum":t("module"),"public":t("modifier"),"private":t("modifier"),"protected":t("modifier"),"abstract":t("modifier"),as:r,string:a,number:a,"boolean":a,any:a};for(var c in l)s[c]=l[c]}return s}(),Et=/[+\-*&%=<>!?|~^]/,Pt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Mt="([{}])",It={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ot={state:null,column:null,marked:null,cc:null},Nt={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(t){var e={tokenize:s,lastType:"sof",cc:[],lexical:new h((t||0)-xt,0,"block",(!1)),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:t||0};return i.globalVars&&"object"==typeof i.globalVars&&(e.globalVars=i.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=l&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==wt?n:(e.lastType="operator"!=wt||"++"!=$t&&"--"!=$t?wt:"incdec",p(e,n,wt,$t,t))},indent:function(e,n){if(e.tokenize==l)return t.Pass;if(e.tokenize!=s)return 0;var r=n&&n.charAt(0),o=e.lexical;if(!/^\s*else\b/.test(n))for(var a=e.cc.length-1;a>=0;--a){var c=e.cc[a];if(c==b)o=o.prev;else if(c!=tt)break}"stat"==o.type&&"}"==r&&(o=o.prev),Ct&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var u=o.type,h=r==u;return"vardef"==u?o.indented+("operator"==e.lastType||","==e.lastType?o.info+1:0):"form"==u&&"{"==r?o.indented:"form"==u?o.indented+xt:"stat"==u?o.indented+(bt(e,n)?Ct||xt:0):"switch"!=o.info||h||0==i.doubleIndentSwitch?o.align?o.column+(h?0:1):o.indented+(h?0:xt):o.indented+(/^(?:case|default)\b/.test(n)?xt:2*xt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Tt?null:"/*",blockCommentEnd:Tt?null:"*/",lineComment:Tt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Tt?"json":"javascript",jsonldMode:kt,jsonMode:Tt,expressionAllowed:e,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=x&&e!=C||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};t.defineMode("xml",function(i,r){function o(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();if("<"==i)return t.eat("!")?t.eat("[")?t.match("CDATA[")?n(l("atom","]]>")):null:t.match("--")?n(l("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(c(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=l("meta","?>"),"meta"):(T=t.eat("/")?"closeTag":"openTag",e.tokenize=s,"tag bracket");if("&"==i){var r;return r=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),r?"atom":"error"}return t.eatWhile(/[^&<]/),null}function s(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=o,T=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return T="equals",null;if("<"==n){e.tokenize=o,e.state=p,e.tagName=e.tagStart=null;var i=e.tokenize(t,e);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(e.tokenize=a(n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(t){var e=function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=s;break}return"string"};return e.isInAttribute=!0,e}function l(t,e){return function(n,i){for(;!n.eol();){if(n.match(e)){i.tokenize=o;break}n.next()}return t}}function c(t){return function(e,n){for(var i;null!=(i=e.next());){if("<"==i)return n.tokenize=c(t+1),n.tokenize(e,n);if(">"==i){if(1==t){n.tokenize=o;break}return n.tokenize=c(t-1),n.tokenize(e,n)}}return"meta"}}function u(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(x.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function h(t){t.context&&(t.context=t.context.prev)}function d(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!x.contextGrabbers.hasOwnProperty(n)||!x.contextGrabbers[n].hasOwnProperty(e))return;h(t)}}function p(t,e,n){return"openTag"==t?(n.tagStart=e.column(),f):"closeTag"==t?m:p}function f(t,e,n){return"word"==t?(n.tagName=e.current(),S="tag",y):(S="error",f)}function m(t,e,n){if("word"==t){var i=e.current();return n.context&&n.context.tagName!=i&&x.implicitlyClosed.hasOwnProperty(n.context.tagName)&&h(n),n.context&&n.context.tagName==i||x.matchClosing===!1?(S="tag",g):(S="tag error",v)}return S="error",v}function g(t,e,n){return"endTag"!=t?(S="error",g):(h(n),p)}function v(t,e,n){return S="error",g(t,e,n)}function y(t,e,n){if("word"==t)return S="attribute",_;if("endTag"==t||"selfcloseTag"==t){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||x.autoSelfClosers.hasOwnProperty(i)?d(n,i):(d(n,i),n.context=new u(n,i,r==n.indented)),p}return S="error",y}function _(t,e,n){return"equals"==t?b:(x.allowMissing||(S="error"),y(t,e,n))}function b(t,e,n){return"string"==t?w:"word"==t&&x.allowUnquoted?(S="string",y):(S="error",y(t,e,n))}function w(t,e,n){return"string"==t?w:y(t,e,n)}var $=i.indentUnit,x={},C=r.htmlMode?e:n;for(var k in C)x[k]=C[k];for(var k in r)x[k]=r[k];var T,S;return o.isInText=!0,{startState:function(t){var e={tokenize:o,state:p,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;T=null;var n=e.tokenize(t,e);return(n||T)&&"comment"!=n&&(S=null,e.state=e.state(T||n,t,e),S&&(n="error"==S?n+" error":S)),n},indent:function(e,n,i){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+$;if(r&&r.noIndent)return t.Pass;if(e.tokenize!=s&&e.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return x.multilineTagIndentPastTag!==!1?e.tagStart+e.tagName.length+2:e.tagStart+$*(x.multilineTagIndentFactor||1);if(x.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!x.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=x.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+$:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:x.htmlMode?"html":"xml",helperType:x.htmlMode?"html":"xml",skipAttribute:function(t){t.state==b&&(t.state=y)}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,r=arguments[0],o="["+(t?t+":":"")+r+"] ",s=arguments[1],a=arguments;for(n=o+s.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<a.length?dt(a[e+2]):t}),n=n+"\nhttp://errors.angularjs.org/1.3.20/"+(t?t+"/":"")+r,i=2;i<arguments.length;i++)n=n+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(dt(arguments[i]));return new e(n)}}function r(t){if(null==t||k(t))return!1;var e="length"in Object(t)&&t.length;return!(t.nodeType!==bi||!e)||(b(t)||pi(t)||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e,n){var i,s;if(t)if(x(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(pi(t)||r(t)){var a="object"!=typeof t;for(i=0,s=t.length;i<s;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);return t}function s(t){return Object.keys(t).sort()}function a(t,e,n){for(var i=s(t),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function l(t){return function(e,n){t(n,e)}}function c(){return++hi}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function h(t){for(var e=t.$$hashKey,n=1,i=arguments.length;n<i;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),s=0,a=o.length;s<a;s++){var l=o[s];t[l]=r[l]}}return u(t,e),t}function d(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function f(){}function m(t){return t}function g(t){return function(){return t}}function v(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function b(t){return"string"==typeof t}function w(t){return"number"==typeof t}function $(t){return"[object Date]"===li.call(t)}function x(t){return"function"==typeof t}function C(t){return"[object RegExp]"===li.call(t)}function k(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"[object File]"===li.call(t)}function D(t){return"[object FormData]"===li.call(t)}function A(t){return"[object Blob]"===li.call(t)}function E(t){return"boolean"==typeof t}function P(t){return t&&x(t.then)}function M(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function O(t){return Xn(t.nodeName||t[0]&&t[0].nodeName)}function N(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function L(t,e,n,i){if(k(t)||T(t))throw ci("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw ci("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],_(t)){var r=n.indexOf(t);if(r!==-1)return i[r];n.push(t),i.push(e)}var s;if(pi(t)){e.length=0;for(var a=0;a<t.length;a++)s=L(t[a],null,n,i),_(t[a])&&(n.push(t[a]),i.push(s)),e.push(s)}else{var l=e.$$hashKey;pi(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var c in t)t.hasOwnProperty(c)&&(s=L(t[c],null,n,i),_(t[c])&&(n.push(t[c]),i.push(s)),e[c]=s);u(e,l)}}else if(e=t,t)if(pi(t))e=L(t,[],n,i);else if($(t))e=new Date(t.getTime());else if(C(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(_(t)){var h=Object.create(Object.getPrototypeOf(t));e=L(t,h,n,i)}return e}function H(t,e){if(pi(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function R(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r,o,s=typeof t,a=typeof e;if(s==a&&"object"==s){if(!pi(t)){if($(t))return!!$(e)&&R(t.getTime(),e.getTime());if(C(t))return!!C(e)&&t.toString()==e.toString();if(T(t)||T(e)||k(t)||k(e)||pi(e)||$(e)||C(e))return!1;o={};for(r in t)if("$"!==r.charAt(0)&&!x(t[r])){if(!R(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e[r]!==n&&!x(e[r]))return!1;return!0}if(!pi(e))return!1;if((i=t.length)==e.length){for(r=0;r<i;r++)if(!R(t[r],e[r]))return!1;return!0}}return!1}function z(t,e,n){return t.concat(oi.call(e,n))}function W(t,e){return oi.call(t,e||0)}function F(t,e){var n=arguments.length>2?W(arguments,2):[];return!x(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,z(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function j(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:k(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":T(i)&&(r="$SCOPE"),r}function q(t,e){return"undefined"==typeof t?n:(w(e)||(e=e?2:null),JSON.stringify(t,j,e))}function B(t){return b(t)?JSON.parse(t):t}function U(t){t=ni(t).clone();try{t.empty()}catch(e){}var n=ni("<div>").append(t).html();try{return t[0].nodeType===$i?Xn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Xn(e)})}catch(e){return Xn(n)}}function V(t){try{return decodeURIComponent(t)}catch(e){}}function Y(t){var e,n,i={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=V(e[0]),y(n))){var r=!y(e[1])||V(e[1]);Qn.call(i,n)?pi(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function G(t){var e=[];return o(t,function(t,n){pi(t)?o(t,function(t){e.push(X(n,!0)+(t===!0?"":"="+X(t,!0)))}):e.push(X(n,!0)+(t===!0?"":"="+X(t,!0)))}),e.length?e.join("&"):""}function K(t){return X(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Q(t,e){var n,i,r=vi.length;for(t=ni(t),i=0;i<r;++i)if(n=vi[i]+e,b(n=t.attr(n)))return n;return null}function J(t,e){var n,i,r={};o(vi,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),o(vi,function(e){var r,o=e+"app";!n&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(r.strictDi=null!==Q(n,"strict-di"),e(n,i?[i]:[],r))}function Z(n,i,r){_(r)||(r={});var s={strictDi:!1};r=h(s,r);var a=function(){if(n=ni(n),n.injector()){var t=n[0]===e?"document":U(n);throw ci("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var o=Bt(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!c.test(t.name)?a():(t.name=t.name.replace(c,""),ui.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),a()},void(x(ui.resumeDeferredBootstrap)&&ui.resumeDeferredBootstrap()))}function tt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function et(t){var e=ui.element(t).injector();if(!e)throw ci("test","no injector found for element argument to getTestability");return e.get("$$testability")}function nt(t,e){return e=e||"_",t.replace(yi,function(t,n){return(n?e:"")+t.toLowerCase()})}function it(){var e;_i||(ii=t.jQuery,ii&&ii.fn.on?(ni=ii,h(ii.fn,{scope:Wi.scope,isolateScope:Wi.isolateScope,controller:Wi.controller,injector:Wi.injector,inheritedData:Wi.inheritedData}),e=ii.cleanData,ii.cleanData=function(t){var n;if(di)di=!1;else for(var i,r=0;null!=(i=t[r]);r++)n=ii._data(i,"events"),n&&n.$destroy&&ii(i).triggerHandler("$destroy");e(t)}):ni=bt,ui.element=ni,_i=!0)}function rt(t,e,n){if(!t)throw ci("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ot(t,e,n){return n&&pi(t)&&(t=t[t.length-1]),rt(x(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function st(t,e){if("hasOwnProperty"===t)throw ci("badname","hasOwnProperty is not a valid {0} name",e)}function at(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,s=r.length,a=0;a<s;a++)i=r[a],t&&(t=(o=t)[i]);return!n&&x(t)?F(o,t):t}function lt(t){var e=t[0],n=t[t.length-1],i=[e];do{if(e=e.nextSibling,!e)break;i.push(e)}while(e!==n);return ni(i)}function ct(){return Object.create(null)}function ut(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||i,e(o,"module",function(){var t={};return function(i,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return a(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],a=[],l=t("$injector","invoke","push",r),c={_invokeQueue:e,_configBlocks:r,_runBlocks:a,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(t){return a.push(t),this}};return s&&l(s),c})}})}function ht(t){var e=[];return JSON.stringify(t,function(t,n){if(n=j(t,n),_(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function dt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?ht(t):t}function pt(e){h(e,{bootstrap:Z,copy:L,extend:h,equals:R,element:ni,forEach:o,injector:Bt,noop:f,bind:F,toJson:q,fromJson:B,identity:m,isUndefined:v,isDefined:y,isString:b,isFunction:x,isObject:_,isNumber:w,isElement:M,isArray:pi,version:Ti,isDate:$,lowercase:Xn,uppercase:Jn,callbacks:{counter:0},getTestability:et,$$minErr:i,$$csp:gi,reloadWithDebugInfo:tt}),ri=ut(t);try{ri("ngLocale")}catch(n){ri("ngLocale",[]).provider("$locale",ge)}ri("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ke}),t.provider("$compile",Qt).directive({a:Mr,input:Kr,textarea:Kr,form:Hr,script:zo,select:jo,style:Bo,option:qo,ngBind:Jr,ngBindHtml:to,ngBindTemplate:Zr,ngClass:no,ngClassEven:ro,ngClassOdd:io,ngCloak:oo,ngController:so,ngForm:Rr,ngHide:Io,ngIf:co,ngInclude:uo,ngInit:po,ngNonBindable:So,ngPluralize:Do,ngRepeat:Ao,ngShow:Mo,ngStyle:Oo,ngSwitch:No,ngSwitchWhen:Lo,ngSwitchDefault:Ho,ngOptions:Fo,ngTransclude:Ro,ngModel:Co,ngList:fo,ngChange:eo,pattern:Vo,ngPattern:Vo,required:Uo,ngRequired:Uo,minlength:Go,ngMinlength:Go,maxlength:Yo,ngMaxlength:Yo,ngValue:Qr,ngModelOptions:To}).directive({ngInclude:ho}).directive(Ir).directive(ao),t.provider({$anchorScroll:Ut,$animate:Xi,$browser:Gt,$cacheFactory:Kt,$controller:ee,$document:ne,$exceptionHandler:ie,$filter:ln,$interpolate:fe,$interval:me,$http:ue,$httpBackend:de,$location:Ee,$log:Pe,$parse:qe,$rootScope:Ge,$q:Be,$$q:Ue,$sce:Ze,$sceDelegate:Je,$sniffer:tn,$templateCache:Xt,$templateRequest:en,$$testability:nn,$timeout:rn,$window:an,$$rAF:Ye,$$asyncCallback:Vt,$$jqLite:zt})}])}function ft(){return++Di}function mt(t){return t.replace(Pi,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Mi,"Moz$1")}function gt(t){return!Li.test(t)}function vt(t){var e=t.nodeType;return e===bi||!e||e===Ci}function yt(t,e){var n,i,r,s,a=e.createDocumentFragment(),l=[];if(gt(t))l.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),i=(Hi.exec(t)||["",""])[1].toLowerCase(),r=zi[i]||zi._default,n.innerHTML=r[1]+t.replace(Ri,"<$1></$2>")+r[2],s=r[0];s--;)n=n.lastChild;l=z(l,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",o(l,function(t){a.appendChild(t)}),a}function _t(t,n){n=n||e;var i;return(i=Ni.exec(t))?[n.createElement(i[1])]:(i=yt(t,n))?i.childNodes:[]}function bt(t){if(t instanceof bt)return t;var e;if(b(t)&&(t=fi(t),e=!0),!(this instanceof bt)){if(e&&"<"!=t.charAt(0))throw Oi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new bt(t)}e?Et(this,_t(t)):Et(this,t)}function wt(t){return t.cloneNode(!0)}function $t(t,e){if(e||Ct(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Ct(n[i])}function xt(t,e,n,i){if(y(i))throw Oi("offargs","jqLite#off() does not support the `selector` argument");var r=kt(t),s=r&&r.events,a=r&&r.handle;if(a)if(e)o(e.split(" "),function(e){if(y(n)){var i=s[e];if(N(i||[],n),i&&i.length>0)return}Ei(t,e,a),delete s[e]});else for(e in s)"$destroy"!==e&&Ei(t,e,a),delete s[e]}function Ct(t,e){var i=t.ng339,r=i&&Si[i];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),xt(t)),delete Si[i],t.ng339=n}}function kt(t,e){var i=t.ng339,r=i&&Si[i];return e&&!r&&(t.ng339=i=ft(),r=Si[i]={events:{},data:{},handle:n}),r}function Tt(t,e,n){if(vt(t)){var i=y(n),r=!i&&e&&!_(e),o=!e,s=kt(t,!r),a=s&&s.data;if(i)a[e]=n;else{if(o)return a;if(r)return a&&a[e];h(a,e)}}}function St(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Dt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",fi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fi(e)+" "," ")))})}function At(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=fi(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",fi(n))}}function Et(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Pt(t,e){return Mt(t,"$"+(e||"ngController")+"Controller")}function Mt(t,e,i){t.nodeType==Ci&&(t=t.documentElement);for(var r=pi(e)?e:[e];t;){for(var o=0,s=r.length;o<s;o++)if((i=ni.data(t,r[o]))!==n)return i;t=t.parentNode||t.nodeType===ki&&t.host}}function It(t){for($t(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ot(t,e){e||$t(t);var n=t.parentNode;n&&n.removeChild(t)}function Nt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):ni(n).on("load",e)}function Lt(t,e){var n=Fi[e.toLowerCase()];return n&&ji[O(t)]&&n}function Ht(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&qi[e]}function Rt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(r=H(r));for(var a=0;a<o;a++)n.isImmediatePropagationStopped()||r[a].call(t,n)}};return n.elem=t,n}function zt(){this.$get=function(){return h(bt,{hasClass:function(t,e){return t.attr&&(t=t[0]),St(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),At(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Dt(t,e)}})}}function Wt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||c)():i+":"+t}function Ft(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function jt(t){var e=t.toString().replace(Yi,""),n=e.match(Bi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function qt(t,e,n){var i,r,s,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw b(n)&&n||(n=t.name||jt(t)),Gi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=t.toString().replace(Yi,""),s=r.match(Bi),o(s[1].split(Ui),function(t){t.replace(Vi,function(t,e,n){i.push(n);
})})}t.$inject=i}}else pi(t)?(a=t.length-1,ot(t[a],"fn"),i=t.slice(0,a)):ot(t,"fn",!0);return i}function Bt(t,e){function i(t){return function(e,n){return _(e)?void o(e,l(t)):t(e,n)}}function r(t,e){if(st(t,"service"),(x(e)||pi(e))&&(e=T.instantiate(e)),!e.$get)throw Gi("pget","Provider '{0}' must define $get factory method.",t);return k[t+w]=e}function s(t,e){return function(){var n=D.invoke(e,this);if(v(n))throw Gi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:n!==!1?s(t,e):e})}function c(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return a(t,g(e),!1)}function h(t,e){st(t,"constant"),k[t]=e,S[t]=e}function d(t,e){var n=T.get(t+w),i=n.$get;n.$get=function(){var t=D.invoke(i,n);return D.invoke(e,null,{$delegate:t})}}function p(t){var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=T.get(i[0]);r[i[1]].apply(r,i[2])}}if(!C.get(t)){C.put(t,!0);try{b(t)?(e=ri(t),n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):x(t)?n.push(T.invoke(t)):pi(t)?n.push(T.invoke(t)):ot(t,"module")}catch(r){throw pi(t)&&(t=t[t.length-1]),r.message&&r.stack&&r.stack.indexOf(r.message)==-1&&(r=r.message+"\n"+r.stack),Gi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function m(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===y)throw Gi("cdep","Circular dependency found: {0}",e+" <- "+$.join(" <- "));return t[e]}try{return $.unshift(e),t[e]=y,t[e]=n(e,i)}catch(r){throw t[e]===y&&delete t[e],r}finally{$.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,c=[],u=Bt.$$annotate(t,e,o);for(a=0,s=u.length;a<s;a++){if(l=u[a],"string"!=typeof l)throw Gi("itkn","Incorrect injection token! Expected service name as string, got {0}",l);c.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return pi(t)&&(t=t[s]),t.apply(n,c)}function o(t,e,n){var i=Object.create((pi(t)?t[t.length-1]:t).prototype||null),o=r(t,i,e,n);return _(o)||x(o)?o:i}return{invoke:r,instantiate:o,get:i,annotate:Bt.$$annotate,has:function(e){return k.hasOwnProperty(e+w)||t.hasOwnProperty(e)}}}e=e===!0;var y={},w="Provider",$=[],C=new Ft([],(!0)),k={$provide:{provider:i(r),factory:i(a),service:i(c),value:i(u),constant:i(h),decorator:d}},T=k.$injector=m(k,function(t,e){throw ui.isString(e)&&$.push(e),Gi("unpr","Unknown provider: {0}",$.join(" <- "))}),S={},D=S.$injector=m(S,function(t,e){var i=T.get(t+w,e);return D.invoke(i.$get,i,n,t)});return o(p(t),function(t){D.invoke(t||f)}),D}function Ut(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===O(t))return e=t,!0}),e}function o(){var t=a.yOffset;if(x(t))t=t();else if(M(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function a(){var t,e=n.hash();e?(t=l.getElementById(e))?s(t):(t=r(l.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Nt(function(){i.$evalAsync(a)})}),a}]}function Vt(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Yt(t,e,i,r){function s(t){try{t.apply(null,W(arguments,1))}finally{if(C--,0===C)for(;k.length;)try{k.pop()()}catch(e){i.error(e)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function l(t,e){!function n(){o(S,function(t){t()}),T=e(n,t)}()}function c(){h(),d()}function u(){try{return _.state}catch(t){}}function h(){D=u(),D=v(D)?null:D,R(D,N)&&(D=N),N=D}function d(){E===m.url()&&A===D||(E=m.url(),A=D,o(I,function(t){t(m.url(),D)}))}function p(t){try{return decodeURIComponent(t)}catch(e){return t}}var m=this,g=e[0],y=t.location,_=t.history,w=t.setTimeout,$=t.clearTimeout,x={};m.isMock=!1;var C=0,k=[];m.$$completeOutstandingRequest=s,m.$$incOutstandingRequestCount=function(){C++},m.notifyWhenNoOutstandingRequests=function(t){o(S,function(t){t()}),0===C?t():k.push(t)};var T,S=[];m.addPollFn=function(t){return v(T)&&l(100,w),S.push(t),t};var D,A,E=y.href,P=e.find("base"),M=null;h(),A=D,m.url=function(e,n,i){if(v(i)&&(i=null),y!==t.location&&(y=t.location),_!==t.history&&(_=t.history),e){var o=A===i;if(E===e&&(!r.history||o))return m;var s=E&&we(E)===we(e);return E=e,A=i,!r.history||s&&o?(s&&!M||(M=e),n?y.replace(e):s?y.hash=a(e):y.href=e):(_[n?"replaceState":"pushState"](i,"",e),h(),A=D),m}return M||y.href.replace(/%27/g,"'")},m.state=function(){return D};var I=[],O=!1,N=null;m.onUrlChange=function(e){return O||(r.history&&ni(t).on("popstate",c),ni(t).on("hashchange",c),O=!0),I.push(e),e},m.$$checkUrlChange=d,m.baseHref=function(){var t=P.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var L={},H="",z=m.baseHref();m.cookies=function(t,e){var r,o,s,a,l;if(!t){if(g.cookie!==H)for(H=g.cookie,o=H.split("; "),L={},a=0;a<o.length;a++)s=o[a],l=s.indexOf("="),l>0&&(t=p(s.substring(0,l)),L[t]===n&&(L[t]=p(s.substring(l+1))));return L}e===n?g.cookie=encodeURIComponent(t)+"=;path="+z+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(e)&&(r=(g.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+z).length+1,r>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},m.defer=function(t,e){var n;return C++,n=w(function(){delete x[n],s(t)},e||0),x[n]=!0,n},m.defer.cancel=function(t){return!!x[t]&&(delete x[t],$(t),s(f),!0)}}function Gt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Yt(t,i,e,n)}]}function Kt(){this.$get=function(){function t(t,n){function r(t){t!=d&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,d),d=t,d.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=h({},n,{id:t}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},d=null,p=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=u[t]||(u[t]={key:t});r(n)}if(!v(e))return t in l||s++,l[t]=e,s>c&&this.remove(p.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=u[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=u[t];if(!e)return;e==d&&(d=e.p),e==p&&(p=e.n),o(e.n,e.p),delete u[t]}delete l[t],s--},removeAll:function(){l={},s=0,u={},d=p=null},destroy:function(){l=null,a=null,u=null,delete e[t]},info:function(){return h({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Xt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Qt(t,i){function r(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,r){var o=t.match(n);if(!o)throw Qi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}var s={},a="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=I("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function C(e,n){return st(e,"directive"),b(e)?(rt(n,"directiveFactory"),s.hasOwnProperty(e)||(s[e]=[],t.factory(e+a,["$injector","$exceptionHandler",function(t,n){var i=[];return o(s[e],function(o,s){try{var a=t.invoke(o);x(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",_(a.scope)&&(a.$$isolateBindings=r(a.scope,a.name)),i.push(a)}catch(l){n(l)}}),i}])),s[e].push(n)):o(e,l(C)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(t){return y(t)?($=t,this):$},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,l,g,y,C,k,S,D,A){function E(t,e){try{t.addClass(e)}catch(n){}}function P(t,e,n,i,r){t instanceof ni||(t=ni(t)),o(t,function(e,n){e.nodeType==$i&&e.nodeValue.match(/\S+/)&&(t[n]=ni(e).wrap("<span></span>").parent()[0])});var s=I(t,e,t,n,i,r);P.$$addScopeClass(t);var a=null;return function(e,n,i){rt(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers,l=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=M(l));var c;if(c="html"!==a?ni(J(a,ni("<div>").append(t).html())):n?Wi.clone.call(t):t,o)for(var u in o)c.data("$"+u+"Controller",o[u].instance);return P.$$addScopeInfo(c,e),n&&n(c,e),s&&s(e,c,c,r),c}}function M(t){var e=t&&t[0];return e&&"foreignobject"!==O(e)&&e.toString().match(/SVG/)?"svg":"html"}function I(t,e,i,r,o,s){function a(t,i,r,o){var s,a,l,c,u,h,d,p,g;if(f){var v=i.length;for(g=new Array(v),u=0;u<m.length;u+=3)d=m[u],g[d]=i[d]}else g=i;for(u=0,h=m.length;u<h;)l=g[m[u++]],s=m[u++],a=m[u++],s?(s.scope?(c=t.$new(),P.$$addScopeInfo(ni(l),c)):c=t,p=s.transcludeOnThisElement?L(t,s.transclude,o,s.elementTranscludeOnThisElement):!s.templateOnThisElement&&o?o:!o&&e?L(t,e):null,s(a,c,l,r,p)):a&&a(t,l.childNodes,n,o)}for(var l,c,u,h,d,p,f,m=[],g=0;g<t.length;g++)l=new st,c=H(t[g],[],l,0===g?r:n,o),u=c.length?j(c,t[g],l,e,i,null,[],[],s):null,u&&u.scope&&P.$$addScopeClass(l.$$element),d=u&&u.terminal||!(h=t[g].childNodes)||!h.length?null:I(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(m.push(g,u,d),p=!0,f=f||u),s=null;return p?a:null}function L(t,e,n,i){var r=function(i,r,o,s,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})};return r}function H(t,e,n,i,r){var o,s,a=t.nodeType,l=n.$attr;switch(a){case bi:B(e,Jt(O(t)),"E",i,r);for(var h,d,p,f,m,g,v=t.attributes,y=0,w=v&&v.length;y<w;y++){var $=!1,x=!1;h=v[y],d=h.name,m=fi(h.value),f=Jt(d),(g=ht.test(f))&&(d=d.replace(Ji,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=f.replace(/(Start|End)$/,"");V(C)&&f===C+"Start"&&($=d,x=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p=Jt(d.toLowerCase()),l[p]=d,!g&&n.hasOwnProperty(p)||(n[p]=m,Lt(t,p)&&(n[p]=!0)),tt(t,e,m,p,g),B(e,p,"A",i,r,$,x)}if(s=t.className,_(s)&&(s=s.animVal),b(s)&&""!==s)for(;o=u.exec(s);)p=Jt(o[2]),B(e,p,"C",i,r)&&(n[p]=fi(o[3])),s=s.substr(o.index+o[0].length);break;case $i:Q(e,t.nodeValue);break;case xi:try{o=c.exec(t.nodeValue),o&&(p=Jt(o[1]),B(e,p,"M",i,r)&&(n[p]=fi(o[2])))}catch(k){}}return e.sort(K),e}function z(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Qi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==bi&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return ni(i)}function F(t,e,n){return function(i,r,o,s,a){return r=z(r[0],e,n),t(i,r,o,s,a)}}function j(t,s,a,l,c,u,h,d,p){function f(t,e,n,i){t&&(n&&(t=F(t,n,i)),t.require=k.require,t.directiveName=S,(O===k||k.$$isolateScope)&&(t=it(t,{isolateScope:!0})),h.push(t)),e&&(n&&(e=F(e,n,i)),e.require=k.require,e.directiveName=S,(O===k||k.$$isolateScope)&&(e=it(e,{isolateScope:!0})),d.push(e))}function m(t,e,n,i){var r,s,a="data",l=!1,c=n;if(b(e)){if(s=e.match(v),e=e.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",c=n.parent()),"?"===s[2]&&(l=!0),r=null,i&&"data"===a&&(r=i[e])&&(r=r.instance),r=r||c[a]("$"+e+"Controller"),!r&&!l)throw Qi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return r||null}return pi(e)&&(r=[],o(e,function(e){r.push(m(t,e,n,i))})),r}function w(t,e,r,l,c){function u(t,e,i){var r;return T(t)||(i=e,e=t,t=n),V&&(r=w),i||(i=V?x.parent():x),c(t,e,r,i,A)}var p,f,v,_,b,w,$,x,k;if(s===r?(k=a,x=a.$$element):(x=ni(r),k=new st(x,a)),O&&(b=e.$new(!0)),c&&($=u,$.$$boundTransclude=c),I&&(C={},w={},o(I,function(t){var n,i={$scope:t===O||t.$$isolateScope?b:e,$element:x,$attrs:k,$transclude:$};_=t.controller,"@"==_&&(_=k[t.name]),n=y(_,i,!0,t.controllerAs),w[t.name]=n,V||x.data("$"+t.name+"Controller",n.instance),C[t.name]=n})),O){P.$$addScopeInfo(x,b,!0,!(N&&(N===O||N===O.$$originalDirective))),P.$$addScopeClass(x,!0);var S=C&&C[O.name],D=b;S&&S.identifier&&O.bindToController===!0&&(D=S.instance),o(b.$$isolateBindings=O.$$isolateBindings,function(t,n){var r,o,s,a,l=t.attrName,c=t.optional,u=t.mode;switch(u){case"@":k.$observe(l,function(t){D[n]=t}),k.$$observers[l].$$scope=e,k[l]&&(D[n]=i(k[l])(e));break;case"=":if(c&&!k[l])return;o=g(k[l]),a=o.literal?R:function(t,e){return t===e||t!==t&&e!==e},s=o.assign||function(){throw r=D[n]=o(e),Qi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",k[l],O.name)},r=D[n]=o(e);var h=function(t){return a(t,D[n])||(a(t,r)?s(e,t=D[n]):D[n]=t),r=t};h.$stateful=!0;var d;d=t.collection?e.$watchCollection(k[l],h):e.$watch(g(k[l],h),null,o.literal),b.$on("$destroy",d);break;case"&":o=g(k[l]),D[n]=function(t){return o(e,t)}}})}for(C&&(o(C,function(t){t()}),C=null),p=0,f=h.length;p<f;p++)v=h[p],ot(v,v.isolateScope?b:e,x,k,v.require&&m(v.directiveName,v.require,x,w),$);var A=e;for(O&&(O.template||null===O.templateUrl)&&(A=b),t&&t(A,r.childNodes,n,c),p=d.length-1;p>=0;p--)v=d[p],ot(v,v.isolateScope?b:e,x,k,v.require&&m(v.directiveName,v.require,x,w),$)}p=p||{};for(var $,C,k,S,D,A,E,M=-Number.MAX_VALUE,I=p.controllerDirectives,O=p.newIsolateScopeDirective,N=p.templateDirective,L=p.nonTlbTranscludeDirective,j=!1,B=!1,V=p.hasElementTranscludeDirective,K=a.$$element=ni(s),Q=u,Z=l,tt=0,nt=t.length;tt<nt;tt++){k=t[tt];var rt=k.$$start,at=k.$$end;if(rt&&(K=z(s,rt,at)),D=n,M>k.priority)break;if((E=k.scope)&&(k.templateUrl||(_(E)?(X("new/isolated scope",O||$,k,K),O=k):X("new/isolated scope",O,k,K)),$=$||k),S=k.name,!k.templateUrl&&k.controller&&(E=k.controller,I=I||{},X("'"+S+"' controller",I[S],k,K),I[S]=k),(E=k.transclude)&&(j=!0,k.$$tlb||(X("transclusion",L,k,K),L=k),"element"==E?(V=!0,M=k.priority,D=K,K=a.$$element=ni(e.createComment(" "+S+": "+a[S]+" ")),s=K[0],et(c,W(D),s),Z=P(D,l,M,Q&&Q.name,{nonTlbTranscludeDirective:L})):(D=ni(wt(s)).contents(),K.empty(),Z=P(D,l))),k.template)if(B=!0,X("template",N,k,K),N=k,E=x(k.template)?k.template(K,a):k.template,E=ut(E),k.replace){if(Q=k,D=gt(E)?[]:te(J(k.templateNamespace,fi(E))),s=D[0],1!=D.length||s.nodeType!==bi)throw Qi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");et(c,K,s);var lt={$attr:{}},ct=H(s,[],lt),ht=t.splice(tt+1,t.length-(tt+1));O&&q(ct),t=t.concat(ct).concat(ht),Y(a,lt),nt=t.length}else K.html(E);if(k.templateUrl)B=!0,X("template",N,k,K),N=k,k.replace&&(Q=k),w=G(t.splice(tt,t.length-tt),K,a,c,j&&Z,h,d,{controllerDirectives:I,newIsolateScopeDirective:O,templateDirective:N,nonTlbTranscludeDirective:L}),nt=t.length;else if(k.compile)try{A=k.compile(K,a,Z),x(A)?f(null,A,rt,at):A&&f(A.pre,A.post,rt,at)}catch(dt){r(dt,U(K))}k.terminal&&(w.terminal=!0,M=Math.max(M,k.priority))}return w.scope=$&&$.scope===!0,w.transcludeOnThisElement=j,w.elementTranscludeOnThisElement=V,w.templateOnThisElement=B,w.transclude=Z,p.hasElementTranscludeDirective=V,w}function q(t){for(var e=0,n=t.length;e<n;e++)t[e]=p(t[e],{$$isolateScope:!0})}function B(e,i,o,l,c,u,h){if(i===c)return null;var d=null;if(s.hasOwnProperty(i))for(var f,m=t.get(i+a),g=0,v=m.length;g<v;g++)try{f=m[g],(l===n||l>f.priority)&&f.restrict.indexOf(o)!=-1&&(u&&(f=p(f,{$$start:u,$$end:h})),e.push(f),d=f)}catch(y){r(y)}return d}function V(e){if(s.hasOwnProperty(e))for(var n,i=t.get(e+a),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(E(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function G(t,e,n,i,r,s,a,c){var u,h,d=[],f=e[0],m=t.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=x(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,y=m.templateNamespace;return e.empty(),l(v).then(function(l){var p,b,w,$;if(l=ut(l),m.replace){if(w=gt(l)?[]:te(J(y,fi(l))),p=w[0],1!=w.length||p.nodeType!==bi)throw Qi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);b={$attr:{}},et(i,e,p);var x=H(p,[],b);_(m.scope)&&q(x),t=x.concat(t),Y(n,b)}else p=f,e.html(l);for(t.unshift(g),u=j(t,p,n,r,e,m,s,a,c),o(i,function(t,n){t==p&&(i[n]=e[0])}),h=I(e[0].childNodes,r);d.length;){var C=d.shift(),k=d.shift(),T=d.shift(),S=d.shift(),D=e[0];if(!C.$$destroyed){if(k!==f){var A=k.className;c.hasElementTranscludeDirective&&m.replace||(D=wt(p)),et(T,ni(k),D),E(ni(D),A)}$=u.transcludeOnThisElement?L(C,u.transclude,S):S,u(h,C,D,i,$)}}d=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(d?d.push(e,n,i,o):(u.transcludeOnThisElement&&(o=L(e,u.transclude,r)),u(h,e,n,i,o)))}}function K(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function X(t,e,n,i){if(e)throw Qi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,U(i))}function Q(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&P.$$addBindingClass(e),function(t,e){var r=e.parent();i||P.$$addBindingClass(r),P.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function J(t,n){switch(t=Xn(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Z(t,e){if("srcdoc"==e)return S.HTML;var n=O(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function tt(t,e,n,r,o){var s=Z(t,r);o=d[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===O(t))throw Qi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",U(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var c=l.$$observers||(l.$$observers={});if(w.test(r))throw Qi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[r];u!==n&&(a=u&&i(u,!0,s,o),n=u),a&&(l[r]=a(t),(c[r]||(c[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function et(t,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]==s){t[r++]=i;for(var c=r,u=c+a-1,h=t.length;c<h;c++,u++)u<h?t[c]=t[u]:delete t[c];t.length-=a-1,t.context===s&&(t.context=i);break}l&&l.replaceChild(i,s);var d=e.createDocumentFragment();d.appendChild(s),ni(i).data(ni(s).data()),ii?(di=!0,ii.cleanData([s])):delete ni.cache[s[ni.expando]];for(var p=1,f=n.length;p<f;p++){var m=n[p];ni(m).remove(),d.appendChild(m),delete n[p]}n[0]=i,n.length=1}function it(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function ot(t,e,n,i,o,s){try{t(e,n,i,o,s)}catch(a){r(a,U(n))}}var st=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};st.prototype={$normalize:Jt,$addClass:function(t){t&&t.length>0&&D.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&D.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Zt(t,e);n&&n.length&&D.addClass(this.$$element,n);var i=Zt(e,t);i&&i.length&&D.removeClass(this.$$element,i)},$set:function(t,e,i,s){var a,l=this.$$element[0],c=Lt(l,t),u=Ht(l,t),h=t;if(c?(this.$$element.prop(t,e),s=c):u&&(this[u]=e,h=u),this[t]=e,s?this.$attr[t]=s:(s=this.$attr[t],s||(this.$attr[t]=s=nt(t,"-"))),a=O(this.$$element),"a"===a&&"href"===t||"img"===a&&"src"===t)this[t]=e=A(e,"src"===t);else if("img"===a&&"srcset"===t){for(var d="",p=fi(e),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(p)?f:/(,)/,g=p.split(m),v=Math.floor(g.length/2),y=0;y<v;y++){var _=2*y;d+=A(fi(g[_]),!0),d+=" "+fi(g[_+1])}var b=fi(g[2*y]).split(/\s/);d+=A(fi(b[0]),!0),2===b.length&&(d+=" "+fi(b[1])),this[t]=e=d}i!==!1&&(null===e||e===n?this.$$element.removeAttr(s):this.$$element.attr(s,e));var w=this.$$observers;w&&o(w[h],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ct()),r=i[t]||(i[t]=[]);return r.push(e),C.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){N(r,e)}}};var at=i.startSymbol(),lt=i.endSymbol(),ut="{{"==at||"}}"==lt?m:function(t){return t.replace(/\{\{/g,at).replace(/}}/g,lt)},ht=/^ngAttr[A-Z]/;return P.$$addBindingInfo=$?function(t,e){var n=t.data("$binding")||[];pi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,P.$$addBindingClass=$?function(t){E(t,"ng-binding")}:f,P.$$addScopeInfo=$?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:f,P.$$addScopeClass=$?function(t,e){E(t,e?"ng-isolate-scope":"ng-scope")}:f,P}]}function Jt(t){return mt(t.replace(Ji,""))}function Zt(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(n.length>0?" ":"")+s}return n}function te(t){t=ni(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];n.nodeType===xi&&si.call(t,e,1)}return t}function ee(){var t={},e=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){st(e,"controller"),_(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,s){function a(t,e,n,r){if(!t||!_(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,l,c,u){var d,p,f,m;if(c=c===!0,u&&b(u)&&(m=u),b(i)){if(p=i.match(r),!p)throw Zi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=p[1],m=m||p[3],i=t.hasOwnProperty(f)?t[f]:at(l.$scope,f,!0)||(e?at(s,f,!0):n),ot(i,f,!0)}if(c){var g=(pi(i)?i[i.length-1]:i).prototype;return d=Object.create(g||null),m&&a(l,m,d,f||i.name),h(function(){return o.invoke(i,d,l,f),d},{instance:d,identifier:m})}return d=o.instantiate(i,l,f),m&&a(l,m,d,f||i.name),d}}]}function ne(){this.$get=["$window",function(t){return ni(t.document)}]}function ie(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function re(t,e){if(b(t)){var n=t.replace(rr,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(tr)||oe(n))&&(t=B(n))}}return t}function oe(t){var e=t.match(nr);return e&&ir[e[0]].test(t)}function se(t){var e,n,i,r=ct();return t?(o(t.split("\n"),function(t){i=t.indexOf(":"),e=Xn(fi(t.substr(0,i))),n=fi(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r):r}function ae(t){var e=_(t)?t:n;return function(n){if(e||(e=se(t)),n){var i=e[Xn(n)];return void 0===i&&(i=null),i}return e}}function le(t,e,n,i){return x(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function ce(t){return 200<=t&&t<300}function ue(){var t=this.defaults={transformResponse:[re],transformRequest:[function(t){return!_(t)||S(t)||A(t)||D(t)?t:q(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:H(er),put:H(er),patch:H(er)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,u,d,p){function f(e){function r(t){var e=h({},t);return t.data?e.data=le(t.data,t.headers,t.status,l.transformResponse):e.data=t.data,ce(t.status)?e:d.reject(e)}function s(t){var e,n={};return o(t,function(t,i){x(t)?(e=t(),null!=e&&(n[i]=e)):n[i]=t}),n}function a(e){var n,i,r,o=t.headers,a=h({},e.headers);o=h({},o.common,o[Xn(e.method)]);t:for(n in o){i=Xn(n);for(r in a)if(Xn(r)===i)continue t;a[n]=o[n]}return s(a)}if(!ui.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);l.headers=a(e),l.method=Jn(l.method);var c=function(e){var i=e.headers,s=le(e.data,ae(i),n,e.transformRequest);return v(s)&&o(i,function(t,e){"content-type"===Xn(e)&&delete i[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),w(e,s).then(r,r)},u=[c,n],p=d.when(l);for(o(T,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&u.push(t.response,t.responseError)});u.length;){var f=u.shift(),m=u.shift();p=p.then(f,m)}return p.success=function(t){return ot(t,"fn"),p.then(function(e){t(e.data,e.status,e.headers,l)}),p},p.error=function(t){return ot(t,"fn"),p.then(null,function(e){t(e.data,e.status,e.headers,l)}),p},p}function m(t){o(arguments,function(t){f[t]=function(e,n){return f(h(n||{},{method:t,url:e}))}})}function g(t){o(arguments,function(t){f[t]=function(e,n,i){return f(h(i||{},{method:t,url:e,data:n}))}})}function w(i,r){function o(t,n,i,r){function o(){a(n,t,i,r)}p&&(ce(t)?p.put($,[t,n,se(i),r]):p.remove($)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function a(t,e,n,r){e=e>=-1?e:0,(ce(e)?g.resolve:g.reject)({data:t,status:e,headers:ae(n),config:i,statusText:r})}function c(t){a(t.data,t.status,H(t.headers()),t.statusText)}function h(){var t=f.pendingRequests.indexOf(i);t!==-1&&f.pendingRequests.splice(t,1)}var p,m,g=d.defer(),b=g.promise,w=i.headers,$=C(i.url,i.params);if(f.pendingRequests.push(i),b.then(h,h),!i.cache&&!t.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(p=_(i.cache)?i.cache:_(t.cache)?t.cache:k),p&&(m=p.get($),y(m)?P(m)?m.then(c,c):pi(m)?a(m[1],m[0],H(m[2]),m[3]):a(m,200,{},"OK"):p.put($,b)),v(m)){var x=sn(i.url)?l.cookies()[i.xsrfCookieName||t.xsrfCookieName]:n;x&&(w[i.xsrfHeaderName||t.xsrfHeaderName]=x),s(i.method,$,r,o,w,i.timeout,i.withCredentials,i.responseType)}return b}function C(t,e){if(!e)return t;var n=[];return a(e,function(t,e){null===t||v(t)||(pi(t)||(t=[t]),o(t,function(t){_(t)&&(t=$(t)?t.toISOString():q(t)),n.push(X(e)+"="+X(t))}))}),n.length>0&&(t+=(t.indexOf("?")==-1?"?":"&")+n.join("&")),t}var k=c("$http"),T=[];return o(r,function(t){T.unshift(b(t)?p.get(t):p.invoke(t))}),f.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=t,f}]}function he(){return new t.XMLHttpRequest}function de(){this.$get=["$browser","$window","$document",function(t,e,n){return pe(t,he,t.defer,e.angular.callbacks,n[0])}]}function pe(t,e,i,r,s){function a(t,e,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=t,i.async=!0,o=function(t){Ei(i,"load",o),Ei(i,"error",o),s.body.removeChild(i),i=null;var a=-1,l="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},Ai(i,"load",o),Ai(i,"error",o),s.body.appendChild(i),o}return function(s,l,c,u,h,d,p,m){function g(){b&&b(),w&&w.abort()}function v(e,r,o,s,a){C!==n&&i.cancel(C),b=w=null,e(r,o,s,a),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==Xn(s)){var _="_"+(r.counter++).toString(36);r[_]=function(t){r[_].data=t,r[_].called=!0};var b=a(l.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(t,e){v(u,t,r[_].data,"",e),r[_]=f})}else{var w=e();w.open(s,l,!0),o(h,function(t,e){y(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=e?200:"file"==on(l).protocol?404:0),v(u,n,e,w.getAllResponseHeaders(),t)};var $=function(){v(u,-1,null,null,"")};if(w.onerror=$,w.onabort=$,p&&(w.withCredentials=!0),m)try{w.responseType=m}catch(x){if("json"!==m)throw x}w.send(c||null)}if(d>0)var C=i(g,d);else P(d)&&d.then(g)}}function fe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(o,s,d,p){function f(n){return n.replace(c,t).replace(u,e)}function m(t){try{return t=A(t),p&&!y(t)?t:E(t)}catch(e){var n=or("interr","Can't interpolate: {0}\n{1}",o,e.toString());i(n)}}p=!!p;for(var g,_,b,w=0,$=[],C=[],k=o.length,T=[],S=[];w<k;){if((g=o.indexOf(t,w))==-1||(_=o.indexOf(e,g+a))==-1){w!==k&&T.push(f(o.substring(w)));break}w!==g&&T.push(f(o.substring(w,g))),b=o.substring(g+a,_),$.push(b),C.push(n(b,m)),w=_+l,S.push(T.length),T.push("")}if(d&&T.length>1)throw or("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!s||$.length){var D=function(t){for(var e=0,n=$.length;e<n;e++){if(p&&v(t[e]))return;T[S[e]]=t[e]}return T.join("")},A=function(t){return d?r.getTrusted(d,t):r.valueOf(t)},E=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=q(t)}return t};return h(function(t){var e=0,n=$.length,r=new Array(n);try{for(;e<n;e++)r[e]=C[e](t);return D(r)}catch(s){var a=or("interr","Can't interpolate: {0}\n{1}",o,s.toString());i(a)}},{exp:o,expressions:$,$$watchDelegate:function(t,e,n){var i;return t.$watchGroup(C,function(n,r){var o=D(n);x(e)&&e.call(this,o,n!==r?i:o,t),i=o},n)}})}}var a=t.length,l=e.length,c=new RegExp(t.replace(/./g,o),"g"),u=new RegExp(e.replace(/./g,o),"g");return s.startSymbol=function(){return t},s.endSymbol=function(){return e},s}]}function me(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,s,a,l){var c=e.setInterval,u=e.clearInterval,h=0,d=y(l)&&!l,p=(d?i:n).defer(),f=p.promise;return a=y(a)?a:0,f.then(null,null,r),f.$$intervalId=c(function(){p.notify(h++),a>0&&h>=a&&(p.resolve(h),u(f.$$intervalId),delete o[f.$$intervalId]),d||t.$apply()},s),o[f.$$intervalId]=p,f}var o={};return r.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},r}]}function ge(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function ve(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=K(e[n]);return e.join("/")}function ye(t,e){var n=on(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||ar[n.protocol]||null}function _e(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=on(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),
e.$$search=Y(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function be(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function we(t){var e=t.indexOf("#");return e==-1?t:t.substr(0,e)}function $e(t){return t.replace(/(#.+)|#$/,"$1")}function xe(t){return t.substr(0,we(t).lastIndexOf("/")+1)}function Ce(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function ke(t,e,i){this.$$html5=!0,i=i||"",ye(t,this),this.$$parse=function(t){var n=be(e,t);if(!b(n))throw lr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);_e(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=G(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ve(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a,l;return(s=be(t,r))!==n?(a=s,l=(s=be(i,s))!==n?e+(be("/",s)||s):t+a):(s=be(e,r))!==n?l=e+s:e==r+"/"&&(l=e),l&&this.$$parse(l),!!l}}function Te(t,e,n){ye(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,s=be(t,i)||be(e,i);v(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",v(s)&&(t=i,this.replace())):(o=be(n,s),v(o)&&(o=s)),_e(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ve(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return we(t)==we(e)&&(this.$$parse(e),!0)}}function Se(t,e,n){this.$$html5=!0,Te.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t==we(i)?o=i:(s=be(e,i))?o=t+n+s:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=G(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ve(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function De(t){return function(){return this[t]}}function Ae(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ee(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return E(t)?(e.enabled=t,this):_(t)?(E(t.enabled)&&(e.enabled=t.enabled),E(t.requireBase)&&(e.requireBase=t.requireBase),E(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=c.url(),o=c.$$state;try{i.url(t,e,n),c.$$state=i.state()}catch(s){throw c.url(r),c.$$state=o,s}}function l(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,u,h,d=i.baseHref(),p=i.url();if(e.enabled){if(!d&&e.requireBase)throw lr("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Ce(p)+(d||"/"),u=r.history?ke:Se}else h=we(p),u=Te;var f=xe(h);c=new u(h,f,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=ni(t.target);"a"!==O(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");_(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=on(a.animVal).href),m.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(a,l)&&(t.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),$e(c.absUrl())!=$e(p)&&i.url(c.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){return v(be(f,t))?void(s.location.href=t):(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,c.absUrl()===t&&(i?(c.$$parse(r),c.$$state=o,a(r,!1,o)):(g=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=$e(i.url()),e=$e(c.absUrl()),o=i.state(),s=c.$$replace,u=t!==e||c.$$html5&&r.history&&o!==c.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var e=c.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(i?(c.$$parse(t),c.$$state=o):(u&&a(e,s,o===c.$$state?null:c.$$state),l(t,o)))})),c.$$replace=!1}),c}]}function Pe(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||f,s=!1;try{s=!!r.apply}catch(a){}return s?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Me(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ur("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Ie(t,e){if(t+="",!b(t))throw ur("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function Oe(t,e){if(t){if(t.constructor===t)throw ur("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw ur("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ur("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw ur("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ne(t,e){if(t){if(t.constructor===t)throw ur("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===hr||t===dr||t===pr)throw ur("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Le(t){return t.constant}function He(t,e,n,i,r){Oe(t,r),Oe(e,r);for(var o,s=n.split("."),a=0;s.length>1;a++){o=Me(s.shift(),r);var l=0===a&&e&&e[o]||t[o];l||(l={},t[o]=l),t=Oe(l,r)}return o=Me(s.shift(),r),Oe(t[o],r),t[o]=i,i}function Re(t){return"constructor"==t}function ze(t,e,i,r,o,s,a){Me(t,s),Me(e,s),Me(i,s),Me(r,s),Me(o,s);var l=function(t){return Oe(t,s)},c=a||Re(t)?l:m,u=a||Re(e)?l:m,h=a||Re(i)?l:m,d=a||Re(r)?l:m,p=a||Re(o)?l:m;return function(s,a){var l=a&&a.hasOwnProperty(t)?a:s;return null==l?l:(l=c(l[t]),e?null==l?n:(l=u(l[e]),i?null==l?n:(l=h(l[i]),r?null==l?n:(l=d(l[r]),o?null==l?n:l=p(l[o]):l):l):l):l)}}function We(t,e){return function(n,i){return t(n,i,Oe,e)}}function Fe(t,e,i){var r=e.expensiveChecks,s=r?br:_r,a=s[t];if(a)return a;var l=t.split("."),c=l.length;if(e.csp)a=c<6?ze(l[0],l[1],l[2],l[3],l[4],i,r):function(t,e){var o,s=0;do o=ze(l[s++],l[s++],l[s++],l[s++],l[s++],i,r)(t,e),e=n,t=o;while(s<c);return o};else{var u="";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var h=r;o(l,function(t,e){Me(t,i);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(r||Re(t))&&(n="eso("+n+", fe)",h=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;";var d=new Function("s","l","eso","fe",u);d.toString=g(u),h&&(d=We(d,i)),a=d}return a.sharedGetter=!0,a.assign=function(e,n,i){return He(e,i,t,n,t)},s[t]=a,a}function je(t){return x(t.valueOf)?t.valueOf():wr.call(t)}function qe(){var t=ct(),e=ct();this.$get=["$filter","$sniffer",function(n,i){function r(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function s(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];r.constant||(r.inputs?s(r.inputs,e):e.indexOf(r)===-1&&e.push(r))}return e}function a(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=je(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function l(t,e,n,i){var r,o=i.$$inputs||(i.$$inputs=s(i.inputs,[]));if(1===o.length){var l=a;return o=o[0],t.$watch(function(t){var e=o(t);return a(e,l)||(r=i(t),l=e&&je(e)),r},e,n)}for(var c=[],u=0,h=o.length;u<h;u++)c[u]=a;return t.$watch(function(t){for(var e=!1,n=0,s=o.length;n<s;n++){var l=o[n](t);(e||(e=!a(l,c[n])))&&(c[n]=l&&je(l))}return e&&(r=i(t)),r},e,n)}function c(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,x(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return i(t)},function(t,n,i){a=t,x(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(a)&&s()})},n)}function h(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){x(e)&&e.apply(this,arguments),r()},n)}function d(t,e){if(!e)return t;var n=t.$$watchDelegate,i=n!==u&&n!==c,r=i?function(n,i){var r=t(n,i);return e(r,n,i)}:function(n,i){var r=t(n,i),o=e(r,n,i);return y(r)?o:r};return t.$$watchDelegate&&t.$$watchDelegate!==l?r.$$watchDelegate=t.$$watchDelegate:e.$stateful||(r.$$watchDelegate=l,r.inputs=[t]),r}var p={csp:i.csp,expensiveChecks:!1},m={csp:i.csp,expensiveChecks:!0};return function(i,o,s){var a,g,v;switch(typeof i){case"string":v=i=i.trim();var y=s?e:t;if(a=y[v],!a){":"===i.charAt(0)&&":"===i.charAt(1)&&(g=!0,i=i.substring(2));var _=s?m:p,b=new vr(_),w=new yr(b,n,_);a=w.parse(i),a.constant?a.$$watchDelegate=h:g?(a=r(a),a.$$watchDelegate=a.literal?u:c):a.inputs&&(a.$$watchDelegate=l),y[v]=a}return d(a,o);case"function":return d(i,o);default:return d(f,o)}}}]}function Be(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ve(function(e){t.$evalAsync(e)},e)}]}function Ue(){this.$get=["$browser","$exceptionHandler",function(t,e){return Ve(function(e){t.defer(e)},e)}]}function Ve(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function l(t){var i,r,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var s=0,a=o.length;s<a;++s){r=o[s][0],i=o[s][t.status];try{x(i)?r.resolve(i(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(l){r.reject(l),e(l)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function u(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function h(t){var e=new u,n=0,i=pi(t)?[]:{};return o(t,function(t,r){n++,v(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var d=i("$q",TypeError),p=function(){return new u};s.prototype={then:function(t,e,n){var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&c(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return g(e,!0,t)},function(e){return g(e,!1,t)},e)}},u.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(_(t)||x(t))&&(n=t&&t.then),x(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;o<s;o++){r=i[o][0],t=i[o][3];try{r.notify(x(t)?t(n):n)}catch(a){e(a)}}})}};var f=function(t){var e=new u;return e.reject(t),e.promise},m=function(t,e){var n=new u;return e?n.resolve(t):n.reject(t),n.promise},g=function(t,e,n){var i=null;try{x(n)&&(i=n())}catch(r){return m(r,!1)}return P(i)?i.then(function(){return m(t,e)},function(t){return m(t,!1)}):m(t,e)},v=function(t,e,n,i){var r=new u;return r.resolve(t),r.promise.then(e,n,i)},y=function b(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!x(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof b))return new b(t);var i=new u;return t(e,n),i.promise};return y.defer=p,y.reject=f,y.when=v,y.all=h,y}function Ye(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<u.length;t++){var e=u[t];e&&(u[t]=null,e())}c=u.length=0}function i(t){var e=u.length;return c++,u.push(t),0===e&&(l=a(n)),function(){e>=0&&(u[e]=null,e=null,0===--c&&l&&(l(),l=null,u.length=0))}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,s=!!r,a=s?function(t){var e=r(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};i.supported=s;var l,c=0,u=[];return i}]}function Ge(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,l,u,h){function d(t){t.currentScope.$$destroyed=!0}function p(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function m(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function g(){C.$$phase=null}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function b(){}function w(){for(;S.length;)try{S.shift()()}catch(t){l(t)}a=null}function $(){null===a&&(a=h.defer(function(){C.$apply(w)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",d),i},$watch:function(t,e,n){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i);var r=this,o=r.$$watchers,a={fn:e,last:b,get:i,exp:t,eq:!!n};return s=null,x(e)||(a.fn=f),o||(o=r.$$watchers=[]),o.unshift(a),function(){N(o,a),s=null}},$watchGroup:function(t,e){function n(){l=!1,c?(c=!1,e(r,r,a)):e(r,i,a)}var i=new Array(t.length),r=new Array(t.length),s=[],a=this,l=!1,c=!0;if(!t.length){var u=!0;return a.$evalAsync(function(){u&&e(r,r,a)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,i,a,l;if(!v(o)){if(_(o))if(r(o)){s!==p&&(s=p,g=s.length=0,h++),e=o.length,g!==e&&(h++,s.length=g=e);for(var c=0;c<e;c++)l=s[c],a=o[c],i=l!==l&&a!==a,i||l===a||(h++,s[c]=a)}else{s!==f&&(s=f={},g=0,h++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,a=o[n],l=s[n],n in s?(i=l!==l&&a!==a,i||l===a||(h++,s[n]=a)):(g++,s[n]=a,h++));if(g>e){h++;for(n in s)o.hasOwnProperty(n)||(g--,delete s[n])}}else s!==o&&(s=o,h++);return h}}function i(){if(m?(m=!1,e(o,o,l)):e(o,a,l),c)if(_(o))if(r(o)){a=new Array(o.length);for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var n in o)Qn.call(o,n)&&(a[n]=o[n])}else a=o}n.$stateful=!0;var o,s,a,l=this,c=e.length>1,h=0,d=u(t,n),p=[],f={},m=!0,g=0;return this.$watch(d,i)},$digest:function(){var t,i,r,o,c,u,d,p,f,v,y=e,_=this,$=[];m("$digest"),h.$$checkUrlChange(),this===C&&null!==a&&(h.defer.cancel(a),w()),s=null;do{for(u=!1,p=_;k.length;){try{v=k.shift(),v.scope.$eval(v.expression,v.locals)}catch(S){l(S)}s=null}t:do{if(o=p.$$watchers)for(c=o.length;c--;)try{if(t=o[c])if((i=t.get(p))===(r=t.last)||(t.eq?R(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===s){u=!1;break t}}else u=!0,s=t,t.last=t.eq?L(i,null):i,t.fn(i,r===b?i:r,p),y<5&&(f=4-y,$[f]||($[f]=[]),$[f].push({msg:x(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch(S){l(S)}if(!(d=p.$$childHead||p!==_&&p.$$nextSibling))for(;p!==_&&!(d=p.$$nextSibling);)p=p.$parent}while(p=d);if((u||k.length)&&!y--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,$)}while(u||k.length);for(g();T.length;)try{T.shift()()}catch(S){l(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==C){for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){C.$$phase||k.length||h.defer(function(){k.length&&C.$digest()}),k.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){T.push(t)},$apply:function(t){try{return m("$apply"),this.$eval(t)}catch(e){l(e)}finally{g();try{C.$digest()}catch(e){throw l(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&S.push(e),$()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);i!==-1&&(n[i]=null,y(r,1,t))}},$emit:function(t,e){var n,i,r,o=[],s=this,a=!1,c={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=z([c],arguments,1);do{for(n=s.$$listeners[t]||o,c.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(h){l(h)}else n.splice(i,1),i--,r--;if(a)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,i=n,r=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var s,a,c,u=z([o],arguments,1);i=r;){for(o.currentScope=i,s=i.$$listeners[t]||[],a=0,c=s.length;a<c;a++)if(s[a])try{s[a].apply(null,u)}catch(h){l(h)}else s.splice(a,1),a--,c--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var C=new p,k=C.$$asyncQueue=[],T=C.$$postDigestQueue=[],S=C.$$applyAsyncQueue=[];return C}]}function Ke(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=on(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Xe(t){if("self"===t)return t;if(b(t)){if(t.indexOf("***")>-1)throw $r("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=mi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw $r("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Qe(t){var e=[];return y(t)&&o(t,function(t){e.push(Xe(t))}),e}function Je(){this.SCE_CONTEXTS=xr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Qe(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Qe(t)),e},this.$get=["$injector",function(i){function r(t,e){return"self"===t?sn(e):!!t.exec(e.href)}function o(n){var i,o,s=on(n.toString()),a=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],s)){a=!0;break}if(a)for(i=0,o=e.length;i<o;i++)if(r(e[i],s)){a=!1;break}return a}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var i=d.hasOwnProperty(t)?d[t]:null;if(!i)throw $r("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw $r("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new i(e)}function l(t){return t instanceof h?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===n||""===e)return e;var i=d.hasOwnProperty(t)?d[t]:null;if(i&&e instanceof i)return e.$$unwrapTrustedValue();if(t===xr.RESOURCE_URL){if(o(e))return e;throw $r("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===xr.HTML)return u(e);throw $r("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw $r("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(u=i.get("$sanitize"));var h=s(),d={};return d[xr.HTML]=s(h),d[xr.CSS]=s(h),d[xr.URL]=s(h),d[xr.JS]=s(h),d[xr.RESOURCE_URL]=s(d[xr.URL]),{trustAs:a,getTrusted:c,valueOf:l}}]}function Ze(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&ei<8)throw $r("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=H(xr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(xr,function(t,e){var n=Xn(e);i[mt("parse_as_"+n)]=function(e){return r(t,e)},i[mt("get_trusted_"+n)]=function(e){return s(t,e)},i[mt("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function tn(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=d((/android (\d+)/.exec(Xn((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=a.body&&a.body.style,u=!1,h=!1;if(c){for(var p in c)if(i=l.exec(p)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),h=!!("animation"in c||n+"Animation"in c),!o||u&&h||(u=b(a.body.style.webkitTransition),h=b(a.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||o<4||s),hasEvent:function(t){if("input"===t&&ei<=11)return!1;if(v(r[t])){var e=a.createElement("div");r[t]="on"+t in e}return r[t]},csp:gi(),vendorPrefix:n,transitions:u,animations:h,android:o}}]}function en(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(o,s){function a(t){if(!s)throw Qi("tpload","Failed to load template: {0}",o);return n.reject(t)}r.totalPendingRequests++,b(o)&&t.get(o)||(o=i.getTrustedResourceUrl(o));var l=e.defaults&&e.defaults.transformResponse;pi(l)?l=l.filter(function(t){return t!==re}):l===re&&(l=null);var c={cache:t,transformResponse:l};return e.get(o,c)["finally"](function(){r.totalPendingRequests--}).then(function(t){return t.data},a)}return r.totalPendingRequests=0,r}]}function nn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return o(i,function(t){var i=ui.element(t).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+mi(e)+"(\\s|\\||$)");o.test(i)&&r.push(t)}else i.indexOf(e)!=-1&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",s="["+i[r]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,l){var c,u=y(l)&&!l,h=(u?i:n).defer(),d=h.promise;return c=e.defer(function(){try{h.resolve(o())}catch(e){h.reject(e),r(e)}finally{delete s[d.$$timeoutId]}u||t.$apply()},a),d.$$timeoutId=c,s[c]=h,d}var s={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function on(t){var e=t;return ei&&(Cr.setAttribute("href",e),e=Cr.href),Cr.setAttribute("href",e),{href:Cr.href,protocol:Cr.protocol?Cr.protocol.replace(/:$/,""):"",host:Cr.host,search:Cr.search?Cr.search.replace(/^\?/,""):"",hash:Cr.hash?Cr.hash.replace(/^#/,""):"",hostname:Cr.hostname,port:Cr.port,pathname:"/"===Cr.pathname.charAt(0)?Cr.pathname:"/"+Cr.pathname}}function sn(t){var e=b(t)?on(t):t;return e.protocol===kr.protocol&&e.host===kr.host}function an(){this.$get=g(t)}function ln(t){function e(i,r){if(_(i)){var s={};return o(i,function(t,n){s[n]=e(n,t)}),s}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",dn),e("date",kn),e("filter",cn),e("json",Tn),e("limitTo",Sn),e("lowercase",Er),e("number",pn),e("orderBy",Dn),e("uppercase",Pr)}function cn(){return function(t,e,n){if(!pi(t))return t;var i,r,o=null!==e?typeof e:"null";switch(o){case"function":i=e;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":i=un(e,n,r);break;default:return t}return t.filter(i)}}function un(t,e,n){var i,r=_(t)&&"$"in t;return e===!0?e=R:x(e)||(e=function(t,e){return!v(t)&&(null===t||null===e?t===e:!_(t)&&!_(e)&&(t=Xn(""+t),e=Xn(""+e),t.indexOf(e)!==-1))}),i=function(i){return r&&!_(i)?hn(i,t.$,e,!1):hn(i,t,e,n)}}function hn(t,e,n,i,r){var o=null!==t?typeof t:"null",s=null!==e?typeof e:"null";if("string"===s&&"!"===e.charAt(0))return!hn(t,e.substring(1),n,i);if(pi(t))return t.some(function(t){return hn(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&hn(t[a],e,n,!0))return!0;return!r&&hn(t,e,n,!1)}if("object"===s){for(a in e){var l=e[a];if(!x(l)&&!v(l)){var c="$"===a,u=c?t:t[a];if(!hn(u,l,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function dn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:fn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function pn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:fn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function fn(t,e,n,i,r){if(!isFinite(t)||_(t))return"";var o=t<0;t=Math.abs(t);var s=t+"",a="",l=[],c=!1;if(s.indexOf("e")!==-1){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?t=0:(a=s,c=!0)}if(c)r>0&&t<1&&(a=t.toFixed(r),t=parseFloat(a));else{var h=(s.split(Tr)[1]||"").length;v(r)&&(r=Math.min(Math.max(e.minFrac,h),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var d=(""+t).split(Tr),p=d[0];d=d[1]||"";var f,m=0,g=e.lgSize,y=e.gSize;if(p.length>=g+y)for(m=p.length-g,f=0;f<m;f++)(m-f)%y===0&&0!==f&&(a+=n),a+=p.charAt(f);for(f=m;f<p.length;f++)(p.length-f)%g===0&&0!==f&&(a+=n),a+=p.charAt(f);for(;d.length<r;)d+="0";r&&"0"!==r&&(a+=i+d.substr(0,r))}return 0===t&&(o=!1),l.push(o?e.negPre:e.posPre,a,o?e.negSuf:e.posSuf),l.join("")}function mn(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function gn(t,e,n,i){return n=n||0,function(r){var o=r["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&n==-12&&(o=12),mn(o,e,i)}}function vn(t,e){return function(n,i){var r=n["get"+t](),o=Jn(e?"SHORT"+t:t);return i[o][r]}}function yn(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=mn(Math[e>0?"floor":"ceil"](e/60),2)+mn(Math.abs(e%60),2)}function _n(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function bn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function wn(t){return function(e){var n=_n(e.getFullYear()),i=bn(e),r=+i-+n,o=1+Math.round(r/6048e5);return mn(o,t)}}function $n(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function xn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Cn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function kn(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,s=e[8]?i.setUTCFullYear:i.setFullYear,a=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=d(e[9]+e[10]),o=d(e[9]+e[11])),s.call(i,d(e[1]),d(e[2])-1,d(e[3]));var l=d(e[4]||0)-r,c=d(e[5]||0)-o,u=d(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(i,l,c,u,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,b(n)&&(n=Ar.test(n)?d(n):e(n)),w(n)&&(n=new Date(n)),!$(n))return n;for(;i;)a=Dr.exec(i),a?(c=z(c,a,1),i=c.pop()):(c.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(c,function(e){s=Sr[e],l+=s?s(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Tn(){return function(t,e){return v(e)&&(e=2),q(t,e)}}function Sn(){return function(t,e){return w(t)&&(t=t.toString()),pi(t)||b(t)?(e=Math.abs(Number(e))===1/0?Number(e):d(e),e?e>0?t.slice(0,e):t.slice(e):b(t)?"":[]):t}}function Dn(t){return function(e,n,i){function o(t,e){for(var i=0;i<n.length;i++){var r=n[i](t,e);if(0!==r)return r}return 0}function s(t,e){return e?function(e,n){return t(n,e)}:t}function a(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function l(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),a(t))?t:"function"==typeof t.toString&&(t=t.toString(),a(t))?t:""}function c(t,e){var n=typeof t,i=typeof e;return n===i&&"object"===n&&(t=l(t),e=l(e)),n===i?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<i?-1:1}return r(e)?(n=pi(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,i=e||m;if(b(e)){if("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0),e=e.substring(1)),""===e)return s(c,n);if(i=t(e),i.constant){var r=i();return s(function(t,e){return c(t[r],e[r])},n)}}return s(function(t,e){return c(i(t),i(e))},n)}),oi.call(e).sort(s(o,i))):e}}function An(t){return x(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function En(t,e){t.$name=e}function Pn(t,e,i,r,s){var a=this,l=[],c=a.$$parentForm=t.parent().controller("form")||Or;a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,c.$addControl(a),a.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue();
})},a.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},a.$addControl=function(t){st(t.$name,"input"),l.push(t),t.$name&&(a[t.$name]=t)},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),o(a.$$success,function(e,n){a.$setValidity(n,null,t)}),N(l,t)},Vn({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(N(i,n),0===i.length&&delete t[e])},parentForm:c,$animate:r}),a.$setDirty=function(){r.removeClass(t,vo),r.addClass(t,yo),a.$dirty=!0,a.$pristine=!1,c.$setDirty()},a.$setPristine=function(){r.setClass(t,vo,yo+" "+Nr),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(l,function(t){t.$setPristine()})},a.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,Nr),a.$submitted=!0,c.$setSubmitted()}}function Mn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function In(t,e,n,i,r,o){On(t,e,n,i,r,o),Mn(i)}function On(t,e,n,i,r,o){var s=Xn(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,l()})}var l=function(t){if(c&&(o.defer.cancel(c),c=null),!a){var r=e.val(),l=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=fi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var c,u=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",l),i.$render=function(){e.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function Nn(t,e){if($(t))return t;if(b(t)){Ur.lastIndex=0;var n=Ur.exec(t);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,l=0,c=_n(i),u=7*(r-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,c.getDate()+u,o,s,a,l)}}return NaN}function Ln(t,e){return function(n,i){var r,s;if($(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),zr.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function Hn(t,e,i,r){return function(o,s,a,l,c,u,h){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return y(t)?$(t)?t:i(t):n}Rn(o,s,a,l),On(o,s,a,l,c,u);var f,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var r=i(t,f);return"UTC"===m&&r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r}return n}),l.$formatters.push(function(t){if(t&&!$(t))throw $o("datefmt","Expected `{0}` to be a date",t);if(d(t)){if(f=t,f&&"UTC"===m){var e=6e4*f.getTimezoneOffset();f=new Date(f.getTime()+e)}return h("date")(t,r,m)}return f=null,""}),y(a.min)||a.ngMin){var g;l.$validators.min=function(t){return!d(t)||v(g)||i(t)>=g},a.$observe("min",function(t){g=p(t),l.$validate()})}if(y(a.max)||a.ngMax){var _;l.$validators.max=function(t){return!d(t)||v(_)||i(t)<=_},a.$observe("max",function(t){_=p(t),l.$validate()})}}}function Rn(t,e,i,r){var o=e[0],s=r.$$hasNativeValidators=_(o.validity);s&&r.$parsers.push(function(t){var i=e.prop(Kn)||{};return i.badInput&&!i.typeMismatch?n:t})}function zn(t,e,i,r,o,s){if(Rn(t,e,i,r),On(t,e,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:jr.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!w(t))throw $o("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(i.min)||i.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||v(a)||t>=a},i.$observe("min",function(t){y(t)&&!w(t)&&(t=parseFloat(t,10)),a=w(t)&&!isNaN(t)?t:n,r.$validate()})}if(y(i.max)||i.ngMax){var l;r.$validators.max=function(t){return r.$isEmpty(t)||v(l)||t<=l},i.$observe("max",function(t){y(t)&&!w(t)&&(t=parseFloat(t,10)),l=w(t)&&!isNaN(t)?t:n,r.$validate()})}}function Wn(t,e,n,i,r,o){On(t,e,n,i,r,o),Mn(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Wr.test(n)}}function Fn(t,e,n,i,r,o){On(t,e,n,i,r,o),Mn(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Fr.test(n)}}function jn(t,e,n,i){v(n.name)&&e.attr("name",c());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function qn(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw $o("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Bn(t,e,n,i,r,o,s,a){var l=qn(a,t,"ngTrueValue",n.ngTrueValue,!0),c=qn(a,t,"ngFalseValue",n.ngFalseValue,!1),u=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",u),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return R(t,l)}),i.$parsers.push(function(t){return t?l:c})}function Un(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){if(pi(t))return t;if(b(t))return t.split(" ");if(_(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(s,a,l){function c(t){var e=h(t,1);l.$addClass(e)}function u(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=a.data("$classCounts")||{},i=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function d(t,e){var r=i(e,t),o=i(t,e);r=h(r,1),o=h(o,-1),r&&r.length&&n.addClass(a,r),o&&o.length&&n.removeClass(a,o)}function p(t){if(e===!0||s.$index%2===e){var n=r(t||[]);if(f){if(!R(t,f)){var i=r(f);d(i,n)}}else c(n)}f=H(t)}var f;s.$watch(l[t],p,!0),l.$observe("class",function(e){p(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(l[t]));o===e?c(a):u(a)}})}}}]}function Vn(t){function e(t,e,l){e===n?i("$pending",t,l):r("$pending",t,l),E(e)?e?(h(a.$error,t,l),u(a.$$success,t,l)):(u(a.$error,t,l),h(a.$$success,t,l)):(h(a.$error,t,l),h(a.$$success,t,l)),a.$pending?(o(wo,!0),a.$valid=a.$invalid=n,s("",null)):(o(wo,!1),a.$valid=Yn(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var c;c=a.$pending&&a.$pending[t]?n:!a.$error[t]&&(!!a.$$success[t]||null),s(t,c),d.$setValidity(t,c,a)}function i(t,e,n){a[t]||(a[t]={}),u(a[t],e,n)}function r(t,e,i){a[t]&&h(a[t],e,i),Yn(a[t])&&(a[t]=n)}function o(t,e){e&&!c[t]?(p.addClass(l,t),c[t]=!0):!e&&c[t]&&(p.removeClass(l,t),c[t]=!1)}function s(t,e){t=t?"-"+nt(t,"-"):"",o(mo+t,e===!0),o(go+t,e===!1)}var a=t.ctrl,l=t.$element,c={},u=t.set,h=t.unset,d=t.parentForm,p=t.$animate;c[go]=!(c[mo]=l.hasClass(mo)),a.$setValidity=e}function Yn(t){if(t)for(var e in t)return!1;return!0}var Gn=/^\/(.+)\/([a-z]*)$/,Kn="validity",Xn=function(t){return b(t)?t.toLowerCase():t},Qn=Object.prototype.hasOwnProperty,Jn=function(t){return b(t)?t.toUpperCase():t},Zn=function(t){return b(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},ti=function(t){return b(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Xn=Zn,Jn=ti);var ei,ni,ii,ri,oi=[].slice,si=[].splice,ai=[].push,li=Object.prototype.toString,ci=i("ng"),ui=t.angular||(t.angular={}),hi=0;ei=e.documentMode,f.$inject=[],m.$inject=[];var di,pi=Array.isArray,fi=function(t){return b(t)?t.trim():t},mi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gi=function(){if(y(gi.isActive_))return gi.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return gi.isActive_=t},vi=["ng-","data-ng-","ng:","x-ng-"],yi=/[A-Z]/g,_i=!1,bi=1,wi=2,$i=3,xi=8,Ci=9,ki=11,Ti={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};bt.expando="ng339";var Si=bt.cache={},Di=1,Ai=function(t,e,n){t.addEventListener(e,n,!1)},Ei=function(t,e,n){t.removeEventListener(e,n,!1)};bt._data=function(t){return this.cache[t[this.expando]]||{}};var Pi=/([\:\-\_]+(.))/g,Mi=/^moz([A-Z])/,Ii={mouseleave:"mouseout",mouseenter:"mouseover"},Oi=i("jqLite"),Ni=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Li=/<|&#?\w+;/,Hi=/<([\w:]+)/,Ri=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zi.optgroup=zi.option,zi.tbody=zi.tfoot=zi.colgroup=zi.caption=zi.thead,zi.th=zi.td;var Wi=bt.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),bt(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return ni(t>=0?this[t]:this[this.length+t])},length:0,push:ai,sort:[].sort,splice:[].splice},Fi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Fi[Xn(t)]=t});var ji={};o("input,select,option,textarea,button,form,details".split(","),function(t){ji[t]=!0});var qi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Tt,removeData:Ct},function(t,e){bt[e]=t}),o({data:Tt,inheritedData:Mt,scope:function(t){return ni.data(t,"$scope")||Mt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ni.data(t,"$isolateScope")||ni.data(t,"$isolateScopeNoTemplate")},controller:Pt,injector:function(t){return Mt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:St,css:function(t,e,n){return e=mt(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==$i&&r!==wi&&r!==xi){var o=Xn(e);if(Fi[o]){if(!y(i))return t[e]||(t.attributes.getNamedItem(e)||f).specified?o:n;i?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(y(i))t.setAttribute(e,i);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?n:s}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===bi||n===$i?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===O(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:($t(t,!0),void(t.innerHTML=e))},empty:It},function(t,e){bt.prototype[e]=function(e,i){var r,o,s=this.length;if(t!==It&&(2==t.length&&t!==St&&t!==Pt?e:i)===n){if(_(e)){for(r=0;r<s;r++)if(t===Tt)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(var a=t.$dv,l=a===n?Math.min(s,1):s,c=0;c<l;c++){var u=t(this[c],e,i);a=a?a+u:u}return a}for(r=0;r<s;r++)t(this[r],e,i);return this}}),o({removeData:Ct,on:function Ko(t,e,n,i){if(y(i))throw Oi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(vt(t)){var r=kt(t,!0),o=r.events,s=r.handle;s||(s=r.handle=Rt(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],l=a.length;l--;){e=a[l];var c=o[e];c||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Ko(t,Ii[e],function(t){var n=this,i=t.relatedTarget;i&&(i===n||n.contains(i))||s(t,e)}):"$destroy"!==e&&Ai(t,e,s),c=o[e]),c.push(n)}}},off:xt,one:function(t,e,n){t=ni(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;$t(t),o(new bt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===bi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===bi||n===ki){e=new bt(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===bi){var n=t.firstChild;o(new bt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=ni(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Ot,detach:function(t){Ot(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new bt(e);for(var r=0,o=e.length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:At,removeClass:Dt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;v(i)&&(i=!St(t,e)),(i?At:Dt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==ki?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:wt,triggerHandler:function(t,e,n){var i,r,s,a=e.type||e,l=kt(t),c=l&&l.events,u=c&&c[a];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:a,target:t},e.type&&(i=h(i,e)),r=H(u),s=n?[i].concat(n):[i],o(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){bt.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;o<s;o++)v(r)?(r=t(this[o],e,n,i),y(r)&&(r=ni(r))):Et(r,t(this[o],e,n,i));return y(r)?r:this},bt.prototype.bind=bt.prototype.on,bt.prototype.unbind=bt.prototype.off}),Ft.prototype={put:function(t,e){this[Wt(t,this.nextUid)]=e},get:function(t){return this[Wt(t,this.nextUid)]},remove:function(t){var e=this[t=Wt(t,this.nextUid)];return delete this[t],e}};var Bi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ui=/,/,Vi=/^\s*(_?)(\S+?)\1\s*$/,Yi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Gi=i("$injector");Bt.$$annotate=qt;var Ki=i("$animate"),Xi=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var i=e+"-animation";if(e&&"."!=e.charAt(0))throw Ki("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=i,t.factory(i,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function i(e){var i,r=t.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=e(function(){r.resolve()})}),r.promise}function r(t,e){var n=[],i=[],r=ct();return o((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0}),o(e,function(t,e){var o=r[e];t===!1&&o?i.push(e):t!==!0||o||n.push(e)}),n.length+i.length>0&&[n.length?n:null,i.length?i:null]}function s(t,e,n){for(var i=0,r=e.length;i<r;++i){var o=e[i];t[o]=n}}function a(){return c||(c=t.defer(),e(function(){c.resolve(),c=null})),c.promise}function l(t,e){if(ui.isObject(e)){var n=h(e.from||{},e.to||{});t.css(n)}}var c;return{animate:function(t,e,n){return l(t,{from:e,to:n}),a()},enter:function(t,e,n,i){return l(t,i),n?n.after(t):e.prepend(t),a()},leave:function(t,e){return l(t,e),t.remove(),a()},move:function(t,e,n,i){return this.enter(t,e,n,i)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=ni(t),e=b(e)?e:pi(e)?e.join(" "):"",o(t,function(t){At(t,e)}),l(t,n),a()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=ni(t),e=b(e)?e:pi(e)?e.join(" "):"",o(t,function(t){Dt(t,e)}),l(t,n),a()},setClass:function(t,e,n,o){var a=this,l="$$animateClasses",c=!1;t=ni(t);var u=t.data(l);u?o&&u.options&&(u.options=ui.extend(u.options||{},o)):(u={classes:{},options:o},c=!0);var h=u.classes;return e=pi(e)?e:e.split(" "),n=pi(n)?n:n.split(" "),s(h,e,!0),s(h,n,!1),c&&(u.promise=i(function(e){var n=t.data(l);if(t.removeData(l),n){var i=r(t,n.classes);i&&a.$$setClassImmediately(t,i[0],i[1],n.options)}e()}),t.data(l,u)),u.promise},$$setClassImmediately:function(t,e,n,i){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),l(t,i),a()},enabled:f,cancel:f}}]}],Qi=i("$compile");Qt.$inject=["$provide","$$sanitizeUriProvider"];var Ji=/^((?:x|data)[\:\-_])/i,Zi=i("$controller"),tr="application/json",er={"Content-Type":tr+";charset=utf-8"},nr=/^\[|^\{(?!\{)/,ir={"[":/]$/,"{":/}$/},rr=/^\)\]\}',?\n/,or=i("$interpolate"),sr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ar={http:80,https:443,ftp:21},lr=i("$location"),cr={$$html5:!1,$$replace:!1,absUrl:De("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=sr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:De("$$protocol"),host:De("$$host"),port:De("$$port"),path:Ae("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(b(t)||w(t))t=t.toString(),this.$$search=Y(t);else{if(!_(t))throw lr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=L(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ae("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Se,Te,ke],function(t){t.prototype=Object.create(cr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==ke||!this.$$html5)throw lr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var ur=i("$parse"),hr=Function.prototype.call,dr=Function.prototype.apply,pr=Function.prototype.bind,fr=ct();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,fr[e]=t}),fr["this"]=function(t){return t},fr["this"].sharedGetter=!0;var mr=h(ct(),{"+":function(t,e,i,r){return i=i(t,e),r=r(t,e),y(i)?y(r)?i+r:i:y(r)?r:n},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(y(n)?n:0)-(y(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),gr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},vr=function(t){this.options=t};vr.prototype={constructor:vr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=mr[e],o=mr[n],s=mr[i];if(r||o||s){var a=s?i:o?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||" "===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ur("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Xn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=gr[o];n+=a||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var yr=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};yr.ZERO=h(function(){return 0},{sharedGetter:!0,constant:!0}),yr.prototype={constructor:yr,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in fr?t=fr[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw ur("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw ur("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===i||s===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},consume:function(t){if(0===this.tokens.length)throw ur("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=mr[t];return h(function(t,i){return n(t,i,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,i){var r=mr[e];return h(function(e,i){return r(e,i,t,n)},{constant:t.constant&&n.constant,inputs:!i&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Fe(t,this.options,this.text)},constant:function(){var t=this.consume().value;return h(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var i,r=0,o=t.length;r<o;r++)i=t[r](e,n);return i}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],i=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return h(function(o,s){var a=t(o,s);if(i){i[0]=a;for(var l=e.length;l--;)i[l+1]=e[l](o,s);return r.apply(n,i)}return r(a)},{constant:!r.$stateful&&o.every(Le),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),h(function(e,i){return n.assign(e,t(e,i),i)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var i=this.assignment();return h(function(e,r){return n(e,r)?t(e,r):i(e,r)},{constant:n.constant&&t.constant&&i.constant})}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(yr.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return h(function(i,r,o){var s=o||t(i,r);return null==s?n:e(s)},{assign:function(n,i,r){var o=t(n,r);return o||t.assign(n,o={},r),e.assign(o,i)}})},objectIndex:function(t){var e=this.text,i=this.expression();return this.consume("]"),h(function(r,o){var s,a=t(r,o),l=Ie(i(r,o),e);return Me(l,e),a?s=Oe(a[l],e):n},{assign:function(n,r,o){var s=Me(Ie(i(n,o),e),e),a=Oe(t(n,o),e);return a||t.assign(n,a={},o),a[s]=r}})},functionCall:function(t,e){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(s,a){var l=e?e(s,a):y(e)?n:s,c=t(s,a,l)||f;if(o)for(var u=i.length;u--;)o[u]=Oe(i[u](s,a),r);Oe(l,r),Ne(c,r);var h=c.apply?c.apply(l,o):c(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),Oe(h,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),h(function(e,n){for(var i=[],r=0,o=t.length;r<o;r++)i.push(t[r](e,n));return i},{literal:!0,constant:t.every(Le),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),h(function(n,i){for(var r={},o=0,s=e.length;o<s;o++)r[t[o]]=e[o](n,i);return r},{literal:!0,constant:e.every(Le),inputs:e})}};var _r=ct(),br=ct(),wr=Object.prototype.valueOf,$r=i("$sce"),xr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qi=i("$compile"),Cr=e.createElement("a"),kr=on(t.location.href);ln.$inject=["$provide"],dn.$inject=["$locale"],pn.$inject=["$locale"];var Tr=".",Sr={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:vn("Month"),MMM:vn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:vn("Day"),EEE:vn("Day",!0),a:$n,Z:yn,ww:wn(2),w:wn(1),G:xn,GG:xn,GGG:xn,GGGG:Cn},Dr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ar=/^\-?\d+$/;kn.$inject=["$locale"];var Er=g(Xn),Pr=g(Jn);Dn.$inject=["$parse"];var Mr=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref&&!e.name)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===li.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Ir={};o(Fi,function(t,e){if("multiple"!=t){var n=Jt("ng-"+e);Ir[n]=function(){return{restrict:"A",priority:100,link:function(t,i,r){t.$watch(r[n],function(t){r.$set(e,!!t)})}}}}}),o(qi,function(t,e){Ir[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Gn);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Jt("ng-"+t);Ir[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===li.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(s,e),void(ei&&o&&i.prop(o,r[s]))):void("href"===t&&r.$set(s,null))})}}}});var Or={$addControl:f,$$renameControl:En,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Nr="ng-submitted";Pn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Lr=function(t){return["$timeout",function(e){var i={name:"form",restrict:t?"EAC":"E",controller:Pn,compile:function(i,r){i.addClass(vo).addClass(mo);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,i,r,s){if(!("action"in r)){var a=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};Ai(i[0],"submit",a),i.on("$destroy",function(){e(function(){Ei(i[0],"submit",a)},0,!1)})}var l=s.$$parentForm;o&&(He(t,null,s.$name,s,s.$name),r.$observe(o,function(e){s.$name!==e&&(He(t,null,s.$name,n,s.$name),l.$$renameControl(s,e),He(t,null,s.$name,s,s.$name))})),i.on("$destroy",function(){l.$removeControl(s),o&&He(t,null,r[o],n,s.$name),h(s,Or)})}}}};return i}]},Hr=Lr(),Rr=Lr(!0),zr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Wr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Fr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,jr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qr=/^(\d{4})-(\d{2})-(\d{2})$/,Br=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ur=/^(\d{4})-W(\d\d)$/,Vr=/^(\d{4})-(\d\d)$/,Yr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gr={text:In,date:Hn("date",qr,Ln(qr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Hn("datetimelocal",Br,Ln(Br,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Hn("time",Yr,Ln(Yr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Hn("week",Ur,Nn,"yyyy-Www"),month:Hn("month",Vr,Ln(Vr,["yyyy","MM"]),"yyyy-MM"),number:zn,
url:Wn,email:Fn,radio:jn,checkbox:Bn,hidden:f,button:f,submit:f,reset:f,file:f},Kr=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Gr[Xn(s.type)]||Gr.text)(r,o,s,a[0],e,t,n,i)}}}}],Xr=/^(true|false|\d+)$/,Qr=function(){return{restrict:"A",priority:100,compile:function(t,e){return Xr.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Jr=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,function(t){i.textContent=t===n?"":t})}}}}],Zr=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,o){var s=t(r.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(r,s.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===n?"":t})}}}}],to=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],eo=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),no=Un("",!0),io=Un("Odd",0),ro=Un("Even",1),oo=An({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),so=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ao={},lo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Jt("ng-"+t);ao[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};lo[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var co=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,c;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=lt(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],uo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ui.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,c,u){var h,d,p,f=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};i.$watch(o,function(o){var l=function(){!y(a)||a&&!i.$eval(a)||e()},d=++f;o?(t(o,!0).then(function(t){if(d===f){var e=i.$new();c.template=t;var a=u(e,function(t){m(),n.enter(t,null,r).then(l)});h=e,p=a,h.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){d===f&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],ho=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return/SVG/.test(i[0].toString())?(i.empty(),void t(yt(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],po=An({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),fo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var s=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?fi(s):s,c=function(t){if(!v(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(a?fi(t):t)}),e}};r.$parsers.push(c),r.$formatters.push(function(t){return pi(t)?t.join(s):n}),r.$isEmpty=function(t){return!t||!t.length}}}},mo="ng-valid",go="ng-invalid",vo="ng-pristine",yo="ng-dirty",_o="ng-untouched",bo="ng-touched",wo="ng-pending",$o=i("ngModel"),xo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,s,a,l,c,u,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t);var d,p=s(i.ngModel),m=p.assign,g=p,_=m,b=null,$=this;this.$$setOptions=function(t){if($.$options=t,t&&t.getterSetter){var e=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");g=function(t){var n=p(t);return x(n)&&(n=e(t)),n},_=function(t,e){x(p(t))?n(t,{$$$p:$.$modelValue}):m(t,$.$modelValue)}}else if(!p.assign)throw $o("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,U(r))},this.$render=f,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t};var C=r.inheritedData("$formController")||Or,k=0;Vn({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:a}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,a.removeClass(r,yo),a.addClass(r,vo)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,a.removeClass(r,vo),a.addClass(r,yo),C.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,a.setClass(r,_o,bo)},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,a.setClass(r,bo,_o)},this.$rollbackViewValue=function(){l.cancel(b),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!w($.$modelValue)||!isNaN($.$modelValue)){var t=$.$$lastCommittedViewValue,e=$.$$rawModelValue,i=$.$valid,r=$.$modelValue,o=$.$options&&$.$options.allowInvalid;$.$$runValidators(e,t,function(t){o||i===t||($.$modelValue=t?e:n,$.$modelValue!==r&&$.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var t=$.$$parserName||"parse";return d!==n?(d||(o($.$validators,function(t,e){l(e,null)}),o($.$asyncValidators,function(t,e){l(e,null)})),l(t,d),d):(l(t,null),!0)}function s(){var n=!0;return o($.$validators,function(i,r){var o=i(t,e);n=n&&o,l(r,o)}),!!n||(o($.$asyncValidators,function(t,e){l(e,null)}),!1)}function a(){var i=[],r=!0;o($.$asyncValidators,function(o,s){var a=o(t,e);if(!P(a))throw $o("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",a);l(s,n),i.push(a.then(function(){l(s,!0)},function(t){r=!1,l(s,!1)}))}),i.length?u.all(i).then(function(){c(r)},f):c(!0)}function l(t,e){h===k&&$.$setValidity(t,e)}function c(t){h===k&&i(t)}k++;var h=k;return r()&&s()?void a():void c(!1)},this.$commitViewValue=function(){var t=$.$viewValue;l.cancel(b),($.$$lastCommittedViewValue!==t||""===t&&$.$$hasNativeValidators)&&($.$$lastCommittedViewValue=t,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){$.$modelValue!==s&&$.$$writeModelToScope()}var i=$.$$lastCommittedViewValue,r=i;if(d=!v(r)||n)for(var o=0;o<$.$parsers.length;o++)if(r=$.$parsers[o](r),v(r)){d=!1;break}w($.$modelValue)&&isNaN($.$modelValue)&&($.$modelValue=g(t));var s=$.$modelValue,a=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=r,a&&($.$modelValue=r,e()),$.$$runValidators(r,$.$$lastCommittedViewValue,function(t){a||($.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){_(t,$.$modelValue),o($.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){$.$viewValue=t,$.$options&&!$.$options.updateOnDefault||$.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=$.$options;r&&y(r.debounce)&&(n=r.debounce,w(n)?i=n:w(n[e])?i=n[e]:w(n["default"])&&(i=n["default"])),l.cancel(b),i?b=l(function(){$.$commitViewValue()},i):c.$$phase?$.$commitViewValue():t.$apply(function(){$.$commitViewValue()})},t.$watch(function(){var e=g(t);if(e!==$.$modelValue&&($.$modelValue===$.$modelValue||e===e)){$.$modelValue=$.$$rawModelValue=e,d=n;for(var i=$.$formatters,r=i.length,o=e;r--;)o=i[r](o);$.$viewValue!==o&&($.$viewValue=$.$$lastCommittedViewValue=o,$.$render(),$.$$runValidators(e,o,f))}return e})}],Co=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:xo,priority:1,compile:function(e){return e.addClass(vo).addClass(_o).addClass(mo),{pre:function(t,e,n,i){var r=i[0],o=i[1]||Or;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ko=/(\s+|^)default(\s+|$)/,To=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var i=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=fi(this.$options.updateOn.replace(ko,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},So=An({terminal:!0,priority:1e3}),Do=["$locale","$interpolate",function(t,e){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,s,a){function l(t){s.text(t||"")}var c,u=a.count,h=a.$attr.when&&s.attr(a.$attr.when),d=a.offset||0,p=r.$eval(h)||{},f={},m=e.startSymbol(),g=e.endSymbol(),v=m+u+"-"+d+g,y=ui.noop;o(a,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+Xn(n[2]);p[r]=s.attr(a.$attr[e])}}),o(p,function(t,i){f[i]=e(t.replace(n,v))}),r.$watch(u,function(e){var n=parseFloat(e),i=isNaN(n);i||n in p||(n=t.pluralCat(n-d)),n===c||i&&isNaN(c)||(y(),y=r.$watch(f[n],l),c=n)})}}}],Ao=["$parse","$animate",function(t,s){var a="$$NG_REMOVED",l=i("ngRepeat"),c=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},u=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var p=d.ngRepeat,f=e.createComment(" end ngRepeat: "+p+" "),m=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=m[1],v=m[2],y=m[3],_=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b=m[3]||m[1],w=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var $,x,C,k,T={$id:Wt};return _?$=t(_):(C=function(t,e){return Wt(e)},k=function(t){return t}),function(t,e,i,d,m){$&&(x=function(e,n,i){return w&&(T[w]=e),T[b]=n,T.$index=i,$(t,T)});var g=ct();t.$watchCollection(v,function(i){var d,v,_,$,T,S,D,A,E,P,M,I,O=e[0],N=ct();if(y&&(t[y]=i),r(i))E=i,A=x||C;else{A=x||k,E=[];for(var L in i)i.hasOwnProperty(L)&&"$"!=L.charAt(0)&&E.push(L);E.sort()}for($=E.length,M=new Array($),d=0;d<$;d++)if(T=i===E?d:E[d],S=i[T],D=A(T,S,d),g[D])P=g[D],delete g[D],N[D]=P,M[d]=P;else{if(N[D])throw o(M,function(t){t&&t.scope&&(g[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,D,S);M[d]={id:D,scope:n,clone:n},N[D]=!0}for(var H in g){if(P=g[H],I=lt(P.clone),s.leave(I),I[0].parentNode)for(d=0,v=I.length;d<v;d++)I[d][a]=!0;P.scope.$destroy()}for(d=0;d<$;d++)if(T=i===E?d:E[d],S=i[T],P=M[d],P.scope){_=O;do _=_.nextSibling;while(_&&_[a]);u(P)!=_&&s.move(lt(P.clone),null,ni(O)),O=h(P),c(P.scope,d,b,S,w,T,$)}else m(function(t,e){P.scope=e;var n=f.cloneNode(!1);t[t.length++]=n,s.enter(t,null,ni(O)),O=n,P.clone=t,N[P.id]=P,c(P.scope,d,b,S,w,T,$)});g=N})}}}}],Eo="ng-hide",Po="ng-hide-animate",Mo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,Eo,{tempClasses:Po})})}}}],Io=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,Eo,{tempClasses:Po})})}}}],Oo=An(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),No=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=r.ngSwitch||r.on,l=[],c=[],u=[],h=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var i,r;for(i=0,r=u.length;i<r;++i)t.cancel(u[i]);for(u.length=0,i=0,r=h.length;i<r;++i){var a=lt(c[i].clone);h[i].$destroy();var p=u[i]=t.leave(a);p.then(d(u,i))}c.length=0,h.length=0,(l=s.cases["!"+n]||s.cases["?"])&&o(l,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var s={clone:i};c.push(s),t.enter(i,o.parent(),o)})})})}}}],Lo=An({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Ho=An({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Ro=An({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",U(e));o(function(t){e.empty(),e.append(t)})}}),zo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Wo=i("ngOptions"),Fo=g({restrict:"A",terminal:!0}),jo=["$compile","$parse",function(t,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var i,r,o=this,s={},l=a;o.databound=n.ngModel,o.init=function(t,e,n){l=t,i=e,r=n},o.addOption=function(e,n){st(e,'"option value"'),s[e]=!0,l.$viewValue==e&&(t.val(e),r.parent()&&r.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete s[t],l.$viewValue===t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+Wt(e)+" ?";r.val(n),t.prepend(r),t.val(n),r.prop("selected",!0)},o.hasOption=function(t){return s.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=f})}],link:function(a,l,c,u){function h(t,e,n,i){n.$render=function(){var t=n.$viewValue;i.hasOption(t)?(C.parent()&&C.remove(),e.val(t),""===t&&f.prop("selected",!0)):null==t&&f?e.val(""):i.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(e.val())})})}function d(t,e,n){var i;n.$render=function(){var t=new Ft(n.$viewValue);o(e.find("option"),function(e){e.selected=y(t.get(e.value))})},t.$watch(function(){R(i,n.$viewValue)||(i=H(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function p(e,a,l){function c(t,n,i){return R[S]=i,E&&(R[E]=n),t(e,R)}function u(){e.$apply(function(){var t,n=I(e)||[];if(v)t=[],o(a.val(),function(e){e=N?L[e]:e,t.push(h(e,n[e]))});else{var i=N?L[a.val()]:a.val();t=h(i,n[i])}l.$setViewValue(t),C()})}function h(t,e){if("?"===t)return n;if(""===t)return null;var i=A?A:M;return c(i,t,e)}function d(){var t,n=I(e);if(n&&pi(n)){t=new Array(n.length);for(var i=0,r=n.length;i<r;i++)t[i]=c(T,i,n[i]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=c(T,o,n[o]))}return t}function p(t){var e;if(v)if(N&&pi(t)){e=new Ft([]);for(var n=0;n<t.length;n++)e.put(c(N,null,t[n]),!0)}else e=new Ft(t);else N&&(t=c(N,null,t));return function(n,i){var r;return r=N?N:A?A:M,v?y(e.remove(c(r,n,i))):t===c(r,n,i)}}function f(){w||(e.$$postDigest(C),w=!0)}function g(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function C(){w=!1;var t,n,i,r,u,h,d,f,_,C,k,S,D,A,M,O,z,W={"":[]},F=[""],j=l.$viewValue,q=I(e)||[],B=E?s(q):q,U={},V=p(j),Y=!1;for(L={},S=0;C=B.length,S<C;S++)d=S,E&&(d=B[S],"$"===d.charAt(0))||(f=q[d],t=c(P,d,f)||"",(n=W[t])||(n=W[t]=[],F.push(t)),D=V(d,f),Y=Y||D,O=c(T,d,f),O=y(O)?O:"",z=N?N(e,R):E?B[S]:S,N&&(L[z]=d),n.push({id:z,label:O,selected:D}));for(v||(b||null===j?W[""].unshift({id:"",label:"",selected:!Y}):Y||W[""].unshift({id:"?",label:"",selected:!0})),k=0,_=F.length;k<_;k++){for(t=F[k],n=W[t],H.length<=k?(r={element:x.clone().attr("label",t),label:n.label},u=[r],H.push(u),a.append(r.element)):(u=H[k],r=u[0],r.label!=t&&r.element.attr("label",r.label=t)),A=null,S=0,C=n.length;S<C;S++)i=n[S],(h=u[S+1])?(A=h.element,h.label!==i.label&&(g(U,h.label,!1),g(U,i.label,!0),A.text(h.label=i.label),A.prop("label",h.label)),h.id!==i.id&&A.val(h.id=i.id),A[0].selected!==i.selected&&(A.prop("selected",h.selected=i.selected),ei&&A.prop("selected",h.selected))):(""===i.id&&b?M=b:(M=$.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).prop("label",i.label).text(i.label),u.push(h={element:M,label:i.label,id:i.id,selected:i.selected}),g(U,i.label,!0),A?A.after(M):r.element.append(M),A=M);for(S++;u.length>S;)i=u.pop(),g(U,i.label,!1),i.element.remove()}for(;H.length>k;){for(n=H.pop(),S=1;S<n.length;++S)g(U,n[S].label,!1);n[0].element.remove()}o(U,function(t,e){t>0?m.addOption(e):t<0&&m.removeOption(e)})}var k;if(!(k=_.match(r)))throw Wo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",_,U(a));var T=i(k[2]||k[1]),S=k[4]||k[6],D=/ as /.test(k[0])&&k[1],A=D?i(D):null,E=k[5],P=i(k[3]||""),M=i(k[2]?k[1]:S),I=i(k[7]),O=k[8],N=O?i(k[8]):null,L={},H=[[{element:a,label:""}]],R={};b&&(t(b)(e),b.removeClass("ng-scope"),b.remove()),a.empty(),a.on("change",u),l.$render=C,e.$watchCollection(I,f),e.$watchCollection(d,f),v&&e.$watchCollection(function(){return l.$modelValue},f)}if(u[1]){for(var f,m=u[0],g=u[1],v=c.multiple,_=c.ngOptions,b=!1,w=!1,$=ni(e.createElement("option")),x=ni(e.createElement("optgroup")),C=$.clone(),k=0,T=l.children(),S=T.length;k<S;k++)if(""===T[k].value){f=b=T.eq(k);break}m.init(g,b,C),v&&(g.$isEmpty=function(t){return!t||0===t.length}),_?p(a,l,g):v?d(a,l,g):h(a,l,g,m)}}}}],qo=["$interpolate",function(t){var e={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o="$selectController",s=n.parent(),a=s.data(o)||s.parent().data(o);a&&a.databound||(a=e),r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&a.removeOption(e),a.addOption(t,n)}):a.addOption(i.value,n),n.on("$destroy",function(){a.removeOption(i.value)})}}}}],Bo=g({restrict:"E",terminal:!1}),Uo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Vo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(b(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,U(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||v(s)||s.test(e)}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=d(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=d(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(it(),pt(ui),void ni(e).ready(function(){J(e,Z)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(t,e,n){"use strict";function i(){function t(t,n){return e.extend(Object.create(t),n)}function n(t,e){var n=e.caseInsensitiveMatch,i={originalPath:t,regexp:t},r=i.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,i){var o="?"===i?i:null,s="*"===i?i:null;return r.push({name:n,optional:!!o}),e=e||"",""+(o?"":e)+"(?:"+(o?e:"")+(s&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+t+"$",n?"i":""),i}var i={};this.when=function(t,r){var o=e.copy(r);if(e.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),e.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),i[t]=e.extend(o,t&&n(t,o)),t){var s="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";i[s]=e.extend({redirectTo:t},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,o,s,a,c,u){function h(t,e){var n=e.keys,i={};if(!e.regexp)return null;var r=e.regexp.exec(t);if(!r)return null;for(var o=1,s=r.length;o<s;++o){var a=n[o-1],l=r[o];a&&l&&(i[a.name]=l)}return i}function d(t){var i=_.current;g=f(),v=g&&i&&g.$$route===i.$$route&&e.equals(g.pathParams,i.pathParams)&&!g.reloadOnSearch&&!y,v||!i&&!g||n.$broadcast("$routeChangeStart",g,i).defaultPrevented&&t&&t.preventDefault()}function p(){var t=_.current,i=g;v?(t.params=i.params,e.copy(t.params,o),n.$broadcast("$routeUpdate",t)):(i||t)&&(y=!1,_.current=i,i&&i.redirectTo&&(e.isString(i.redirectTo)?r.path(m(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),s.when(i).then(function(){if(i){var t,n,r=e.extend({},i.resolve);return e.forEach(r,function(t,n){r[n]=e.isString(t)?a.get(t):a.invoke(t,null,null,n)}),e.isDefined(t=i.template)?e.isFunction(t)&&(t=t(i.params)):e.isDefined(n=i.templateUrl)&&(e.isFunction(n)&&(n=n(i.params)),e.isDefined(n)&&(i.loadedTemplateUrl=u.valueOf(n),t=c(n))),e.isDefined(t)&&(r.$template=t),s.all(r)}}).then(function(r){i==_.current&&(i&&(i.locals=r,e.copy(i.params,o)),n.$broadcast("$routeChangeSuccess",i,t))},function(e){i==_.current&&n.$broadcast("$routeChangeError",i,t,e)}))}function f(){var n,o;return e.forEach(i,function(i,s){!o&&(n=h(r.path(),i))&&(o=t(i,{params:e.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&t(i[null],{params:{},pathParams:{}})}function m(t,n){var i=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)i.push(t);else{var r=t.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var g,v,y=!1,_={routes:i,reload:function(){y=!0,n.$evalAsync(function(){d(),p()})},updateParams:function(t){if(!this.current||!this.current.$$route)throw l("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),r.path(m(this.current.$$route.originalPath,t)),r.search(t)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),_}]}function r(){this.$get=function(){return{}}}function o(t,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,s,a,l){function c(){p&&(i.cancel(p),p=null),h&&(h.$destroy(),h=null),d&&(p=i.leave(d),p.then(function(){p=null}),d=null)}function u(){var s=t.current&&t.current.locals,a=s&&s.$template;if(e.isDefined(a)){var u=r.$new(),p=t.current,g=l(u,function(t){i.enter(t,null,d||o).then(function(){!e.isDefined(f)||f&&!r.$eval(f)||n()}),c()});d=g,h=p.scope=u,h.$emit("$viewContentLoaded"),h.$eval(m)}else c()}var h,d,p,f=s.autoscroll,m=s.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function s(t,e,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,s=o.locals;r.html(s.$template);var a=t(r.contents());if(o.controller){s.$scope=i;var l=e(o.controller,s);o.controllerAs&&(i[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}a(i)}}}var a=e.module("ngRoute",["ng"]).provider("$route",i),l=e.$$minErr("ngRoute");a.provider("$routeParams",r),a.directive("ngView",o),a.directive("ngView",s),o.$inject=["$route","$anchorScroll","$animate"],s.$inject=["$compile","$controller","$route"]}(window,window.angular),function(t,e,n){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var t="$$ngAnimateChildren";return function(n,i,r){var o=r.ngAnimateChildren;e.isString(o)&&0===o.length?i.data(t,!0):n.$watch(o,function(e){i.data(t,!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){var n=e[0].body;return function(e){return t(function(){e(n.offsetWidth)})}}]).config(["$provide","$animateProvider",function(i,r){function o(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==g)return n}}function s(t){return t&&e.element(t)}function a(t){return e.element(o(t))}function l(t,e){return o(t)==o(e)}var c,u=e.noop,h=e.forEach,d=r.$$selectors,p=e.isArray,f=e.isString,m=e.isObject,g=1,v="$$ngAnimateState",y="$$ngAnimateChildren",_="ng-animate",b={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(t,n,i,g,w,$,x,C,k,T){function S(t,e){var n=t.data(v)||{};return e&&(n.running=!0,n.structural=!0,t.data(v,n)),n.disabled||n.running&&n.structural}function D(t){var e,i=n.defer();return i.promise.$$cancelFn=function(){e&&e()},x.$$postDigest(function(){e=t(function(){i.resolve()})}),i.promise}function A(t){if(m(t))return t.tempClasses&&f(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t}function E(t,e,n){n=n||{};var i={};h(n,function(t,e){h(e.split(" "),function(e){i[e]=t})});var r=Object.create(null);h((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0});var o=[],s=[];return h(e&&e.classes||[],function(t,e){var n=r[e],a=i[e]||{};t===!1?(n||"addClass"==a.event)&&s.push(e):t===!0&&(n&&"removeClass"!=a.event||o.push(e))}),o.length+s.length>0&&[o.join(" "),s.join(" ")]}function P(t){if(t){var e=[],n={},r=t.substr(1).split(".");(g.transitions||g.animations)&&e.push(i.get(d[""]));for(var o=0;o<r.length;o++){var s=r[o],a=d[s];a&&!n[s]&&(e.push(i.get(a)),n[s]=!0)}return e}}function M(t,n,i,r){function o(t,e){var n=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];if(n||i)return"leave"==e&&(i=n,n=null),$.push({event:e,fn:n}),_.push({event:e,fn:i}),!0}function s(e,n,o){function s(t){if(n){if((n[t]||u)(),++d<a.length)return;n=null}o()}var a=[];h(e,function(t){t.fn&&a.push(t)});var d=0;h(a,function(e,o){var a=function(){s(o)};switch(e.event){case"setClass":n.push(e.fn(t,l,c,a,r));break;case"animate":n.push(e.fn(t,i,r.from,r.to,a));break;case"addClass":n.push(e.fn(t,l||i,a,r));break;case"removeClass":n.push(e.fn(t,c||i,a,r));break;default:n.push(e.fn(t,a,r))}}),n&&0===n.length&&o()}var a=t[0];if(a){r&&(r.to=r.to||{},r.from=r.from||{});var l,c;p(i)&&(l=i[0],c=i[1],l?c?i=l+" "+c:(i=l,n="addClass"):(i=c,n="removeClass"));var d="setClass"==n,f=d||"addClass"==n||"removeClass"==n||"animate"==n,m=t.attr("class"),g=m+" "+i;if(W(g)){var v=u,y=[],_=[],b=u,w=[],$=[],x=(" "+g).replace(/\s+/g,".");return h(P(x),function(t){var e=o(t,n);!e&&d&&(o(t,"addClass"),o(t,"removeClass"))}),{node:a,event:n,className:i,isClassBased:f,isSetClassOperation:d,applyStyles:function(){r&&t.css(e.extend(r.from||{},r.to||{}))},before:function(t){v=t,s(_,y,function(){v=u,t()})},after:function(t){b=t,s($,w,function(){b=u,t()})},cancel:function(){y&&(h(y,function(t){(t||u)(!0)}),v(!0)),w&&(h(w,function(t){(t||u)(!0)}),b(!0))}}}}}function I(t,n,i,r,o,s,a,l){function d(e){var r="$animate:"+e;x&&x[r]&&x[r].length>0&&$(function(){i.triggerHandler(r,{event:t,className:n})})}function p(){d("before")}function f(){d("after")}function m(){d("close"),l()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,s())}function y(){if(!y.hasBeenRun){w&&w.applyStyles(),y.hasBeenRun=!0,a&&a.tempClasses&&h(a.tempClasses,function(t){c.removeClass(i,t)});var e=i.data(v);e&&(w&&w.isClassBased?N(i,n):($(function(){var e=i.data(v)||{};I==e.index&&N(i,n,t)}),i.data(v,e))),m()}}var b=u,w=M(i,t,n,a);if(!w)return g(),p(),f(),y(),b;t=w.event,n=w.className;var x=e.element._data(w.node);if(x=x&&x.events,r||(r=o?o.parent():i.parent()),L(i,r))return g(),p(),f(),y(),b;var C=i.data(v)||{},k=C.active||{},T=C.totalActive||0,S=C.last,D=!1;if(T>0){var A=[];if(w.isClassBased){if("setClass"==S.event)A.push(S),N(i,n);else if(k[n]){var E=k[n];E.event==t?D=!0:(A.push(E),N(i,n))}}else if("leave"==t&&k["ng-leave"])D=!0;else{for(var P in k)A.push(k[P]);C={},N(i,!0)}A.length>0&&h(A,function(t){t.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==t||D||(D="addClass"==t==i.hasClass(n)),D)return g(),p(),f(),m(),b;k=C.active||{},T=C.totalActive||0,"leave"==t&&i.one("$destroy",function(t){var n=e.element(this),i=n.data(v);if(i){var r=i.active["ng-leave"];r&&(r.cancel(),N(n,"ng-leave"))}}),c.addClass(i,_),a&&a.tempClasses&&h(a.tempClasses,function(t){c.addClass(i,t)});var I=R++;return T++,k[n]=w,i.data(v,{last:w,active:k,index:I,totalActive:T}),p(),w.before(function(e){var r=i.data(v);e=e||!r||!r.active[n]||w.isClassBased&&r.active[n].event!=t,g(),e===!0?y():(f(),w.after(y))}),w.cancel}function O(t){var n=o(t);if(n){var i=e.isFunction(n.getElementsByClassName)?n.getElementsByClassName(_):n.querySelectorAll("."+_);h(i,function(t){t=e.element(t);var n=t.data(v);n&&n.active&&h(n.active,function(t){t.cancel()})})}}function N(t,e){if(l(t,w))b.disabled||(b.running=!1,b.structural=!1);else if(e){var n=t.data(v)||{},i=e===!0;!i&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),!i&&n.totalActive||(c.removeClass(t,_),t.removeData(v))}}function L(t,n){if(b.disabled)return!0;if(l(t,w))return b.running;var i,r,o;do{if(0===n.length)break;var s=l(n,w),a=s?b:n.data(v)||{};if(a.disabled)return!0;if(s&&(o=!0),i!==!1){var c=n.data(y);e.isDefined(c)&&(i=c)}r=r||a.running||a.last&&!a.last.isClassBased}while(n=n.parent());return!o||!i&&r}c=T,w.data(v,b);var H=x.$watch(function(){return k.totalPendingRequests},function(t,e){0===t&&(H(),x.$$postDigest(function(){x.$$postDigest(function(){b.running=!1})}))}),R=0,z=r.classNameFilter(),W=z?function(t){return z.test(t)}:function(){return!0};return{animate:function(t,e,n,i,r){return i=i||"ng-inline-animate",r=A(r)||{},r.from=n?e:null,r.to=n?n:e,D(function(e){return I("animate",i,a(t),null,null,u,r,e)})},enter:function(n,i,r,o){return o=A(o),n=e.element(n),i=s(i),r=s(r),S(n,!0),t.enter(n,i,r),D(function(t){return I("enter","ng-enter",a(n),i,r,u,o,t)})},leave:function(n,i){return i=A(i),n=e.element(n),O(n),S(n,!0),D(function(e){return I("leave","ng-leave",a(n),null,null,function(){t.leave(n)},i,e)})},move:function(n,i,r,o){
return o=A(o),n=e.element(n),i=s(i),r=s(r),O(n),S(n,!0),t.move(n,i,r),D(function(t){return I("move","ng-move",a(n),i,r,u,o,t)})},addClass:function(t,e,n){return this.setClass(t,e,[],n)},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},setClass:function(n,i,r,s){s=A(s);var l="$$animateClasses";if(n=e.element(n),n=a(n),S(n))return t.$$setClassImmediately(n,i,r,s);var c,u=n.data(l),d=!!u;return u||(u={},u.classes={}),c=u.classes,i=p(i)?i:i.split(" "),h(i,function(t){t&&t.length&&(c[t]=!0)}),r=p(r)?r:r.split(" "),h(r,function(t){t&&t.length&&(c[t]=!1)}),d?(s&&u.options&&(u.options=e.extend(u.options||{},s)),u.promise):(n.data(l,u={classes:c,options:s}),u.promise=D(function(e){var i,r,s,a=o(n);if(a&&(i=n.data(l),n.removeData(l),s=n.parent(),r=a.parentNode),!r||r.$$NG_REMOVED||a.$$NG_REMOVED)return void e();var c=n.data(v)||{},u=E(n,i,c.active);return u?I("setClass",u,n,s,null,function(){u[0]&&t.$$addClassImmediately(n,u[0]),u[1]&&t.$$removeClassImmediately(n,u[1])},i.options,e):e()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)N(e);else{var n=e.data(v)||{};n.disabled=!0,e.data(v,n)}break;case 1:b.disabled=!t;break;default:t=!b.disabled}return!!t}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,s,a){function l(){N||(N=a(function(){G=[],N=null,V={}}))}function d(t,e){N&&N(),G.push(e),N=a(function(){h(G,function(t){t()}),G=[],N=null,V={}})}function m(t,n){var i=o(t);t=e.element(i),Q.push(t);var r=Date.now()+n;r<=X||(s.cancel(K),X=r,K=s(function(){v(Q),Q=[]},n,!1))}function v(t){h(t,function(t){var e=t.data(j);e&&h(e.closeAnimationFns,function(t){t()})})}function y(t,e){var n=e?V[e]:null;if(!n){var r=0,o=0,s=0,a=0;h(t,function(t){if(t.nodeType==g){var e=i.getComputedStyle(t)||{},n=e[E+L];r=Math.max(_(n),r);var l=e[E+R];o=Math.max(_(l),o);e[M+R];a=Math.max(_(e[M+R]),a);var c=_(e[M+L]);c>0&&(c*=parseInt(e[M+z],10)||1),s=Math.max(c,s)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:a,animationDuration:s},e&&(V[e]=n)}return n}function _(t){var e=0,n=f(t)?t.split(/\s*,\s*/):[];return h(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function b(t){var e=t.parent(),n=e.data(F);return n||(e.data(F,++Y),n=Y),n+"-"+o(t).getAttribute("class")}function w(t,e,n,i){var r=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,s=b(e),a=s+" "+n,l=V[a]?++V[a].total:0,u={};if(l>0){var h=n+"-stagger",d=s+" "+h,p=!V[d];p&&c.addClass(e,h),u=y(e,d),p&&c.removeClass(e,h)}c.addClass(e,n);var f=e.data(j)||{},m=y(e,a),g=m.transitionDuration,v=m.animationDuration;if(r&&0===g&&0===v)return c.removeClass(e,n),!1;var _=i||r&&g>0,w=v>0&&u.animationDelay>0&&0===u.animationDuration,$=f.closeAnimationFns||[];e.data(j,{stagger:u,cacheKey:a,running:f.running||0,itemIndex:l,blockTransition:_,closeAnimationFns:$});var k=o(e);return _&&(x(k,!0),i&&e.css(i)),w&&C(k,!0),!0}function $(t,e,n,i,r){function a(){e.off(R,l),c.removeClass(e,p),c.removeClass(e,f),L&&s.cancel(L),D(e,n);var t=o(e);for(var i in v)t.style.removeProperty(v[i])}function l(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(q));Math.max(n-H,0)>=M&&r>=A&&i()}var u=o(e),d=e.data(j);if(u.getAttribute("class").indexOf(n)==-1||!d)return void i();var p="",f="";h(n.split(" "),function(t,e){var n=(e>0?" ":"")+t;p+=n+"-active",f+=n+"-pending"});var g="",v=[],_=d.itemIndex,b=d.stagger,w=0;if(_>0){var $=0;b.transitionDelay>0&&0===b.transitionDuration&&($=b.transitionDelay*_);var k=0;b.animationDelay>0&&0===b.animationDuration&&(k=b.animationDelay*_,v.push(O+"animation-play-state")),w=Math.round(100*Math.max($,k))/100}w||(c.addClass(e,p),d.blockTransition&&x(u,!1));var T=d.cacheKey+" "+p,S=y(e,T),A=Math.max(S.transitionDuration,S.animationDuration);if(0===A)return c.removeClass(e,p),D(e,n),void i();!w&&r&&Object.keys(r).length>0&&(S.transitionDuration||(e.css("transition",S.animationDuration+"s linear all"),v.push("transition")),e.css(r));var E=Math.max(S.transitionDelay,S.animationDelay),M=E*U;if(v.length>0){var N=u.getAttribute("style")||"";";"!==N.charAt(N.length-1)&&(N+=";"),u.setAttribute("style",N+" "+g)}var L,H=Date.now(),R=I+" "+P,z=(E+A)*B,W=(w+z)*U;return w>0&&(c.addClass(e,f),L=s(function(){L=null,S.transitionDuration>0&&x(u,!1),S.animationDuration>0&&C(u,!1),c.addClass(e,p),c.removeClass(e,f),r&&(0===S.transitionDuration&&e.css("transition",S.animationDuration+"s linear all"),e.css(r),v.push("transition"))},w*U,!1)),e.on(R,l),d.closeAnimationFns.push(function(){a(),i()}),d.running++,m(e,W),a}function x(t,e){t.style[E+H]=e?"none":""}function C(t,e){t.style[M+W]=e?"paused":""}function k(t,e,n,i){if(w(t,e,n,i))return function(t){t&&D(e,n)}}function T(t,e,n,i,r){return e.data(j)?$(t,e,n,i,r):(D(e,n),void i())}function S(t,e,n,i,r){var o=k(t,e,n,r.from);if(!o)return l(),void i();var s=o;return d(e,function(){s=T(t,e,n,i,r.to)}),function(t){(s||u)(t)}}function D(t,e){c.removeClass(t,e);var n=t.data(j);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(j))}function A(t,e){var n="";return t=p(t)?t:t.split(/\s+/),h(t,function(t,i){t&&t.length>0&&(n+=(i>0?" ":"")+t+e)}),n}var E,P,M,I,O="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(O="-webkit-",E="WebkitTransition",P="webkitTransitionEnd transitionend"):(E="transition",P="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(O="-webkit-",M="WebkitAnimation",I="webkitAnimationEnd animationend"):(M="animation",I="animationend");var N,L="Duration",H="Property",R="Delay",z="IterationCount",W="PlayState",F="$$ngAnimateKey",j="$$ngAnimateCSS3Data",q=3,B=1.5,U=1e3,V={},Y=0,G=[],K=null,X=0,Q=[];return{animate:function(t,e,n,i,r,o){return o=o||{},o.from=n,o.to=i,S("animate",t,e,r,o)},enter:function(t,e,n){return n=n||{},S("enter",t,"ng-enter",e,n)},leave:function(t,e,n){return n=n||{},S("leave",t,"ng-leave",e,n)},move:function(t,e,n){return n=n||{},S("move",t,"ng-move",e,n)},beforeSetClass:function(t,e,n,i,r){r=r||{};var o=A(n,"-remove")+" "+A(e,"-add"),s=k("setClass",t,o,r.from);return s?(d(t,i),s):(l(),void i())},beforeAddClass:function(t,e,n,i){i=i||{};var r=k("addClass",t,A(e,"-add"),i.from);return r?(d(t,n),r):(l(),void n())},beforeRemoveClass:function(t,e,n,i){i=i||{};var r=k("removeClass",t,A(e,"-remove"),i.from);return r?(d(t,n),r):(l(),void n())},setClass:function(t,e,n,i,r){r=r||{},n=A(n,"-remove"),e=A(e,"-add");var o=n+" "+e;return T("setClass",t,o,i,r.to)},addClass:function(t,e,n,i){return i=i||{},T("addClass",t,A(e,"-add"),n,i.to)},removeClass:function(t,e,n,i){return i=i||{},T("removeClass",t,A(e,"-remove"),n,i.to)}}}])}])}(window,window.angular),angular.module("MessageCenter",["ngAnimate","template/message-center/message.html","template/message-center/message-center.html"]).run(["$document","$compile","$rootScope",function(t,e,n){if(!t.find("message-center").length){var i=e("<message-center></message-center>")(n);t.find("body").append(i)}}]).factory("MessageService",["$rootScope",function(t){var e={};e.config={disabled:!1,max:3,timeout:3e3};var n=[],i=[],r=0;return e.configure=function(t){this.config.disabled=angular.isDefined(t.disabled)?t.disabled:this.config.disabled,this.config.max=angular.isDefined(t.max)?t.max:this.config.max,this.config.timeout=angular.isDefined(t.timeout)?t.timeout:this.config.timeout},e.broadcast=function(o,s){if(this.config.disabled)return void i.push({message:o,opts:s});r++;var a={classes:[],message:o,id:r,timeout:e.config.timeout};s&&(s.important&&(a.type="important"),s.color&&a.classes.push(s.color),angular.isDefined(s.timeout)&&angular.isNumber(s.timeout)&&(a.timeout=s.timeout)),n.push(a),t.$broadcast("MessageService.broadcast",a)},e.info=function(t,e){e=e||{},e.color="info",this.broadcast(t,e)},e.danger=function(t,e){e=e||{},e.color="danger",this.broadcast(t,e)},e.error=function(t,e){e=e||{},e.color="danger",this.broadcast(t,e)},e.success=function(t,e){e=e||{},e.color="success",this.broadcast(t,e)},e.warn=function(t,e){e=e||{},e.color="warning",this.broadcast(t,e)},e.warning=function(t,e){e=e||{},e.color="warning",this.broadcast(t,e)},e.getHistory=function(){return n},e.getDisabledHistory=function(){return i},e.clearHistory=function(){n=[],r=0},e}]).directive("messageCenter",["$timeout","MessageService",function(t,e){function n(t,e){var n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}return{restrict:"E",scope:{},templateUrl:"template/message-center/message-center.html",controller:["$scope",function(t){t.removeItem=function(e){e.type?n(t.impMessages,e):n(t.messages,e)}}],link:function(i){function r(e,i){if(0!==e.length){var o=e.shift();i.push(o),t(function(){n(i,o),e.length>0&&t(function(){r(e,i)},o.timeout)},o.timeout)}}i.messages=[],i.impMessages=[];var o=[],s=[];i.$on("MessageService.broadcast",function(t,n){var a,l;n.type?(a=s,l=i.impMessages):(a=o,l=i.messages),a.push(n),l.length<e.config.max&&1===a.length&&r(a,l)})}}}]).directive("message",[function(){return{replace:!0,restrict:"E",templateUrl:"template/message-center/message.html"}}]),angular.module("ng-context-menu",[]).factory("ContextMenuService",function(){return{element:null,menuElement:null}}).directive("contextMenu",["$document","ContextMenuService",function(t,e){return{restrict:"A",scope:{callback:"&contextMenu",disabled:"&contextMenuDisabled",closeCallback:"&contextMenuClose"},link:function(n,i,r){function o(e,n){n.addClass("open");var i=t[0].documentElement,r=(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),o=(window.pageYOffset||i.scrollTop)-(i.clientTop||0),s=n[0].scrollWidth,a=n[0].scrollHeight,l=i.clientWidth+r,u=i.clientHeight+o,h=s+e.pageX,d=a+e.pageY,p=Math.max(e.pageX-r,0),f=Math.max(e.pageY-o,0);h>l&&(p-=h-l),d>u&&(f-=d-u),n.css("top",f+"px"),n.css("left",p+"px"),c=!0}function s(t){t.removeClass("open"),c&&n.closeCallback(),c=!1}function a(t){!n.disabled()&&c&&27===t.keyCode&&n.$apply(function(){s(e.menuElement)})}function l(t){n.disabled()||!c||2===t.button&&t.target===e.element||n.$apply(function(){s(e.menuElement)})}var c=!1;i.bind("contextmenu",function(t){n.disabled()||(null!==e.menuElement&&s(e.menuElement),e.menuElement=angular.element(document.getElementById(r.target)),e.element=t.target,t.preventDefault(),t.stopPropagation(),n.$apply(function(){n.callback({$event:t})}),n.$apply(function(){o(t,e.menuElement)}))}),t.bind("keyup",a),t.bind("click",l),t.bind("contextmenu",l),n.$on("$destroy",function(){t.unbind("keyup",a),t.unbind("click",l),t.unbind("contextmenu",l)})}}}]),angular.module("template/message-center/message-center.html",[]).run(["$templateCache",function(t){t.put("template/message-center/message-center.html",'<span><span class="message-center-important"><message ng-repeat="message in impMessages" class="message-animation"></message></span><span class="message-center-regular"><message ng-repeat="message in messages" class="message-animation"></message></span><span>')}]),angular.module("template/message-center/message.html",[]).run(["$templateCache",function(t){t.put("template/message-center/message.html",'<div class="message-box" ng-class="message.classes"><span class="message">{{message.message}}</span><button type="button" class="close" aria-hidden="true" ng-click="removeItem(message)">&times;</button></div>')}]),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=rt.type(t);return"function"!==n&&!rt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(dt.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return rt.inArray(t,e)>=0!==n})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=bt[t]={};return rt.each(t.match(_t)||[],function(t,n){e[n]=!0}),e}function s(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(ft.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(s(),rt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(kt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ct.test(n)?rt.parseJSON(n):n)}catch(r){}rt.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!rt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(rt.acceptData(t)){var r,o,s=rt.expando,a=t.nodeType,l=a?rt.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=a?t[s]=G.pop()||rt.guid++:s),l[c]||(l[c]=a?{}:{toJSON:rt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=rt.extend(l[c],e):l[c].data=rt.extend(l[c].data,e)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[rt.camelCase(e)])):r=o,r}}function h(t,e,n){if(rt.acceptData(t)){var i,r,o=t.nodeType,s=o?rt.cache:t,a=o?t[rt.expando]:rt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){rt.isArray(e)?e=e.concat(rt.map(e,rt.camelCase)):e in i?e=[e]:(e=rt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!c(i):!rt.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?rt.cleanData([t],!0):nt.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(t){}}function m(t){var e=Lt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==xt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==xt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||rt.nodeName(i,e)?o.push(i):rt.merge(o,g(i,e));return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],o):o}function v(t){Et.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==rt.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Yt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){for(var n,i=0;null!=(n=t[i]);i++)rt._data(n,"globalEval",!e||rt._data(e[i],"globalEval"))}function $(t,e){if(1===e.nodeType&&rt.hasData(t)){var n,i,r,o=rt._data(t),s=rt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;i<r;i++)rt.event.add(e,n,a[n][i])}s.data&&(s.data=rt.extend({},s.data))}}function x(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[rt.expando]){r=rt._data(e);for(i in r.events)rt.removeEvent(e,i,r.handle);e.removeAttribute(rt.expando)}"script"===n&&e.text!==t.text?(_(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!rt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Et.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function C(e,n){var i,r=rt(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function k(t){var e=ft,n=Zt[t];return n||(n=C(t,e),"none"!==n&&n||(Jt=(Jt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Jt[0].contentWindow||Jt[0].contentDocument).document,e.write(),e.close(),n=C(t,e),Jt.detach()),Zt[t]=n),n}function T(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function S(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=de.length;r--;)if(e=de[r]+n,e in t)return e;return i}function D(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)i=t[s],i.style&&(o[s]=rt._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Dt(i)&&(o[s]=rt._data(i,"olddisplay",k(i.nodeName)))):(r=Dt(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(s=0;s<a;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function A(t,e,n){var i=le.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function E(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=rt.css(t,n+St[o],!0,r)),i?("content"===n&&(s-=rt.css(t,"padding"+St[o],!0,r)),"margin"!==n&&(s-=rt.css(t,"border"+St[o]+"Width",!0,r))):(s+=rt.css(t,"padding"+St[o],!0,r),"padding"!==n&&(s+=rt.css(t,"border"+St[o]+"Width",!0,r)));return s}function P(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=te(t),s=nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=ee(t,e,o),(r<0||null==r)&&(r=t.style[e]),ie.test(r))return r;i=s&&(nt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+E(t,e,n||(s?"border":"content"),i,o)+"px"}function M(t,e,n,i,r){return new M.prototype.init(t,e,n,i,r)}function I(){return setTimeout(function(){pe=void 0}),pe=rt.now()}function O(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n=St[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function N(t,e,n){for(var i,r=(_e[e]||[]).concat(_e["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function L(t,e,n){var i,r,o,s,a,l,c,u,h=this,d={},p=t.style,f=t.nodeType&&Dt(t),m=rt._data(t,"fxshow");n.queue||(a=rt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,rt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=rt.css(t,"display"),u="none"===c?rt._data(t,"olddisplay")||k(t.nodeName):c,"inline"===u&&"none"===rt.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==k(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],me.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||rt.style(t,i)}else c=void 0;if(rt.isEmptyObject(d))"inline"===("none"===c?k(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=rt._data(t,"fxshow",{}),o&&(m.hidden=!f),f?rt(t).show():h.done(function(){rt(t).hide()}),h.done(function(){var e;rt._removeData(t,"fxshow");for(e in d)rt.style(t,e,d[e])});for(i in d)s=N(f?m[i]:0,i,h),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function H(t,e){var n,i,r,o,s;for(n in t)if(i=rt.camelCase(n),r=e[i],o=t[n],rt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=rt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,o=0,s=ye.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=pe||I(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:pe||I(),duration:n.duration,tweens:[],createTween:function(e,n){var i=rt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(H(u,c.opts.specialEasing);o<s;o++)if(i=ye[o].call(c,t,u,c.opts))return i;return rt.map(u,N,c),rt.isFunction(c.opts.start)&&c.opts.start.call(t,c),rt.fx.timer(rt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(_t)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function W(t,e,n,i){function r(a){var l;return o[a]=!0,rt.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===qe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function F(t,e){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function j(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function q(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function B(t,e,n,i){var r;if(rt.isArray(e))rt.each(e,function(e,r){n||Ye.test(t)?i(t,r):B(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==rt.type(e))i(t,e);else for(r in e)B(t+"["+r+"]",e[r],n,i)}function U(){try{return new t.XMLHttpRequest}catch(e){}}function V(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Y(t){return rt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var G=[],K=G.slice,X=G.concat,Q=G.push,J=G.indexOf,Z={},tt=Z.toString,et=Z.hasOwnProperty,nt={},it="1.11.3",rt=function(t,e){return new rt.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},rt.extend=rt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(c&&n&&(rt.isPlainObject(n)||(e=rt.isArray(n)))?(e?(e=!1,o=t&&rt.isArray(t)?t:[]):o=t&&rt.isPlainObject(t)?t:{},s[i]=rt.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray||function(t){return"array"===rt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&rt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(st,"ms-").replace(at,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,s=t.length,a=n(t);if(i){if(a)for(;o<s&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(a)for(;o<s&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):Q.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(J)return J.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;o<s;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,s=t.length,a=n(t),l=[];if(a)for(;o<s;o++)r=e(t[o],o,i),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&l.push(r);return X.apply([],l)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),rt.isFunction(t))return n=K.call(arguments,2),i=function(){return t.apply(e||this,n.concat(K.call(arguments)))},i.guid=t.guid=t.guid||rt.guid++,i},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,i){var r,o,s,a,l,c,h,p,f,m;if((e?e.ownerDocument||e:W)!==M&&P(e),e=e||M,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&O){if(11!==a&&(r=yt.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&R(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&w.getElementsByClassName)return J.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!N||!N.test(t))){if(p=h=z,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=k(t),(h=e.getAttribute("id"))?p=h.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=_t.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return J.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return S(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>$.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[z]=!0,t}function r(t){var e=M.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)$.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=j++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c=[F,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[z]||(e[z]={}),(a=l[i])&&a[0]===F&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[z]&&(r=v(r)),o&&!o[z]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,h,d=[],p=[],f=s.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:g(v,d,t,a,l),_=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,_,a,l),r)for(c=g(_,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(_[p[u]]=!(y[p[u]]=h));if(i){if(o||t){if(o){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(y[u]=h);o(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=o?tt(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else _=g(_===s?_.splice(f,_.length):_),o?o(null,s,_,l):J.apply(s,_)})}function y(t){for(var e,n,i,r=t.length,o=$.relative[t[0].type],s=o||$.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return tt(e,t)>-1},s,!0),u=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=$.relative[t[a].type])u=[p(f(u),n)];else{if(n=$.filter[t[a].type].apply(null,t[a].matches),n[z]){for(i=++a;i<r&&!$.relative[t[i].type];i++);return v(a>1&&f(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&d(t))}u.push(n)}return f(u)}function _(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,c){var u,h,d,p=0,f="0",m=i&&[],v=[],y=D,_=i||o&&$.find.TAG("*",c),b=F+=null==y?1:Math.random()||.1,w=_.length;for(c&&(D=s!==M&&s);f!==w&&null!=(u=_[f]);f++){if(o&&u){for(h=0;d=t[h++];)if(d(u,s,a)){l.push(u);break}c&&(F=b)}r&&((u=!d&&u)&&p--,i&&m.push(u))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(m,v,s,a);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}J.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(F=b,D=y),m};return r?i(s):s}var b,w,$,x,C,k,T,S,D,A,E,P,M,I,O,N,L,H,R,z="sizzle"+1*new Date,W=t.document,F=0,j=0,q=n(),B=n(),U=n(),V=function(t,e){return t===e&&(E=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,Q=K.push,J=K.push,Z=K.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={
ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),$t=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){P()};try{J.apply(K=Z.call(W.childNodes),W.childNodes),K[W.childNodes.length].nodeType}catch(Ct){J={apply:K.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:W;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,I=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),O=!C(i),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(i.getElementsByClassName),w.getById=r(function(t){return I.appendChild(t).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),w.getById?($.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},$.filter.ID=function(t){var e=t.replace(wt,$t);return function(t){return t.getAttribute("id")===e}}):(delete $.find.ID,$.filter.ID=function(t){var e=t.replace(wt,$t);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),$.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},$.find.CLASS=w.getElementsByClassName&&function(t,e){if(O)return e.getElementsByClassName(t)},L=[],N=[],(w.qsa=vt.test(i.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=vt.test(H=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){w.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),L.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),e=vt.test(I.compareDocumentPosition),R=e||vt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===W&&R(W,t)?-1:e===i||e.ownerDocument===W&&R(W,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:A?tt(A,t)-tt(A,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===W?-1:c[r]===W?1:0},i):M},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==M&&P(t),n=n.replace(ht,"='$1']"),w.matchesSelector&&O&&(!L||!L.test(n))&&(!N||!N.test(n)))try{var i=H.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&P(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==M&&P(t);var n=$.attrHandle[e.toLowerCase()],i=n&&G.call($.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==i?i:w.attributes||!O?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(V),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},x=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},$=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,$t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,$t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,$t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[z]||(g[z]={}),c=u[t]||[],p=c[0]===F&&c[1],d=c[0]===F&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[F,p,d];break}}else if(y&&(c=(e[z]||(e[z]={}))[t])&&c[0]===F)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[z]||(h[z]={}))[t]=[F,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var r,o=$.pseudos[t]||$.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[z]?o(n):o.length>1?(r=[t,t,"",n],$.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(lt,"$1"));return r[z]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,$t),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,$t).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!$.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},$.pseudos.nth=$.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})$.pseudos[b]=l(b);return h.prototype=$.filters=$.pseudos,$.setFilters=new h,k=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=B[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=$.preFilter;a;){i&&!(r=ct.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in $.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):B(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=k(t)),n=e.length;n--;)o=y(e[n]),o[z]?i.push(o):r.push(o);o=U(t,_(r,i)),o.selector=t}return o},S=e.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,h=!i&&k(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&O&&$.relative[o[1].type]){if(e=($.find.ID(s.matches[0].replace(wt,$t),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!$.relative[a=s.type]);)if((l=$.find[a])&&(i=l(s.matches[0].replace(wt,$t),_t.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return J.apply(n,i),n;break}}return(c||T(t,h))(i,e,!O,n,_t.test(t)&&u(e.parentNode)||e),n},w.sortStable=z.split("").sort(V).join("")===z,w.detectDuplicates=!!E,P(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?rt.find.matchesSelector(i,t)?[i]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;e<r;e++)if(rt.contains(i[e],this))return!0}));for(e=0;e<r;e++)rt.find(t,i[e],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ut.test(t)?rt(t):t||[],!1).length}});var pt,ft=t.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=rt.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:mt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),ht.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=ft.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(t);this.length=1,this[0]=i}return this.context=ft,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?"undefined"!=typeof pt.ready?pt.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};gt.prototype=rt.fn,pt=rt(ft);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),rt.fn.extend({has:function(t){var e,n=rt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(rt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ut.test(t)||"string"!=typeof t?rt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(t){return t?"string"==typeof t?rt.inArray(this[0],rt(t)):rt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return rt.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return rt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return rt.dir(t,"previousSibling",n)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return rt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,i){var r=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[t]||(r=rt.unique(r)),vt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var _t=/\S+/g,bt={};rt.Callbacks=function(t){t="string"==typeof t?bt[t]||o(t):rt.extend({},t);var e,n,i,r,s,a,l=[],c=!t.once&&[],u=function(o){for(n=t.memory&&o,i=!0,s=a||0,a=0,r=l.length,e=!0;l&&s<r;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function o(e){rt.each(e,function(e,n){var i=rt.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),e?r=l.length:n&&(a=i,u(n))}return this},remove:function(){return l&&rt.each(arguments,function(t,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(i<=r&&r--,i<=s&&s--)}),this},has:function(t){return t?rt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(t,n){return!l||i&&!c||(n=n||[],n=[t,n.slice?n.slice():n],e?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,o){var s=rt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,i):i}},r={};return i.pipe=i.then,rt.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=K.call(arguments),s=o.length,a=1!==s||t&&rt.isFunction(t.promise)?s:0,l=1===a?t:rt.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?K.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}});var wt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){if(t===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,t!==!0&&--rt.readyWait>0||(wt.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(e){if(!wt)if(wt=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{ft.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&ft.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}s(),rt.ready()}}()}return wt.promise(e)};var $t,xt="undefined";for($t in rt(nt))break;nt.ownLast="0"!==$t,nt.inlineBlockNeedsLayout=!1,rt(function(){var t,e,n,i;n=ft.getElementsByTagName("body")[0],n&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=ft.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(e){nt.deleteExpando=!1}}t=null}(),rt.acceptData=function(t){var e=rt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?rt.cache[t[rt.expando]]:t[rt.expando],!!t&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),rt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){rt.data(this,t)}):arguments.length>1?this.each(function(){rt.data(this,t,e)}):o?l(o,t,rt.data(o,t)):void 0},removeData:function(t){return this.each(function(){rt.removeData(this,t)})}}),rt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=rt._data(t,e),n&&(!i||rt.isArray(n)?i=rt._data(t,e,rt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),i=n.length,r=n.shift(),o=rt._queueHooks(t,e),s=function(){rt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return rt._data(t,n)||rt._data(t,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(t,e+"queue"),rt._removeData(t,n)})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=rt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=rt._data(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=["Top","Right","Bottom","Left"],Dt=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},At=rt.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===rt.type(n)){r=!0;for(a in n)rt.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(rt(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},Et=/^(?:checkbox|radio)$/i;!function(){var t=ft.createElement("input"),e=ft.createElement("div"),n=ft.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(i){nt.deleteExpando=!1}}}(),function(){var e,n,i=ft.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Pt=/^(?:input|select|textarea)$/i,Mt=/^key/,It=/^(?:mouse|pointer|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=rt._data(t);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof rt===xt||t&&rt.event.triggered===t.type?void 0:rt.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(_t)||[""],a=e.length;a--;)o=Nt.exec(e[a])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(c=rt.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=rt.event.special[p]||{},h=rt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,c.setup&&c.setup.call(t,i,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),rt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=rt.hasData(t)&&rt._data(t);if(g&&(u=g.events)){for(e=(e||"").match(_t)||[""],c=e.length;c--;)if(a=Nt.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=rt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||rt.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)rt.event.remove(t,p+e[c],n,i,!0);rt.isEmptyObject(u)&&(delete g.handle,rt._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,c,u,h,d=[i||ft],p=et.call(e,"type")?e.type:e,f=et.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[rt.expando]?e:new rt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:rt.makeArray(n,[e]),c=rt.event.special[p]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!rt.isWindow(i)){for(l=c.delegateType||p,Ot.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||ft)&&d.push(u.defaultView||u.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:c.bindType||p,o=(rt._data(a,"events")||{})[e.type]&&rt._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&rt.acceptData(a)&&(e.result=o.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),n)===!1)&&rt.acceptData(i)&&s&&i[p]&&!rt.isWindow(i)){u=i[s],u&&(i[s]=null),rt.event.triggered=p;try{i[p]()}catch(m){}rt.event.triggered=void 0,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=rt.event.fix(t);var e,n,i,r,o,s=[],a=K.call(arguments),l=(rt._data(this,"events")||{})[t.type]||[],c=rt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=rt.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],o=0;o<a;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[rt.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=It.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new rt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||ft),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ft,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=rt.extend(new rt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,e):rt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===xt&&(t[i]=null),t.detachEvent(i,n))},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:p):this.type=t,e&&rt.extend(this,e),
this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||rt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return!rt.nodeName(this,"form")&&void rt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=rt.nodeName(e,"input")||rt.nodeName(e,"button")?e.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&rt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!rt.nodeName(this,"form")&&void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Pt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(rt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,t,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Pt.test(e.nodeName)&&!rt._data(e,"changeBubbles")&&(rt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||rt.event.simulate("change",this.parentNode,t,!0)}),rt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return rt.event.remove(this,"._change"),!Pt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,e);r||i.addEventListener(t,n,!0),rt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,e)-1;r?rt._data(i,e,r):(i.removeEventListener(t,n,!0),rt._removeData(i,e))}}}),rt.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(s=i,i=function(t){return rt().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,rt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return rt.event.trigger(t,e,n,!0)}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ht=/ jQuery\d+="(?:null|\d+)"/g,Rt=new RegExp("<(?:"+Lt+")[\\s/>]","i"),zt=/^\s+/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,jt=/<tbody/i,qt=/<|&#?\w+;/,Bt=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xt=m(ft),Qt=Xt.appendChild(ft.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,rt.extend({clone:function(t,e,n){var i,r,o,s,a,l=rt.contains(t.ownerDocument,t);if(nt.html5Clone||rt.isXMLDoc(t)||!Rt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Qt.innerHTML=t.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(i=g(o),a=g(t),s=0;null!=(r=a[s]);++s)i[s]&&x(r,i[s]);if(e)if(n)for(a=a||g(t),i=i||g(o),s=0;null!=(r=a[s]);s++)$(r,i[s]);else $(t,o);return i=g(o,"script"),i.length>0&&w(i,!l&&g(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u,h=t.length,d=m(e),p=[],f=0;f<h;f++)if(o=t[f],o||0===o)if("object"===rt.type(o))rt.merge(p,o.nodeType?[o]:o);else if(qt.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Ft.exec(o)||["",""])[1].toLowerCase(),u=Kt[l]||Kt._default,a.innerHTML=u[1]+o.replace(Wt,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!nt.leadingWhitespace&&zt.test(o)&&p.push(e.createTextNode(zt.exec(o)[0])),!nt.tbody)for(o="table"!==l||jt.test(o)?"<table>"!==u[1]||jt.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(rt.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(e.createTextNode(o));for(a&&d.removeChild(a),nt.appendChecked||rt.grep(g(p,"input"),v),f=0;o=p[f++];)if((!i||rt.inArray(o,i)===-1)&&(s=rt.contains(o.ownerDocument,o),a=g(d.appendChild(o),"script"),s&&w(a),n))for(r=0;o=a[r++];)Vt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=rt.expando,l=rt.cache,c=nt.deleteExpando,u=rt.event.special;null!=(n=t[s]);s++)if((e||rt.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==xt?n.removeAttribute(a):n[a]=null,G.push(r))}}}),rt.fn.extend({text:function(t){return At(this,function(t){return void 0===t?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?rt.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||rt.cleanData(g(n)),n.parentNode&&(e&&rt.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&rt.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&rt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return At(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Ht,""):void 0;if("string"==typeof t&&!Bt.test(t)&&(nt.htmlSerialize||!Rt.test(t))&&(nt.leadingWhitespace||!zt.test(t))&&!Kt[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Wt,"<$1></$2>");try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(rt.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=X.apply([],t);var n,i,r,o,s,a,l=0,c=this.length,u=this,h=c-1,d=t[0],p=rt.isFunction(d);if(p||c>1&&"string"==typeof d&&!nt.checkClone&&Ut.test(d))return this.each(function(n){var i=u.eq(n);p&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(c&&(a=rt.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=rt.map(g(a,"script"),_),r=o.length;l<c;l++)i=a,l!==h&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,g(i,"script"))),e.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,rt.map(o,b),l=0;l<r;l++)i=o[l],Vt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(s,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Gt,"")));a=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,i=0,r=[],o=rt(t),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),rt(o[i])[e](n),Q.apply(r,n.get());return this.pushStack(r)}});var Jt,Zt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=ft.getElementsByTagName("body")[0],n&&n.style?(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ft.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var te,ee,ne=/^margin/,ie=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),re=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},ee=function(t,e,n){var i,r,o,s,a=t.style;return n=n||te(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||rt.contains(t.ownerDocument,t)||(s=rt.style(t,e)),ie.test(s)&&ne.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):ft.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,n){var i,r,o,s,a=t.style;return n=n||te(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ie.test(s)&&!re.test(e)&&(i=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,r;n=ft.getElementsByTagName("body")[0],n&&n.style&&(e=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(ft.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight),e.removeChild(r)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;n=ft.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),rt.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var oe=/alpha\([^)]*\)/i,se=/opacity\s*=\s*([^)]*)/,ae=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+Tt+")(.*)$","i"),ce=new RegExp("^([+-])=("+Tt+")","i"),ue={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:"0",fontWeight:"400"},de=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=rt.camelCase(e),l=t.style;if(e=rt.cssProps[a]||(rt.cssProps[a]=S(l,a)),s=rt.cssHooks[e]||rt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if(o=typeof n,"string"===o&&(r=ce.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var r,o,s,a=rt.camelCase(e);return e=rt.cssProps[a]||(rt.cssProps[a]=S(t.style,a)),s=rt.cssHooks[e]||rt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=ee(t,e,i)),"normal"===o&&e in he&&(o=he[e]),""===n||n?(r=parseFloat(o),n===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,i){if(n)return ae.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,ue,function(){return P(t,e,i)}):P(t,e,i)},set:function(t,n,i){var r=i&&te(t);return A(t,n,i?E(t,e,i,nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(t,e){return se.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=rt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===rt.trim(o.replace(oe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=oe.test(o)?o.replace(oe,r):o+" "+r)}}),rt.cssHooks.marginRight=T(nt.reliableMarginRight,function(t,e){if(e)return rt.swap(t,{display:"inline-block"},ee,[t,"marginRight"])}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+St[i]+e]=o[i]||o[i-2]||o[0];return r}},ne.test(t)||(rt.cssHooks[t+e].set=A)}),rt.fn.extend({css:function(t,e){return At(this,function(t,e,n){var i,r,o={},s=0;if(rt.isArray(e)){for(i=te(t),r=e.length;s<r;s++)o[e[s]]=rt.css(t,e[s],!1,i);return o}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Dt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=M,M.prototype={constructor:M,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=M.prototype.init,rt.fx.step={};var pe,fe,me=/^(?:toggle|show|hide)$/,ge=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),ve=/queueHooks$/,ye=[L],_e={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ge.exec(e),o=r&&r[3]||(rt.cssNumber[t]?"":"px"),s=(rt.cssNumber[t]||"px"!==o&&+i)&&ge.exec(rt.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,rt.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(R,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;i<r;i++)n=t[i],_e[n]=_e[n]||[],_e[n].unshift(e)},prefilter:function(t,e){e?ye.unshift(t):ye.push(t)}}),rt.speed=function(t,e,n){var i=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=rt.isEmptyObject(t),o=rt.speed(e,n,i),s=function(){var e=R(this,rt.extend({},t),o);(r||rt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=rt.timers,s=rt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ve.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=rt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=rt.timers,s=i?i.length:0;for(n.finish=!0,rt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(O(e,!0),t,i,r)}}),rt.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),rt.timers=[],rt.fx.tick=function(){var t,e=rt.timers,n=0;for(pe=rt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||rt.fx.stop(),pe=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){fe||(fe=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(fe),fe=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;e=ft.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=ft.createElement("select"),r=n.appendChild(ft.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=r.selected,nt.enctype=!!ft.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,t=ft.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var be=/\r/g;rt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,rt(this).val()):t,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(be,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(n=i[l],(n.selected||l===r)&&(nt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=rt.makeArray(e),s=r.length;s--;)if(i=r[s],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){if(rt.isArray(e))return t.checked=rt.inArray(rt(t).val(),e)>=0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we,$e,xe=rt.expr.attrHandle,Ce=/^(?:checked|selected)$/i,ke=nt.getSetAttribute,Te=nt.input;rt.fn.extend({attr:function(t,e){return At(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===xt?rt.prop(t,e,n):(1===o&&rt.isXMLDoc(t)||(e=e.toLowerCase(),i=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?$e:we)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=rt.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void rt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(_t);if(o&&1===t.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Te&&ke||!Ce.test(n)?t[i]=!1:t[rt.camelCase("default-"+n)]=t[i]=!1:rt.attr(t,n,""),t.removeAttribute(ke?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),$e={set:function(t,e,n){return e===!1?rt.removeAttr(t,n):Te&&ke||!Ce.test(n)?t.setAttribute(!ke&&rt.propFix[n]||n,n):t[rt.camelCase("default-"+n)]=t[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=xe[e]||rt.find.attr;xe[e]=Te&&ke||!Ce.test(e)?function(t,e,i){var r,o;return i||(o=xe[e],xe[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,xe[e]=o),r}:function(t,e,n){if(!n)return t[rt.camelCase("default-"+e)]?e.toLowerCase():null}}),Te&&ke||(rt.attrHooks.value={set:function(t,e,n){return rt.nodeName(t,"input")?void(t.defaultValue=e):we&&we.set(t,e,n)}}),ke||(we={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},xe.id=xe.name=xe.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:we.set},rt.attrHooks.contenteditable={set:function(t,e,n){we.set(t,""!==e&&e,n)}},rt.each(["width","height"],function(t,e){rt.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),nt.style||(rt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Se=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return At(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=rt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!rt.isXMLDoc(t),o&&(e=rt.propFix[e]||e,r=rt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(t,e){rt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var Ae=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,c="string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(_t)||[];a<l;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(_t)||[];a<l;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?rt.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(n){rt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=rt(this),o=t.match(_t)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else n!==xt&&"boolean"!==n||(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ae," ").indexOf(e)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Ee=rt.now(),Pe=/\?/,Me=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=rt.trim(e+"");return r&&!rt.trim(r.replace(Me,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+e)},rt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),n};var Ie,Oe,Ne=/#.*$/,Le=/([?&])_=[^&]*/,He=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Re=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^(?:GET|HEAD)$/,We=/^\/\//,Fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,je={},qe={},Be="*/".concat("*");try{Oe=location.href}catch(Ue){Oe=ft.createElement("a"),Oe.href="",Oe=Oe.href}Ie=Fe.exec(Oe.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe,type:"GET",isLocal:Re.test(Ie[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,rt.ajaxSettings),e):F(rt.ajaxSettings,t)},ajaxPrefilter:z(je),ajaxTransport:z(qe),ajax:function(t,e){function n(t,e,n,i){var r,u,v,y,b,$=e;2!==_&&(_=2,a&&clearTimeout(a),c=void 0,s=i||"",w.readyState=t>0?4:0,r=t>=200&&t<300||304===t,n&&(y=j(h,w,n)),y=q(h,y,w,r),r?(h.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(rt.lastModified[o]=b),b=w.getResponseHeader("etag"),b&&(rt.etag[o]=b)),204===t||"HEAD"===h.type?$="nocontent":304===t?$="notmodified":($=y.state,u=y.data,v=y.error,r=!v)):(v=$,!t&&$||($="error",t<0&&(t=0))),w.status=t,w.statusText=(e||$)+"",r?f.resolveWith(d,[u,$,w]):f.rejectWith(d,[w,$,v]),w.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,h,r?u:v]),
m.fireWith(d,[w,$]),l&&(p.trigger("ajaxComplete",[w,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,l,c,u,h=rt.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?rt(d):rt.event,f=rt.Deferred(),m=rt.Callbacks("once memory"),g=h.statusCode||{},v={},y={},_=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!u)for(u={};e=He.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return c&&c.abort(e),n(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||Oe)+"").replace(Ne,"").replace(We,Ie[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(_t)||[""],null==h.crossDomain&&(i=Fe.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Ie[1]&&i[2]===Ie[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ie[3]||("http:"===Ie[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),W(je,h,e,w),2===_)return w;l=rt.event&&h.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ze.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Pe.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Le.test(o)?o.replace(Le,"$1_="+Ee++):o+(Pe.test(o)?"&":"?")+"_="+Ee++)),h.ifModified&&(rt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&w.setRequestHeader("If-None-Match",rt.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Be+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)w.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===_))return w.abort();b="abort";for(r in{success:1,error:1,complete:1})w[r](h[r]);if(c=W(qe,h,e,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{_=1,c.send(v,n)}catch($){if(!(_<2))throw $;n(-1,$)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){if(rt.isFunction(t))return this.each(function(e){rt(this).wrapAll(t.call(this,e))});if(this[0]){var e=rt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||rt.css(t,"display"))},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var Ve=/%20/g,Ye=/\[\]$/,Ge=/\r?\n/g,Ke=/^(?:submit|button|image|reset|file)$/i,Xe=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,i=[],r=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){r(this.name,this.value)});else for(n in t)B(n,t[n],e,r);return i.join("&").replace(Ve,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Xe.test(this.nodeName)&&!Ke.test(t)&&(this.checked||!Et.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(Ge,"\r\n")}}):{name:e.name,value:n.replace(Ge,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Qe=0,Je={},Ze=rt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Je)Je[t](void 0,!0)}),nt.cors=!!Ze&&"withCredentials"in Ze,Ze=nt.ajax=!!Ze,Ze&&rt.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var r,o=t.xhr(),s=++Qe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var a,l,c;if(e&&(r||4===o.readyState))if(delete Je[s],e=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Je[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ft.head||rt("head")[0]||ft.documentElement;return{send:function(i,r){e=ft.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||rt.expando+"_"+Ee++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(en,"$1"+r):e.jsonp!==!1&&(e.url+=(Pe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||rt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,tn.push(r)),s&&rt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ft;var i=ht.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt.buildFragment([t],e,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var nn=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=rt.trim(t.slice(a,t.length)),t=t.slice(0,a)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&rt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?rt("<div>").append(rt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var rn=t.document.documentElement;rt.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c,u=rt.css(t,"position"),h=rt(t),d={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=rt.css(t,"top"),l=rt.css(t,"left"),c=("absolute"===u||"fixed"===u)&&rt.inArray("auto",[o,l])>-1,c?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==xt&&(i=r.getBoundingClientRect()),n=Y(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0),n.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||rn;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||rn})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);rt.fn[t]=function(i){return At(this,function(t,i,r){var o=Y(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=T(nt.pixelPosition,function(t,n){if(n)return n=ee(t,e),ie.test(n)?rt(t).position()[e]+"px":n})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return At(this,function(e,n,i){var r;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?rt.css(e,n,s):rt.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var on=t.jQuery,sn=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=sn),e&&t.jQuery===rt&&(t.jQuery=on),rt},typeof e===xt&&(t.jQuery=t.$=rt),rt}),!function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,n){t.fn[e]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[r])&&"_"!==r.charAt(0)){var h=u[r].apply(u,s);if(void 0!==h)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(r),i._init()):(i=new n(this,r),t.data(this,e,i))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),r(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:t.eventie=o}(window),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,o=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===e(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(i=e(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,o,s=this.getListenersAsObject(t);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(t,n.listener),o=n.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:r.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,o=n.length;o>r;r++)if(e=n[r]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),n=-1===t.indexOf("%")&&!isNaN(e);return n&&e}function n(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;n>e;e++){var i=s[e];t[i]=0}return t}function r(n){function r(){if(!d){d=!0;var i=t.getComputedStyle;if(c=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var n=t(e);return n||o("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=n("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[u]="border-box";var s=document.body||document.documentElement;s.appendChild(r);var a=c(r);h=200===e(a.width),s.removeChild(r)}}}function a(t){if(r(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=c(t);if("none"===n.display)return i();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var a=o.isBorderBox=!(!u||!n[u]||"border-box"!==n[u]),d=0,p=s.length;p>d;d++){var f=s[d],m=n[f];m=l(t,m);var g=parseFloat(m);o[f]=isNaN(g)?0:g}var v=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,_=o.marginLeft+o.marginRight,b=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,$=o.borderTopWidth+o.borderBottomWidth,x=a&&h,C=e(n.width);C!==!1&&(o.width=C+(x?0:v+w));var k=e(n.height);return k!==!1&&(o.height=k+(x?0:y+$)),o.innerWidth=o.width-(v+w),o.innerHeight=o.height-(y+$),o.outerWidth=o.width+_,o.outerHeight=o.height+b,o}}function l(e,n){if(t.getComputedStyle||-1===n.indexOf("%"))return n;var i=e.style,r=i.left,o=e.runtimeStyle,s=o&&o.left;return s&&(o.left=e.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=r,s&&(o.left=s),n}var c,u,h,d=!1;return a}var o="undefined"==typeof console?n:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):t.getSize=r(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==o.readyState;e.isReady||n||i()}function i(){e.isReady=!0;for(var t=0,n=s.length;n>t;t++){var i=s[t];i()}}function r(r){return"complete"===o.readyState?i():(r.bind(o,"DOMContentLoaded",n),r.bind(o,"readystatechange",n),r.bind(t,"load",n)),e}var o=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):t.docReady=r(t.eventie)}(window),function(t){function e(t,e){return t[s](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function i(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),r=0,o=i.length;o>r;r++)if(i[r]===t)return!0;return!1}function r(t,i){return n(t),e(t,i)}var o,s=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,i=e.length;i>n;n++){var r=e[n],o=r+"MatchesSelector";if(t[o])return o}}();if(s){var a=document.createElement("div"),l=e(a,"div");o=l?e:r}else o=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function(t,e,n){var i={};i.extend=function(t,e){for(var n in e)t[n]=e[n];return t},i.modulo=function(t,e){return(t%e+e)%e};var r=Object.prototype.toString;i.isArray=function(t){return"[object Array]"==r.call(t)},i.makeArray=function(t){var e=[];if(i.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,r=t.length;r>n;n++)e.push(t[n]);else e.push(t);return e},i.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},i.removeFrom=function(t,e){var n=i.indexOf(t,e);-1!=n&&t.splice(n,1)},i.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},i.setText=function(){function t(t,n){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=n}var e;return t}(),i.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,n(t,e))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,e){t=i.makeArray(t);for(var r=[],o=0,s=t.length;s>o;o++){var a=t[o];if(i.isElement(a))if(e){n(a,e)&&r.push(a);for(var l=a.querySelectorAll(e),c=0,u=l.length;u>c;c++)r.push(l[c])}else r.push(a)}return r},i.debounceMethod=function(t,e,n){var i=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];t&&clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){i.apply(o,e),delete o[r]},n||100)}},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var o=t.console;return i.htmlInit=function(n,r){e(function(){for(var e=i.toDashed(r),s=document.querySelectorAll(".js-"+e),a="data-"+e+"-options",l=0,c=s.length;c>l;l++){var u,h=s[l],d=h.getAttribute(a);try{u=d&&JSON.parse(d)}catch(p){o&&o.error("Error parsing "+a+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+p);continue}var f=new n(h,u),m=t.jQuery;m&&m.data(h,r,f)}})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(n,i,r,o){return e(t,n,i,r,o)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,function(t,e,n,i,r){function o(t){for(var e in t)return!1;return e=null,!0}function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var a=t.getComputedStyle,l=a?function(t){return a(t,null)}:function(t){return t.currentStyle},c=i("transition"),u=i("transform"),h=c&&u,d=!!i("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],f=["transform","transition","transitionDuration","transitionProperty"],m=function(){for(var t={},e=0,n=f.length;n>e;e++){var r=f[e],o=i(r);o&&o!==r&&(t[r]=o)}return t}();r.extend(s.prototype,e.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=n(this.element)},s.prototype.css=function(t){var e=this.element.style;for(var n in t){var i=m[n]||n;e[i]=t[n]}},s.prototype.getPosition=function(){var t=l(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,r=parseInt(t[n?"left":"right"],10),o=parseInt(t[i?"top":"bottom"],10);r=isNaN(r)?0:r,o=isNaN(o)?0:o;var s=this.layout.size;r-=n?s.paddingLeft:s.paddingRight,o-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=o},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={},i=e.isOriginLeft?"paddingLeft":"paddingRight",r=e.isOriginLeft?"left":"right",o=e.isOriginLeft?"right":"left",s=this.position.x+t[i];s=e.percentPosition&&!e.isHorizontal?s/t.width*100+"%":s+"px",n[r]=s,n[o]="";var a=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",c=e.isOriginTop?"bottom":"top",u=this.position.y+t[a];u=e.percentPosition&&e.isHorizontal?u/t.height*100+"%":u+"px",n[l]=u,n[c]="",this.css(n),this.emitEvent("layout",[this])};var g=d?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};s.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(t,10),o=parseInt(e,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-n,l=e-i,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=g(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=h?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},s.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var v=u&&r.toDashed(u)+",opacity";s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},s.prototype.transition=s.prototype[c?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};s.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=y[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],o(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var i=e.onEnd[n];i.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var _={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(_)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.once("transitionEnd",function(){t.removeElem()}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("visibleStyle");e[n]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},s.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},s.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");e[n]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},s.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,r,o,s){return e(t,n,i,r,o,s)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,r,o){function s(t,e){var n=r.getQueryElement(t);if(!n)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||t)));this.element=n,l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e);var i=++u;this.element.outlayerGUID=i,h[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var a=t.console,l=t.jQuery,c=function(){},u=0,h={};return s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(s.prototype,n.prototype),s.prototype.option=function(t){r.extend(this.options,t)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0,o=e.length;o>r;r++){var s=e[r],a=new n(s,this);i.push(a)}return i},s.prototype._filterFindItemElements=function(t){return r.filterFindElements(t,this.options.itemSelector)},s.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):r.isElement(o)&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},s.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},s.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n];r.isIgnored||e.push(r)}return e},s.prototype._layoutItems=function(t,e){
if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var n=[],i=0,r=t.length;r>i;i++){var o=t[i],s=this._getItemLayoutPosition(o);s.item=o,s.isInstant=e||o.isLayoutInstant,n.push(s)}this._processLayoutQueue(n)}},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},s.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},s.prototype._getContainerSize=c,s.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},s.prototype._emitCompleteOnItems=function(t,e){function n(){r.emitEvent(t+"Complete",[e])}function i(){s++,s===o&&n()}var r=this,o=e.length;if(!e||!o)return void n();for(var s=0,a=0,l=e.length;l>a;a++){var c=e[a];c.once(t,i)}},s.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},s.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},s.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.ignore(i)}}},s.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var i=t[e];r.removeFrom(this.stamps,i),this.unignore(i)}},s.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=r.makeArray(t)):void 0},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},s.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},s.prototype._manageStamp=c,s.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,r=i(t),o={left:e.left-n.left-r.marginLeft,top:e.top-n.top-r.marginTop,right:n.right-e.right-r.marginRight,bottom:n.bottom-e.bottom-r.marginBottom};return o},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},s.prototype.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},s.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},s.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},s.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,n=0;e&&e>n;n++){var i=t[n];i.reveal()}},s.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,n=0;e&&e>n;n++){var i=t[n];i.hide()}},s.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},s.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},s.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},s.prototype.getItems=function(t){t=r.makeArray(t);for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n],s=this.getItem(o);s&&e.push(s)}return e},s.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var n=0,i=e.length;i>n;n++){var o=e[n];o.remove(),r.removeFrom(this.items,o)}},s.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];i.destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete h[r],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=r.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},s.create=function(t,e){function n(){s.apply(this,arguments)}return Object.create?n.prototype=Object.create(s.prototype):r.extend(n.prototype,s.prototype),n.prototype.constructor=n,n.defaults=r.extend({},s.defaults),r.extend(n.defaults,e),n.prototype.settings={},n.namespace=t,n.data=s.data,n.Item=function(){o.apply(this,arguments)},n.Item.prototype=new o,r.htmlInit(n,t),l&&l.bridget&&l.bridget(t,n),n},s.Item=o,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,function(t,e,n){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,s=i-r%i,a=s&&1>s?"round":"floor";o=Math[a](o),this.cols=Math.max(o,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",r=Math[i](t.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),s=Math.min.apply(Math,o),a=n.indexOf(o,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,u=this.cols+1-o.length,h=0;u>h;h++)this.colYs[a+h]=c;return l},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var r=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,r)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),r=this.options.isOriginLeft?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap='#"+o+"']")[0],!!s&&n(s))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function i(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",s)}function s(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var c=0,u=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},c=e.split(".")[0];return e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,r=u.call(arguments,1),o=0,s=r.length;o<s;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=u.call(arguments,1),a=this;return o?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s),n!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});var h=(t.widget,!1);t(document).mouseup(function(){h=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),h=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=t.extend({},r);var p,m,g,v,y,_,b=t(r.of),w=t.position.getWithinInfo(r.within),$=t.position.getScrollInfo(w),x=(r.collision||"flip").split(" "),C={};return _=i(b),b[0].preventDefault&&(r.at="left top"),m=_.width,g=_.height,v=_.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),e=h.exec(n[1]),C[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===r.at[0]?y.left+=m:"center"===r.at[0]&&(y.left+=m/2),"bottom"===r.at[1]?y.top+=g:"center"===r.at[1]&&(y.top+=g/2),p=e(C.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var i,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),k=h+f+n(this,"marginRight")+$.width,T=d+_+n(this,"marginBottom")+$.height,S=t.extend({},y),D=e(C.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?S.left-=h:"center"===r.my[0]&&(S.left-=h/2),"bottom"===r.my[1]?S.top-=d:"center"===r.my[1]&&(S.top-=d/2),S.left+=D[0],S.top+=D[1],o||(S.left=l(S.left),S.top=l(S.top)),i={marginLeft:f,marginTop:_},t.each(["left","top"],function(e,n){t.ui.position[x[e]]&&t.ui.position[x[e]][n](S,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:i,collisionWidth:k,collisionHeight:T,offset:[p[0]+D[0],p[1]+D[1]],my:r.my,at:r.at,within:w,elem:u})}),r.using&&(c=function(t){var e=v.left-S.left,n=e+m-h,i=v.top-S.top,o=i+g-d,l={target:{element:b,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:S.left,top:S.top,width:h,height:d},horizontal:n<0?"left":e>0?"right":"center",vertical:o<0?"top":i>0?"bottom":"middle"};m<h&&a(e+n)<m&&(l.horizontal="center"),g<d&&a(i+o)<g&&(l.vertical="middle"),s(a(e),a(n))>s(a(i),a(o))?l.important="horizontal":l.important="vertical",r.using.call(this,t,l)}),u.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&c<=0?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):c>0&&l<=0?t.left=r:l>c?t.left=r+o-e.collisionWidth:t.left=r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&c<=0?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):c>0&&l<=0?t.top=r:l>c?t.top=r+o-e.collisionHeight:t.top=r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?(n=t.left+d+p+f+e.collisionWidth-s-o,(n<0||n<a(u))&&(t.left+=d+p+f)):h>0&&(i=t.left-e.collisionPosition.marginLeft+d+p+f-l,(i>0||a(i)<h)&&(t.left+=d+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];u<0?(i=t.top+p+f+m+e.collisionHeight-s-o,(i<0||i<a(u))&&(t.top+=p+f+m)):h>0&&(n=t.top-e.collisionPosition.marginTop+p+f+m-l,(n>0||a(n)<h)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)e.style[s]=i[s];e.appendChild(l),n=a||document.documentElement,n.insertBefore(e,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,o=r>10&&r<11,e.innerHTML="",n.removeChild(e)}()}();t.ui.position;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0];
})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(i){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,h,d,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,_=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left-i.margins.left,c=l+i.snapElements[d].width,u=i.snapElements[d].top-i.margins.top,h=u+i.snapElements[d].height,v<l-m||g>c+m||_<u-m||y>h+m||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-_)<=m,o=Math.abs(h-y)<=m,s=Math.abs(l-v)<=m,a=Math.abs(c-g)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=m,o=Math.abs(h-_)<=m,s=Math.abs(l-g)<=m,a=Math.abs(c-v)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return c<=o&&a<=h&&u<=s&&l<=d;case"intersect":return c<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&u<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&s<=d||l>=u&&l<=d||s<u&&l>d)&&(o>=c&&o<=h||a>=c&&a<=h||o<c&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}};t.ui.droppable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;n<e.length;n++)i=t.trim(e[n]),o="ui-resizable-"+i,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);
return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,d=Math.round((r.height-o.height)/u)*u,p=o.width+h,f=o.height+d,m=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-h):((f-u<=0||p-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=s.top-d):(f=u-e.height,n.size.height=f,n.position.top=s.top+o.height-f),p-c>0?(n.size.width=p,n.position.left=s.left-h):(p=c-e.width,n.size.width=p,n.position.left=s.left+o.width-p))}});t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(n.options.filter,n.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.shiftKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.shiftKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>a||n.right<o||n.top>l||n.bottom<s):"fit"===r.tolerance&&(c=n.left>o&&n.right<a&&n.top>s&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.shiftKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.shiftKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&i+c<l,d="y"===this.options.axis||e+u>o&&e+u<s,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=t(c[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;i<c;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]);
},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.shiftKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.shiftKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():r.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!n.collapsible||this._trigger("beforeActivate",e,c)===!1||(n.active=!s&&this.headers.index(r),this.active=o?t():r,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,n,i=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.parent(),i=t("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),e=o.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);i._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).text()))})}});t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.shiftKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").text(n.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var d,p=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var n=e.name,i=e.form,r=t([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?t(i).find("[name='"+n+"'][type=radio]"):t("[name='"+n+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===d&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){
this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];g(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!n.disabled&&(t(this).addClass("ui-state-active"),d=this,void e.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return!n.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!n.disabled&&void(e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(f),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.4"}});var v;t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,l,c,u,h,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),v===r&&(v=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.shiftKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.shiftKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.shiftKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.shiftKey||e.metaKey;break;case 36:(e.shiftKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.shiftKey||e.metaKey;break;case 37:(e.shiftKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.shiftKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.shiftKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.shiftKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.shiftKey||e.metaKey;break;case 39:(e.shiftKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.shiftKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.shiftKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.shiftKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.shiftKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.shiftKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.shiftKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,r,o,s,l,c,u;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(n,"beforeShow"),o=r?r.apply(e,[e,n]):{},o!==!1&&(a(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?n.dpDiv.show(c,t.datepicker._get(n,"showOptions"),u):n.dpDiv[c||"show"](c?u:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=17,a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,s,a,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,_=!1,b=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},w=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},$=function(e,i,r){var o=-1,s=t.map(b(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return o=e[0],l+=i.length,!1}),o!==-1)return o+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(_)"'"!==e.charAt(r)||b("'")?x():_=!1;else switch(e.charAt(r)){case"d":v=w("d");break;case"D":$("D",h,d);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=$("M",p,f);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?x():_=!0;break;default:x()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),y>-1)for(g=1,v=y;;){if(o=this._getDaysInMonth(m,g-1),v<=o)break;g++,v-=o}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;i<t.length;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(a){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),s=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s))}c=l.exec(n)}return new Date(o,s,a)},s=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,_,b,w,$,x,C,k,T,S,D,A,E,P,M,I,O,N,L,H,R,z,W=new Date,F=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),j=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),K=1!==V[0]||1!==V[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-G,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Z+G,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:F,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",$=0;$<V[0];$++){for(x="",this.maxRows=4,C=0;C<V[1];C++){if(k=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),T=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",T=" ui-corner-"+(j?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",T=" ui-corner-"+(j?"left":"right");break;default:S+=" ui-datepicker-group-middle",T=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===$?j?o:i:"")+(/all|right/.test(T)&&0===$?j?i:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,$>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)A=(w+u)%7,D+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[A]+"'>"+p[A]+"</span></th>";
for(S+=D+"</tr></thead><tbody>",E=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),P=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,M=Math.ceil((P+E)/7),I=K&&this.maxRows>M?this.maxRows:M,this.maxRows=I,O=this._daylightSavingAdjust(new Date(tt,Z,1-P)),N=0;N<I;N++){for(S+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",w=0;w<7;w++)H=g?g.apply(t.input?t.input[0]:null,[O]):[!0,""],R=O.getMonth()!==Z,z=R&&!y||!H[0]||Q&&O<Q||J&&O>J,L+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(O.getTime()===k.getTime()&&Z===t.selectedMonth&&t._keyEvent||_.getTime()===O.getTime()&&_.getTime()===k.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+H[1]+(O.getTime()===X.getTime()?" "+this._currentClass:"")+(O.getTime()===F.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===F.getTime()?" ui-state-highlight":"")+(O.getTime()===X.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);S+=L+"</tr>"}Z++,Z>11&&(Z=0,tt++),S+="</tbody></table>"+(K?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=S}b+=x}return b+=c,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,c,u,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!g)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(b+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&g&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),r=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";var y=(t.datepicker,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&t(n).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement,n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(e.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){t(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},t(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){t(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},t(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);n!==-1&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(n=r.is(":data(ui-draggable)"),n&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(i=r.is(":data(ui-resizable)"),i&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){o.optgroup!==r&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var n=[];e.each(function(e,i){var r=t(i),o=r.parent("optgroup");n.push({element:r,index:e,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,c,u=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===h.min))&&(r=n,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),
i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&n>i||1===e&&n<i)&&(n=i),n!==this.values(e)&&(r=this.values(),r[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),o!==!1&&this.values(e,n))):n!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:n}),o!==!1&&this.value(n))},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.floor(+(t-e).toFixed(this._precision())/n)*n;t=i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,s),n===!1))return}switch(o=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,s,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);void 0!==r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void l(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;e=e.cloneNode(!1),n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!n&&0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.shiftKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.shiftKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),e<0&&(e=r),e}for(var r=this.tabs.length-1;t.inArray(i(),this.options.disabled)!==-1;)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");e._isLocal(i)?(r=i.hash,s=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(s=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+s,o=e.element.find(r),o.length||(o=e._createPanel(s),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)e===!0||t.inArray(i,e)!==-1?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?t():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:c,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=!a&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setupDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),t.inArray(e,n)!==-1)return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setupDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);r!==-1&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;return"disabled"===e?(this[n?"_disable":"_enable"](),void(this.options[e]=n)):(this._super(e,n),void("content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){c.of=t,s.is(":hidden")||s.position(c)}var o,s,a,l,c=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(l=i.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=i,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),"ui-effects-"),_=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=h[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=c(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=n[l](a),n[u[l].cache]=o[u[l].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r);
},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,d=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,l],d="array"),"string"===d?this.parse(i(r)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===d?(r instanceof c?f(u,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):f(u,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==r[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(r[t],e,!0)}),h[o]&&t.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):void 0},is:function(t){var e=c(t),n=!0,i=this;return f(u,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return f(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=c(t),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],c=i[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(e)._rgba;return c(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),h="array"===a||"object"===a?i:arguments,d=this[s].slice();return f(o,function(t,e){var i=h["object"===a?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),u?(r=c(u(d)),r[s]=d,r):c(d)},f(o,function(e,n){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=c(o||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=c(e.elem,n),e.end=c(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||!t.fx.step[i]&&isNaN(parseFloat(o))||(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(y+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(n=t.data(y+e[i]),void 0===n&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),n()):s.call(r[0],i,n)}var i=e.apply(this,arguments),r=i.mode,o=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(n):this.queue(o||"fx",n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}();t.effects,t.effects.effect.blind=function(e,n){var i,r,o,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),h=e.direction||"up",d=a.test(h),p=d?"height":"width",f=d?"top":"left",m=l.test(h),g={},v="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),c):t.effects.save(s,c),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r=i[p](),o=parseFloat(i.css(f))||0,g[p]=v?r:0,m||(s.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:r+o),v&&(i.css(p,0),m||i.css(f,o+r)),i.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,c),t.effects.removeWrapper(s),n()}})},t.effects.effect.bounce=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),c="hide"===l,u="show"===l,h=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||c?1:0),m=e.duration/f,g=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,_=s.queue(),b=_.length;for((u||c)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-d:2*d).animate(o,m,g)),c&&(d/=Math.pow(2,p-1)),o={},o[v]=0,i=0;i<p;i++)r={},r[v]=(y?"-=":"+=")+d,s.animate(r,m,g).animate(o,m,g),d=c?2*d:d/2;c&&(r={opacity:0},r[v]=(y?"-=":"+=")+d,s.animate(r,m,g)),s.queue(function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),b>1&&_.splice.apply(_,[1,0].concat(_.splice(b,f+1))),s.dequeue()},t.effects.effect.clip=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),c="show"===l,u=e.direction||"vertical",h="vertical"===u,d=h?"height":"width",p=h?"top":"left",f={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?i:s,o=r[d](),c&&(r.css(d,0),r.css(p,o/2)),f[d]=c?o:0,f[p]=c?0:o/2,r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-i:i),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.explode=function(e,n){function i(){_.push(this),_.length===h*d&&r()}function r(){p.css({visibility:"visible"}),t(_).remove(),m||p.hide(),n()}var o,s,a,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/h),_=[];for(o=0;o<h;o++)for(l=g.top+o*y,u=o-(h-1)/2,s=0;s<d;s++)a=g.left+s*v,c=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},e.duration||500,e.easing,i)},t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,h=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,s),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[i.width(),i.height()]:[i.height(),i.width()],h&&(u=parseInt(h[1],10)/100*r[c?0:1]),l&&i.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,i.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})},t.effects.effect.size=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(s,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=s.css("position"),y=f?a:l,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===p?(s.from=e.to||_,s.to=e.from||i):(s.from=e.from||("show"===p?_:i),s.to=e.to||("hide"===p?_:i)),o={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},"box"!==m&&"both"!==m||(o.from.y!==o.to.y&&(y=y.concat(h),s.from=t.effects.setTransition(s,h,o.from.y,s.from),s.to=t.effects.setTransition(s,h,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(d),s.from=t.effects.setTransition(s,d,o.from.x,s.from),s.to=t.effects.setTransition(s,d,o.to.x,s.to))),"content"!==m&&"both"!==m||o.from.y!==o.to.y&&(y=y.concat(u).concat(c),s.from=t.effects.setTransition(s,u,o.from.y,s.from),s.to=t.effects.setTransition(s,u,o.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=t.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),"content"!==m&&"both"!==m||(h=h.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(d),s.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&t.effects.save(n,c),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,h,o.from.y,n.from),n.to=t.effects.setTransition(n,h,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,d,o.from.x,n.from),n.to=t.effects.setTransition(n,d,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){f&&t.effects.restore(n,c)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),t.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,n){var i=parseInt(n,10),r=t?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(s),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,c=2*(e.times||5)+(l?1:0),u=e.duration/c,h=0,d=r.queue(),p=d.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),h=1),i=1;i<c;i++)r.animate({opacity:h},u,e.easing),h=1-h;r.animate({opacity:h},u,e.easing),r.queue(function(){a&&r.hide(),n()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),r.dequeue()},t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,h=Math.round(e.duration/u),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,r.animate(f,h,e.easing),i=1;i<c;i++)r.animate(m,h,e.easing).animate(g,h,e.easing);r.animate(m,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()},t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(i)?"-"+i:-i:i),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+i,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),n()})}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.2",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),
this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":t.extend({},r.data(),{trigger:this});n.call(o,a)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=n(i),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.2",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(e.target);38==e.which&&c>0&&c--,40==e.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t('<div class="modal-backdrop '+r+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var p=a,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&u.bottom+d>m.bottom?"top":"top"==a&&u.top-d<m.top?"bottom":"right"==a&&u.right+h>m.width?"left":"left"==a&&u.left-h<m.left?"right":a,o.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(g,a);var v=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),d=h?2*u.left-r+l:2*u.top-o+c,p=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?r.left=s.left-c:u>s.width&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.2",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(t-i>=r+s)&&"bottom";var a=null==this.affixed,l=a?r:o.top,c=a?s:e;return null!=n&&n>=r?"top":null!=i&&l+c>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=t("body").height();"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),angular.module("myApp",["ngRoute","httpInterceptorModule","MessageCenter","myApp.home","myApp.dashboard","myApp.edit","myApp.login","myApp.profile","myApp.metadata","myApp.search","globalsModule","fileModule","ngFileUpload"]).config(["$routeProvider",function(t){t.otherwise({redirectTo:"/home/My Home"})}]).config(["$httpProvider",function(t){t.defaults.withCredentials=!0,t.defaults.useXDomain=!0}]),angular.module("myApp.home",["ngRoute","ngFileUpload","ng-context-menu","ui.codemirror"]).config(["$routeProvider",function(t,e){t.when("/home/:vcName",{templateUrl:"home/home.html",controller:"homeCtrl",resolve:{selectedVc:function(t,e,n){var i=e.listUserVirtualCollectionData(t.current.params.vcName);return i},pagingAwareCollectionListing:function(t,e,n){var i=t.current.params.vcName,r=t.current.params.path;return null==r&&(r=""),e.listCollectionContents(i,r,0)}}}).when("/home",{templateUrl:"home/home.html",controller:"homeCtrl",resolve:{selectedVc:function(t,e){var n=e.listUserVirtualCollectionData("My Home");return n},pagingAwareCollectionListing:function(t,e){var n="My Home",i=t.current.params.path;return null==i&&(i=""),e.listCollectionContents(n,i,0)}}})}]).directive("onLastRepeat",function(){return function(t,e,n){t.$last&&setTimeout(function(){t.$emit("onRepeatLast",e,n)},1)}}).directive("ngDoubleTap",function(){return function(t,e,n){var i;i=!1,e.bind("touchstart",function(t){e.addClass("active"),i=!0}),e.bind("touchmove",function(t){e.removeClass("active"),i=!1}),e.bind("touchend",function(r){e.removeClass("active"),i&&("yes"==t.tapped?t.$apply(n.ngDoubleTap,e):t.tapped="yes",t.explode=function(){t.tapped="no"},setTimeout(t.explode,300))})}}).filter("iconic",function(){return function(t,e){var n="";if("virtual.collection.default.icon"==t)var n="folder";else if("virtual.collection.icon.starred"==t)var n="star";else if("Text File"==t)var n="file-text-o";else if("XML File"==t)var n="file-o";else if("iRODS Rule"==t)var n="file-code-o";return n}}).controller("homeCtrl",["$scope","Upload","$log","$http","$location","MessageService","globals","breadcrumbsService","downloadService","virtualCollectionsService","collectionsService","fileService","metadataService","selectedVc","pagingAwareCollectionListing",function(t,e,n,i,r,o,s,a,l,c,u,h,d,p,f){t.editorOptions={lineWrapping:!1,lineNumbers:!0,mode:{name:"javascript",typescript:!0}},t.pop_up_form="",t.list_file_templates=function(){return n.info("getting file templates"),i({method:"GET",url:s.backendUrl("fileCreatorTemplate")}).success(function(e){t.file_templates=e}).error(function(){t.file_templates=[]})},t.list_file_templates(),t.selectedVc=p,t.pagingAwareCollectionListing=f,t.selected_target="",t.$on("onRepeatLast",function(e,n,i){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var e=$("#select-result").empty();$(".dropdown").removeClass("open");var n=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)e.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){t.selected_target=$(".general_list_item .ui-selected").attr("id");var o="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==o)var o="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();e.append(o),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".general_list_item .ui-selected").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),
$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),t.$watch("files",function(){t.upload(t.files)}),t.multiple=!0,t.current_page="browsing",t.files_to_upload=[],t.files_name=[],t.copy_source="",t.copy_target="",t.stage_files=function(e){if(e&&e.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var n=0;n<e.length;n++){var i=e[n],r=$.inArray(i.name,t.files_name);0===r?o.danger('There is already a file named "'+i.name+'" on your list'):(t.files_to_upload.push(i),t.files_name.push(i.name),$(".upload_container_result ul").append('<li id="uploading_item_'+n+'" class="light_back_option_even"><div class="col-xs-10 list_content"><i class="fa fa-file-o"></i>&nbsp'+i.name+"</div></li>"))}}},t.upload=function(i){if(t.files_to_upload&&t.files_to_upload.length)for(var r=0;r<t.files_to_upload.length;r++){var a=t.files_to_upload[r];e.upload({url:s.backendUrl("file"),fields:{collectionParentName:i},file:a}).progress(function(t){var e=parseInt(100*t.loaded/t.total);n.info(e)}).then(function(e){return u.listCollectionContents(t.selectedVc.data.uniqueName,t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(e){o.success("Upload completed!"),t.pagingAwareCollectionListing=e,t.pop_up_close_clear(),t.files_to_upload=[],t.files_name=[]})}},t.listVirtualCollections=function(){return n.info("getting virtual colls"),i({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(e){t.virtualCollections=e}).error(function(){t.virtualCollections=[]})},t.selectVirtualCollection=function(e,i,s){return n.info("selectVirtualCollection()"),e?(n.info("list vc contents for vc name:"+e),r.path("/home/"+e),r.search("path",i),void(1==s&&t.$apply())):void o.danger("missing vcName")},t.getBreadcrumbPaths=function(){a.setCurrentAbsolutePath(t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath),t.breadcrumb_full_array=a.getWholePathComponents(),t.breadcrumb_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_full_array.length;n++)e=e+"/"+t.breadcrumb_full_array[n],t.breadcrumb_full_array_paths.push({b:t.breadcrumb_full_array[n],path:e});t.breadcrumb_full_array_paths.length>5&&(t.breadcrumb_compressed_array=t.breadcrumb_full_array_paths.splice(0,t.breadcrumb_full_array_paths.length-5))},t.pagingAwareCollectionListing&&t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents&&(t.current_collection_index=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.length-1),t.goToBreadcrumb=function(t){return t?(r.path("/home/root"),void r.search("path",t)):void n.error("cannot go to breadcrumb, no path")},t.delete_action=function(){var e=$(".ui-selected"),r=[];return e.each(function(){void 0!=$(this).attr("id")&&r.push($(this).attr("id"))}),n.info("Deleting:"+r),i({method:"DELETE",url:s.backendUrl("file"),params:{path:r}}).then(function(e){return u.listCollectionContents(t.selectedVc.data.uniqueName,t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(e){o.info("Deletion completed!"),t.pagingAwareCollectionListing=e,t.listVirtualCollections(),t.pop_up_close_clear()})},t.query_delete_action=function(){return n.info("Deleting:"+t.right_clicked_query),n.info("ID:"+t.right_clicked_query_id),i({method:"DELETE",url:s.backendUrl("virtualCollection/"+encodeURI(t.right_clicked_query_id)),params:{}}).then(function(t){o.info("Deletion completed!"),r.path("/home/My Home")})},t.move_query_to_my_folders=function(){return n.info("Moving:"+t.right_clicked_query),n.info("ID:"+t.right_clicked_query_id),i({method:"POST",url:s.backendUrl("virtualCollection/"+encodeURI(t.right_clicked_query_id)),params:{collType:"USER_HOME"}}).then(function(e){return t.listVirtualCollections()}).then(function(t){o.success("Move completed!")})},t.copy_action=function(){return n.info("||||||||||||| copying:"+t.copy_source+" to "+t.copy_target),i({method:"POST",url:s.backendUrl("copy"),params:{sourcePath:t.copy_source,targetPath:t.copy_target,resource:"",overwrite:"false"}}).then(function(e){return u.listCollectionContents(t.selectedVc.data.uniqueName,t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(e){o.success("Copy completed!"),t.pagingAwareCollectionListing=e,t.pop_up_close_clear()})},t.move_action=function(){return n.info("||||||||||||| moving:"+t.copy_source+" to "+t.copy_target),i({method:"POST",url:s.backendUrl("move"),params:{sourcePath:t.copy_source,targetPath:t.copy_target,resource:"",overwrite:"false"}}).then(function(e){return u.listCollectionContents(t.selectedVc.data.uniqueName,t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(e){o.success("File Successfully moved"),t.pagingAwareCollectionListing=e,t.pop_up_close_clear()})},t.rename_action=function(){for(var e=$("li.ui-selected").attr("id"),r=$("#new_renaming_name").val(),a="yes",l=0;l<t.pagingAwareCollectionListing.collectionAndDataObjectListingEntries.length;l++){var c=t.pagingAwareCollectionListing.collectionAndDataObjectListingEntries[l];r===c.nodeLabelDisplayValue&&(o.danger('There is already an item named "'+r+'", please choose a different name'),a="no",$("#new_renaming_name").addClass("has_error"),$("#new_renaming_name").focus())}"yes"===a&&(n.info("Renaming:"+e),i({method:"PUT",url:s.backendUrl("rename"),params:{path:e,newName:r}}).then(function(e){return u.listCollectionContents(t.selectedVc.data.uniqueName,t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(e){o.success("Renaming completed!"),t.pagingAwareCollectionListing=e,t.pop_up_close_clear()}))},t.create_collection_action=function(){for(var e=$("#new_collection_name").val(),r="yes",a=0;a<t.pagingAwareCollectionListing.collectionAndDataObjectListingEntries.length;a++){var l=t.pagingAwareCollectionListing.collectionAndDataObjectListingEntries[a];e===l.nodeLabelDisplayValue&&(o.danger('There is already a collection named "'+e+'", please choose a different name'),r="no",$("#new_collection_name").focus(),$("#new_collection_name").addClass("has_error"))}if("yes"===r)return n.info("Adding:"+e),i({method:"PUT",url:s.backendUrl("file")+"?path="+s.sanitizeCollName(t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath+"/"+e)}).then(function(e){return u.listCollectionContents(t.selectedVc.data.uniqueName,t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,0)}).then(function(e){o.success("Collection Added!"),t.pagingAwareCollectionListing=e,t.pop_up_close_clear()})},t.create_file_action=function(){var e=$("#new_file_name").val();return n.info("Adding:"+e+t.file_to_be_created.templateUniqueIdentifier),i({method:"PUT",url:s.backendUrl("fileCreatorTemplate"),params:{parentPath:t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,fileName:e,templateUniqueIdentifier:t.file_to_be_created.templateUniqueIdentifier}}).success(function(n){t.pop_up_close_clear(),t.editFile(t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath+"/"+e)}).error(function(t){o.danger(t)})},t.getDownloadLink=function(){$(".list_content").removeClass("ui-selected");var t=$(".ui-selected");n.info(t);var e="";if(1==t.length){var i=$(".ui-selected").attr("id");window.open(s.backendUrl("download")+"?path="+i,"_blank")}else t.each(function(){if(void 0!=$(this).attr("id")){var t=$(this).attr("id");e+="path="+t+"&"}}),e=e.substring(0,e.length-1),window.open(s.backendUrl("download")+"?"+e,"_blank")},t.green_action_toggle=function(t){var e=t.currentTarget.nextElementSibling,n=t.currentTarget.parentElement;$(e).toggle("normal"),$(n).toggleClass("green_toggle_container_open")},$(window).keyup(function(e){"13"==e.keyCode&&("delete"==t.pop_up_form&&t.delete_action(),"upload"==t.pop_up_form&&t.upload(),"copy"==t.pop_up_form&&t.copy_action(),"move"==t.pop_up_form&&t.move_action(),"create"==t.pop_up_form&&t.create_collection_action(),"file_create"==t.pop_up_form&&t.create_file_action(),"rename"==t.pop_up_form&&t.rename_action())}),t.event_z="",$(window).mousedown(function(e){switch(e.which){case 1:$(e.target).is("div")&&($(e.target).parents().hasClass("ui-selectee")||$(e.target).parents().hasClass("selection_actions_container")||$(e.target).parents().hasClass("pop_up_window")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(".recent_query").removeClass("selected"),$(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn(),$("#select-result").empty(),$(".dropdown").removeClass("open")));break;case 3:$(".dropdown").removeClass("open"),0!=$(".general_list_item .ui-selected").length&&1!=$(".general_list_item .ui-selected").length||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(e.target).parents("li").addClass("ui-selected","fast",function(){var n=$("#select-result").empty();t.selected_target=$(".general_list_item .ui-selected").attr("id");var i="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==i)var i="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();n.append(i),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(e.target).parents("li").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))}),$(e.target).parents("li").hasClass("recent_query")&&(t.right_clicked_query=$(e.target).parents("li").children("span").attr("id"),t.right_clicked_query_id=$(e.target).parents("li").attr("id")),$(e.target).parents("li").hasClass("permanent_folder")&&(t.right_clicked_query=$(e.target).parents("li").children("span").attr("id"),t.right_clicked_query_id=$(e.target).parents("li").attr("id"))),$(".general_list_item .ui-selected").length>1&&($(e.target).parents("li").hasClass("ui-selected")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(e.target).parents("li").addClass("ui-selected","fast",function(){var n=$("#select-result").empty();t.selected_target=$(".general_list_item .ui-selected").attr("id");var i="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==i)var i="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();n.append(i),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(e.target).parents("li").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))})))}}),t.getCopyBreadcrumbPaths=function(){t.breadcrumb_popup_full_array=t.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),t.breadcrumb_popup_full_array.shift(),t.breadcrumb_popup_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_popup_full_array.length;n++)e=e+"/"+t.breadcrumb_popup_full_array[n],t.breadcrumb_popup_full_array_paths.push({b:t.breadcrumb_popup_full_array[n],path:e});t.breadcrumb_popup_full_array.length>5?t.breadcrumb_popup_compressed_array=t.breadcrumb_popup_full_array_paths.splice(0,t.breadcrumb_popup_full_array_paths.length-5):t.breadcrumb_popup_compressed_array=[]},t.set_path=function(e,n){var i=$(".copy_select_result").empty(),r=e;i.append(r),t.copy_target=n},t.copy_list_refresh=function(e,n){if(""==e)var r=t.copyVC.data.uniqueName;else var r=e;i({method:"GET",url:s.backendUrl("collection/")+r,params:{path:n,offset:0}}).then(function(e){t.copy_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("virtualCollection/")+r})}).then(function(e){t.copyVC=e,"COLLECTION"==t.copyVC.data.type&&t.getCopyBreadcrumbPaths()})},t.move_pop_up_open=function(){t.pop_up_form="move",window.scrollTo(0,0),t.copy_source=$(".general_list_item .ui-selected").attr("id"),t.copyVC=t.selectedVc,$(".pop_up_window").fadeIn(100),t.name_of_selection=$(".ui-selected");var e=$(".copy_select_result").empty(),n=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.copy_source=$(".general_list_item .ui-selected").attr("id"),t.copy_target=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,e.append(r),t.name_of_selection.each(function(){void 0!=$(this).attr("id")&&$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-folder folder_listing"></i>&nbsp'+$(this).attr("id")+"</div></li>")}),$(".mover").fadeIn(100),$(".mover_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("collection/")+t.copyVC.data.uniqueName,params:{path:t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,offset:0}})}).then(function(e){t.copy_list=e,t.getCopyBreadcrumbPaths()})},t.copy_pop_up_open=function(){t.pop_up_form="copy",window.scrollTo(0,0),t.copy_source=$(".general_list_item .ui-selected").attr("id"),t.copyVC=t.selectedVc,$(".pop_up_window").fadeIn(100),t.name_of_selection=$(".ui-selected");var e=$(".copy_select_result").empty(),n=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.copy_source=$(".general_list_item .ui-selected").attr("id"),t.copy_target=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,e.append(r),t.name_of_selection.each(function(){void 0!=$(this).attr("id")&&$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-folder folder_listing"></i>&nbsp'+$(this).attr("id")+"</div></li>")}),$(".copier").fadeIn(100),$(".copier_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("collection/")+t.copyVC.data.uniqueName,params:{path:t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,offset:0}})}).then(function(e){t.copy_list=e,t.getCopyBreadcrumbPaths()})},t.create_pop_up_open=function(){t.pop_up_form="create",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".creater").fadeIn(100),$("#new_collection_name").focus()},t.create_file_pop_up_open=function(e){t.pop_up_form="file_create",window.scrollTo(0,0),t.file_to_be_created=e,$(".pop_up_window").fadeIn(100),$(".file_creater").fadeIn(100),$("#new_file_name").focus()},t.rename_pop_up_open=function(){$("li.ui-selected").hasClass("data_true")?t.renaming_item="file":t.renaming_item="folder",t.pop_up_form="rename",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100),$("#new_renaming_name").focus();var e=$("li.ui-selected").children(".list_content").children("span").text();$(".selected_object").append(e)},t.upload_pop_up_open=function(){t.pop_up_form="upload",0==$(".general_list_item .ui-selected").length?(t.upload_path=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,t.upload_paths_array=t.upload_path.split("/"),t.upload_folder_name=t.upload_paths_array[t.upload_paths_array.length-1]):(t.upload_path=$(".general_list_item .ui-selected").attr("id"),t.upload_paths_array=t.upload_path.split("/"),t.upload_folder_name=t.upload_paths_array[t.upload_paths_array.length-1]),window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},t.delete_pop_up_open=function(){t.pop_up_form="delete",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100);var e=$(".ui-selected");e.each(function(){void 0!=$(this).attr("id")&&($(this).hasClass("data_true")?$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-file-o "></i>&nbsp'+$(this).attr("id")+"</div></li>"):$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-folder folder_listing"></i>&nbsp'+$(this).attr("id")+"</div></li>"))}),$(".deleter").fadeIn(100)},t.query_delete_pop_up_open=function(){t.pop_up_form="query_delete",window.scrollTo(0,0),$(".pop_up_window").fadeIn(100),$(".query_delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><i class="fa fa-search folder_listing"></i><span>'+t.right_clicked_query+"</span></div></li>"),$(".query_deleter").fadeIn(100)},t.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$(".query_delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".query_deleter").fadeOut(100),$(".creater").fadeOut(100),$(".file_creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),t.pop_up_form="",t.files_to_upload=[],t.files_name=[],$("#select-result").empty(),$(".download_button").animate({opacity:"0.1"}),$(".download_button").css("pointer-events","none"),$(".rename_button").animate({opacity:"0.1"}),$(".rename_button").css("pointer-events","none"),$(".rename_divider").animate({opacity:"0.1"}),$(".download_divider").animate({opacity:"0.1"}),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn()})},t.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$(".query_delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".query_deleter").fadeOut(100),$(".creater").fadeOut(100),$(".file_creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),t.pop_up_form="",t.files_to_upload=[],t.files_name=[]})},t.listVirtualCollections(),t.getBreadcrumbPaths(),t.selectProfile=function(e,i){n.info("going to Data Profile"),e||(n.error("missing irodsAbsolutePath"),o.danger("missing irodsAbsolutePath")),r.url("/profile/"),r.search("path",e),n.info("end: "+e),1==i&&t.$apply()},t.editFile=function(e,i,s){n.info("going to File edit"),n.info("end: "+e),e||(n.error("missing irodsAbsolutePath"),o.danger("missing irodsAbsolutePath")),r.url("/edit/"),r.search("path",e),n.info("end: "+e),1==i&&t.$apply()},t.hide_breadcrumbs=function(){$(".dark_back_option_double").removeClass("open")}}]).factory("virtualCollectionsService",["$http","$log","globals",function(t,e,n){var i=[],r=[];return{listUserVirtualCollections:function(){return e.info("getting virtual colls"),t({method:"GET",url:n.backendUrl("virtualCollection")}).success(function(t){i=t}).error(function(){i=[]})},listUserVirtualCollectionData:function(o){return e.info("listing virtual collection data"),o?t({method:"GET",url:n.backendUrl("virtualCollection/")+o}).success(function(t){i=t}).error(function(){i=[]}):void(r=[])}}}]).factory("downloadService",["$http","$log","globals",function(t,e,n){return{downloadSingle:function(t){if(e.info("dowloading single"),!t)throw e.error("no path provided"),"no path provided";window.open(n.backendUrl("download")+"?path="+t,"_blank")},downloadBundle:function(t){if(e.info("dowloading bundle"),!path)throw e.error("no path provided"),"no path provided";window.open(n.backendUrl("download")+"?path="+path,"_blank")}}}]).factory("collectionsService",["$http","$log","globals",function(t,e,n){return{selectVirtualCollection:function(t){},listCollectionContents:function(i,r,o){if(e.info("listCollectionContents()"),!i)throw e.error("recVcName is missing"),"reqMcName is missing";r||(r=""),o||(o=0),e.info("requesting vc:"+i+" and path:"+r);var s=t({method:"GET",url:n.backendUrl("collection/")+i,params:{path:r,offset:o}}).then(function(t){return e.info("pagingAwareCollectionListing is:"),e.info(t.data),t.data});return s},addNewCollection:function(t,n){e.info("addNewCollection()")}}}]),angular.module("myApp.dashboard",["ngRoute","ngFileUpload","ng-context-menu","ui.codemirror"]).config(["$routeProvider",function(t){t.when("/dashboard/:vcName",{templateUrl:"dashboard/dashboard.html",controller:"dashboardCtrl",resolve:{selectedVc:function(t,e){var n=e.listUserVirtualCollectionData(t.current.params.vcName);return n},pagingAwareCollectionListing:function(t,e){var n=t.current.params.vcName,i=t.current.params.path;return null==i&&(i=""),e.listCollectionContents(n,i,0)}}}).when("/dashboard",{templateUrl:"dashboard/dashboard.html",controller:"dashboardCtrl",resolve:{selectedVc:function(t){return null},pagingAwareCollectionListing:function(t,e){return{}}}})}]).directive("onLastRepeat",function(){return function(t,e,n){t.$last&&setTimeout(function(){t.$emit("onRepeatLast",e,n)},1)}}).directive("ngDoubleTap",function(){return function(t,e,n){var i;i=!1,e.bind("touchstart",function(t){e.addClass("active"),i=!0}),e.bind("touchmove",function(t){e.removeClass("active"),i=!1}),e.bind("touchend",function(r){e.removeClass("active"),i&&("yes"==t.tapped?t.$apply(n.ngDoubleTap,e):t.tapped="yes",t.explode=function(){t.tapped="no"},setTimeout(t.explode,300))})}}).controller("dashboardCtrl",["$scope","Upload","$log","$http","$location","MessageService","globals","breadcrumbsService","downloadService","virtualCollectionsService","collectionsService","fileService","selectedVc","pagingAwareCollectionListing",function(t,e,n,i,r,o,s,a,l,c,u,h,d,p){t.selectedVc=d,t.pagingAwareCollectionListing=p.data,t.$on("onRepeatLast",function(t,e,n){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$(".ui-selectee").on("tap",function(t){var e=$("#select-result").empty();if(t.preventDefault(),$(t.target).hasClass("ui-selected")?$(t.target).removeClass("ui-selected"):$(t.target).addClass("ui-selected"),$(".ui-selected").length>1)e.append($(".ui-selected").length+" files");else if(1==$(".ui-selected").length){var n=$(".ui-selected").text();e.append(n)}else 0==$(".ui-selected").length}):$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected");var t=$("#select-result").empty();if($(".copy_list_item.ui-selected").length>1&&$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected"),$("li.ui-selected").length>1)t.append($(".ui-selected").length+" files"),$(".download_button").fadeIn(),$(".download_divider").fadeIn(),$(".rename_button").fadeOut(),$(".rename_divider").fadeOut(),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$("li.ui-selected").length){var e=$(".ui-selected").children(".list_content").children(".data_object").text();t.append(e),$(".download_button").fadeIn(),$(".rename_button").fadeIn(),$(".rename_divider").fadeIn(),$(".download_divider").fadeIn(),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()}else 0==$("li.ui-selected").length&&($(".download_button").fadeOut(),$(".rename_button").fadeOut(),$(".rename_divider").fadeOut(),$(".download_divider").fadeOut(),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}}),$(".grid").masonry()}),t.$watch("files",function(){t.upload(t.files)}),t.multiple=!0,t.upload=function(i){if(i&&i.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var r=0;r<i.length;r++){var o=i[r];$(".upload_container_result ul").append('<li id="uploading_item_'+r+'" class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+o.name+"</div></li>"),e.upload({url:s.backendUrl("file"),fields:{collectionParentName:t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath},file:o}).progress(function(t){var e=parseInt(100*t.loaded/t.total);n.info(e)}).success(function(t,e,n,i){console.log("file "+i.file.name+"uploaded. Response: "+t)})}}},t.listVirtualCollections=function(){return n.info("getting virtual colls"),i({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(e){t.virtualCollections=e}).error(function(){t.virtualCollections=[]})},t.selectVirtualCollection=function(t,e){return n.info("selectVirtualCollection()"),t?(n.info("list vc contents for vc name:"+t),r.path("/dashboard/"+t),void r.search("path",e)):void o.danger("missing vcName")},t.getBreadcrumbPaths=function(){return t.pagingAwareCollectionListing?(a.setCurrentAbsolutePath(t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath),a.getWholePathComponents()):[]},t.pagingAwareCollectionListing&&t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents&&(t.current_collection_index=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.length-1),t.delete_action=function(){var t=$(".ui-selected"),e="";return t.each(function(){void 0!=$(this).attr("id")&&(e+="path="+$(this).attr("id")+"&")}),e=e.substring(0,e.length-1),n.info("Deleting:"+e),i({method:"DELETE",url:s.backendUrl("file")+"?"+e}).success(function(t){alert("Deletion completed"),location.reload()})},t.rename_action=function(){var t=$(".ui-selected").attr("id"),e=$("#new_renaming_name").val();return n.info("Renaming:"+t),i({method:"PUT",url:s.backendUrl("rename"),params:{path:t,newName:e}}).success(function(t){location.reload()})},t.create_collection_action=function(){var e=$("#new_collection_name").val();return n.info("Adding:"+e),i({method:"PUT",url:s.backendUrl("file")+"?path="+t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath+"/"+e}).success(function(t){location.reload()})},t.getDownloadLink=function(){$(".list_content").removeClass("ui-selected");var t=$(".ui-selected");n.info(t);var e="";if(1==t.length){var i=$(".ui-selected").attr("id");window.open(s.backendUrl("download")+"?path="+i,"_blank")}else t.each(function(){if(void 0!=$(this).attr("id")){var t=$(this).attr("id");e+="path="+t+"&"}}),e=e.substring(0,e.length-1),window.open(s.backendUrl("download")+"?"+e,"_blank")},t.copy_pop_up_open=function(){return $(".pop_up_window").fadeIn(100),t.name_of_selection=$(".ui-selected"),t.name_of_selection.each(function(){void 0!=$(this).attr("id")&&($(this).hasClass("data_true")?$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+$(this).attr("id")+"</div></li>"):$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/collection_icon.png">'+$(this).attr("id")+"</div></li>"))}),$(".copier").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(e){t.copy_vc_list=e}).error(function(){alert("Something went wrong while fetching the Virtual Collections"),t.copy_vc_list=[]})},t.copy_list_refresh=function(e,n){return t.copyVC=e,i({method:"GET",url:s.backendUrl("collection/")+e,params:{path:n,offset:0}}).success(function(e){t.copy_list=e}).error(function(){alert("Something went wrong while fetching the contents of the Collection"),t.copy_list=[]})},t.create_pop_up_open=function(){$(".pop_up_window").fadeIn(100),$(".creater").fadeIn(100)},t.rename_pop_up_open=function(){$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100);var t=$(".ui-selected").children(".list_content").children(".data_object").text();$(".selected_object").append(t)},t.upload_pop_up_open=function(){$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},t.delete_pop_up_open=function(){$(".pop_up_window").fadeIn(100);var t=$(".ui-selected");t.each(function(){void 0!=$(this).attr("id")&&$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+$(this).attr("id")+"</div></li>")}),$(".deleter").fadeIn(100)},t.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(100,function(){$(".upload_container").css("display","block"),$(".upload_container_result").html("<ul></ul>"),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),location.reload()})},t.goToBreadcrumb=function(t){return t?(r.path("/dashboard/root"),void r.search("path",a.buildPathUpToIndex(t))):void n.error("cannot go to breadcrumb, no index")};var f="yes";t.side_nav_toggle=function(){"no"==f?(f="yes",$(".side_nav_options").animate({opacity:"0"}),$("#side_nav").addClass("collapsed_nav"),$("#side_nav").removeClass("uncollapsed_nav"),$("#main_contents").addClass("uncollapsed_main_contents"),$("#main_contents").removeClass("collapsed_main_contents")):"yes"==f&&(f="no",$("#side_nav").addClass("uncollapsed_nav"),$("#side_nav").removeClass("collapsed_nav"),$("#main_contents").addClass("collapsed_main_contents"),$("#main_contents").removeClass("uncollapsed_main_contents"),$(".side_nav_options").animate({opacity:"1"}))};var m;t.side_nav_autotoggle=function(e){"off"==e?"no"==f&&(m=setTimeout(t.side_nav_toggle,1e3)):"on"==e&&clearTimeout(m)},t.listVirtualCollections(),t.selectProfile=function(t){n.info("going to Data Profile"),t||(n.error("missing irodsAbsolutePath"),o.danger("missing irodsAbsolutePath")),r.url("/profile/"),r.search("path",t)},t.selectDashboardView=function(){n.info("going to Dashboard View"),r.url("/dashboard/")},t.selectHierView=function(){n.info("going to Hierarchical View"),r.url("/home/")},t.selectSearchView=function(){n.info("going to Dashboard View"),
r.url("/search/")}}]),angular.module("myApp.search",["ngRoute","ngFileUpload","ng-context-menu","ui.codemirror"]).config(["$routeProvider",function(t){t.when("/search",{templateUrl:"search/search.html",controller:"searchCtrl",resolve:{selectedVc:function(t,e){var n=e.listUserVirtualCollectionData("My Home");return n},pagingAwareCollectionListing:function(t,e){var n="My Home",i=t.current.params.path;return null==i&&(i=""),e.listCollectionContents(n,i,0)}}})}]).directive("onLastRepeat",function(){return function(t,e,n){t.$last&&setTimeout(function(){t.$emit("onRepeatLast",e,n)},1)}}).directive("addAttr",function(t){return function(e,n,i){n.bind("click",function(){angular.element(document.getElementById("query_container")).append(t('<div class="and_param left col-xs-12"> <div style="width: 409px;position: relative;text-align: center;margin: 13px 0px;float: left;border-bottom: 1px solid #bbb;color: #999;"><b>and</b></div><div style="position:relative;float:left;"><b>*&nbsp;Attribute Name</b><br><input type="text" value="" class="attr_name"/></div><div style="position:relative;float:left;padding:12px 12px 0px 12px;"><select class="form-control attr_eval" ><option value="EQUAL"><b>=</b></option><option value="LESS"><b><</b></option><option value="MORE"><b>></b></option></select></div><div style="position:relative;float:left;"><b>*&nbsp;Attribute Value</b><br><input type="text" value="" class="attr_val"/></div><div style="position:relative;float:left;padding:22px 0px 0px 12px;"><div title="Remove this line of parameters" ng-click="remove_and_avu()"><img class="pop_up_close_clear_button" src="images/close_icon.png"></div></div></div>')(e))})}}).directive("ngDoubleTap",function(){return function(t,e,n){var i;i=!1,e.bind("touchstart",function(t){e.addClass("active"),i=!0}),e.bind("touchmove",function(t){e.removeClass("active"),i=!1}),e.bind("touchend",function(r){e.removeClass("active"),i&&("yes"==t.tapped?t.$apply(n.ngDoubleTap,e):t.tapped="yes",t.explode=function(){t.tapped="no"},setTimeout(t.explode,300))})}}).controller("searchCtrl",["$scope","Upload","$log","$http","$location","MessageService","globals","breadcrumbsService","downloadService","virtualCollectionsService","collectionsService","fileService","selectedVc","pagingAwareCollectionListing",function(t,e,n,i,r,o,s,a,l,c,u,h,d,p){t.count=0,t.selectedVc=d,t.pagingAwareCollectionListing=p,t.$on("onRepeatLast",function(e,n,i){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var e=$("#select-result").empty();$(".dropdown").removeClass("open");var n=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)e.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){t.selected_target=$(".general_list_item .ui-selected").attr("id");var o="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==o)var o="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();e.append(o),$(".download_button").css("opacity","1"),$(".download_button").css("pointer-events","auto"),$(".file_edit_button").css("opacity","0.1"),$(".file_edit_button").css("pointer-events","none"),$(".folder_upload_button").css("opacity","1"),$(".folder_upload_button").css("pointer-events","auto"),$(".rename_button").css("opacity","1"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","1"),$(".download_divider").css("opacity","1"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut(),$(".general_list_item .ui-selected").hasClass("data_true")&&($(".file_edit_button").css("opacity","1"),$(".file_edit_button").css("pointer-events","auto"),$(".folder_upload_button").css("opacity","0.1"),$(".folder_upload_button").css("pointer-events","none"))}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),t.$watch("files",function(){t.upload(t.files)}),t.multiple=!0,t.upload=function(i){if(i&&i.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var r=0;r<i.length;r++){var o=i[r];$(".upload_container_result ul").append('<li id="uploading_item_'+r+'" class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+o.name+"</div></li>"),e.upload({url:s.backendUrl("file"),fields:{collectionParentName:t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath},file:o}).progress(function(t){var e=parseInt(100*t.loaded/t.total);n.info(e)}).success(function(t,e,n,i){console.log("file "+i.file.name+"uploaded. Response: "+t)})}}},t.listVirtualCollections=function(){return n.info("getting virtual colls"),i({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(e){t.virtualCollections=e}).error(function(){t.virtualCollections=[]})},t.selectVirtualCollection=function(e,i,s){return n.info("selectVirtualCollection()"),e?(n.info("list vc contents for vc name:"+e),r.path("/home/"+e),r.search("path",i),void(1==s&&t.$apply())):void o.danger("missing vcName")},t.getBreadcrumbPaths=function(){return t.pagingAwareCollectionListing?(a.setCurrentAbsolutePath(t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath),a.getWholePathComponents()):[]},t.pagingAwareCollectionListing&&t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents&&(t.current_collection_index=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents.length-1),t.query_search=function(){if(t.display_name=$(".display_name").val(),""==t.display_name)throw o.danger("Missing Search Name"),$(".display_name").focus(),new Error("Missing Search Name");var e='{"targetZone":"","queryType":"'+$("#search_objs").val()+'","pathHint":"'+$(".search_path").val()+'","metadataQueryElements":[',r=[];$(".attr_name").each(function(){if($(this).parent().parent().hasClass("ng-hide"));else{if(""==$(this).val())throw o.danger("Missing Attribute Name"),$(this).focus(),new Error("Missing Attribute Name");r.push($(this).val())}});var a=[];$(".attr_val").each(function(){if($(this).parent().parent().hasClass("ng-hide"));else{if(""==$(this).val())throw o.danger("Missing Attribute Value"),$(this).focus(),new Error("Missing Attribute Value");a.push($(this).val())}});var l=[];$(".attr_eval").each(function(){$(this).parent().parent().hasClass("ng-hide")||l.push($(this).val())});for(var c=0;c<r.length;c++){if(""==r[c])return void o.danger("Missing Attribute Name");if(""==a[c])return void o.danger("Missing Attribute Value");e+='{"attributeName":"'+r[c]+'","operator":"'+l[c]+'","attributeValue":["'+a[c]+'"],"connector":"AND"},'}return e+="]}",n.info(e),i({method:"POST",url:s.backendUrl("metadataQuery"),data:e,dataType:"json",params:{uniqueName:t.url_query_name.query_id,description:t.display_name}}).success(function(e){t.selectVirtualCollection(e.vcName,"")})},t.url_query_name=r.search(),t.get_query_params=function(e){return i({method:"GET",url:s.backendUrl("metadataQuery"),params:{uniqueName:e}}).success(function(e){t.query_vc=e;var n=t.query_vc.queryString;t.query_params=JSON.parse(n)}).error(function(t){$(".display_name").val("New Query"),$(".display_name").focus()})},t.get_query_params(t.url_query_name.query_id),t.remove_and_avu=function(){$(event.target).closest(".and_param").remove()},t.getCopyBreadcrumbPaths=function(){t.breadcrumb_popup_full_array=t.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),t.breadcrumb_popup_full_array.shift(),t.breadcrumb_popup_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_popup_full_array.length;n++)e=e+"/"+t.breadcrumb_popup_full_array[n],t.breadcrumb_popup_full_array_paths.push({b:t.breadcrumb_popup_full_array[n],path:e});t.breadcrumb_popup_full_array.length>5?t.breadcrumb_popup_compressed_array=t.breadcrumb_popup_full_array_paths.splice(0,t.breadcrumb_popup_full_array_paths.length-5):t.breadcrumb_popup_compressed_array=[]},t.set_path=function(e,n){var i=$(".copy_select_result").empty(),r=e;i.append(r),t.copy_target=n},t.copy_list_refresh=function(e,n){if(""==e)var r=t.copyVC.data.uniqueName;else var r=e;i({method:"GET",url:s.backendUrl("collection/")+r,params:{path:n,offset:0}}).then(function(e){t.copy_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("virtualCollection/")+r})}).then(function(e){t.copyVC=e,"COLLECTION"==t.copyVC.data.type&&t.getCopyBreadcrumbPaths()})},t.path_pop_up_open=function(){t.pop_up_form="path_picker",window.scrollTo(0,0),t.copyVC=t.selectedVc,$(".pop_up_window").fadeIn(100);var e=$(".copy_select_result").empty(),n=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.name_of_selection=$(".ui-selected"),t.copy_target=t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,e.append(r),t.name_of_selection.each(function(){void 0!=$(this).attr("id")&&($(this).hasClass("data_true")?$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+$(this).attr("id")+"</div></li>"):$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+$(this).attr("id")+"</div></li>"))}),$(".path_picker").fadeIn(100),$(".path_picker_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("collection/")+t.copyVC.data.uniqueName,params:{path:t.pagingAwareCollectionListing.pagingAwareCollectionListingDescriptor.parentAbsolutePath,offset:0}})}).then(function(e){t.copy_list=e,t.getCopyBreadcrumbPaths()})},t.path_pick_action=function(){$(".search_path").val(t.copy_target),t.pop_up_close()},t.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".path_picker").fadeOut(100),$(".path_picker_button").fadeOut(100),t.pop_up_form=""})},t.goToBreadcrumb=function(t){return t?(r.path("/search/root"),void r.search("path",a.buildPathUpToIndex(t))):void n.error("cannot go to breadcrumb, no index")},t.listVirtualCollections(),t.selectProfile=function(t){n.info("going to Data Profile"),t||(n.error("missing irodsAbsolutePath"),o.danger("missing irodsAbsolutePath")),r.url("/profile/"),r.search("path",t)}}]),angular.module("fileModule",[]).factory("fileService",["$http","$log","$q","globals",function(t,e,n,i){return{retrieveDataProfile:function(r){if(e.info("retriveDataProfile()"),!r)throw e.error("absolutePath is missing"),"absolutePath is missing";var o=n.defer();t({method:"GET",url:i.backendUrl("file"),params:{path:r}}).success(function(t,n,i,r){o.resolve(t),e.info("return from call to get fileBasics:"+t)}).error(function(){return null});return o.promise},starFileOrFolder:function(n){if(e.info("starFileOrFolder()"),!n)throw e.error("absolutePath is missing"),"absolutePath is missing";var r=t({method:"PUT",url:i.backendUrl("star"),params:{path:n}}).then(function(t){return e.info(t),t.data});return r},unstarFileOrFolder:function(n){if(e.info("unstarFileOrFolder()"),!n)throw e.error("absolutePath is missing"),"absolutePath is missing";var r=t({method:"DELETE",url:i.backendUrl("star"),params:{path:n}}).then(function(t){return e.info(t),t.data});return r},moveFileOrFolder:function(n,r,o){if(e.info("move()"),!n)throw e.error("sourcePath is missing"),"sourcePath is missing";r||(r=""),o||(o="");var s=t({method:"POST",url:i.backendUrl("move"),params:{sourcePath:n,targetPath:r,resource:o}}).then(function(t){return e(t),t.data});return s},copyFileOrFolder:function(n,r,o,s){if(e.info("copy()"),!n)throw e.error("sourcePath is missing"),"sourcePath is missing";if(!r)throw e.error("targetPath is missing"),"targetPath is missing";o||(o=""),s||(s=!1);var a=t({method:"POST",url:i.backendUrl("copy"),params:{sourcePath:n,targetPath:r,resource:o,overwrite:s}}).then(function(t){return e.info(t),t.data});return a}}}]),angular.module("myApp.login",["ngRoute"]).config(["$routeProvider",function(t){t.when("/login",{templateUrl:"login/login.html",controller:"loginCtrl",resolve:{configData:function(t){var e=t.retrieveInitialConfig();return e},loginData:function(){var t={};return t.authType="STANDARD",t}}})}]).controller("loginCtrl",["$scope","$log","$http","$location","MessageService","globals","$q","$timeout","configData","loginData",function(t,e,n,i,r,o,s,a,l,c){var u=function(t,e,n,i,r,o,s){return{host:t,port:e,zone:n,userName:i,password:r,authType:o,resource:s}};t.loginVal=c,t.initialConfig=l,$("#main_contents").css("width","100%"),t.close_intro=function(){$(".intro_screen").animate({opacity:"0"},function(){$(".intro_screen").css("display","none")})},t.current_page="login",t.submitLogin=function(){if(t.initialConfig.loginPresetEnabled===!0){if(""==t.initialConfig.presetPort)var r=t.loginVal.port;else var r=t.initialConfig.presetPort;if(""==t.initialConfig.presetZone)var a=t.loginVal.zone;else var a=t.initialConfig.presetZone;if(""==t.initialConfig.presetHost)var l=t.loginVal.host;else var l=t.initialConfig.presetHost;var c;c=""==t.initialConfig.presetAuthScheme||null==t.initialConfig.presetAuthScheme?t.loginVal.authType:t.initialConfig.presetAuthScheme;var h=u(l,r,a,t.loginVal.userName,t.loginVal.password,c,"")}else var h=u(t.loginVal.host,t.loginVal.port,t.loginVal.zone,t.loginVal.userName,t.loginVal.password,t.loginVal.authType,"");n({method:"POST",url:o.backendUrl("login/"),data:h}).then(function(t){e.info("login successful"+t);var n=o.getLastPath();return s.when(n)}).then(function(t){t?"/login"==t?(e.info("hard code to go home"),t="/home/My Home"):e.info("setting location to last path:"+t):(e.info("hard code to go home"),t="/home/My Home"),i.path(t),e.info("end login success processing")})}}]).factory("configService",["$http","$log","$q","globals",function(t,e,n,i){return{retrieveInitialConfig:function(){e.info("retrieveInitialConfig()");var n=t({method:"GET",url:i.backendUrl("initialConf"),params:{}}).then(function(t){return e.info(t),t.data});return n}}}]),angular.module("myApp.metadata",["ngRoute"]).factory("metadataService",["$http","$log","$q","globals",function(t,e,n,i){return{listMetadataForPath:function(n){if(e.info("listMetadataForPath()"),!n)throw e.error("absolutePath is missing"),"absolutePath is missing";var r=t({method:"GET",url:i.backendUrl("metadata"),params:{irodsAbsolutePath:n}}).then(function(t){return e(t),t.data});return r},addMetadataForPath:function(n,r,o,s){if(e.info("addMetadataForPath()"),!n)throw e.error("absolutePath is missing"),"absolutePath is missing";if(!r)throw e.error("attribute is missing"),"attribute is missing";if(!o)throw e.error("value is missing"),"value is missing";s||(s="");var a=t({method:"PUT",url:i.backendUrl("metadata"),params:{irodsAbsolutePath:n,attribute:r,value:o,unit:s}}).then(function(t){return e.info(t),t.data});return a},deleteMetadataForPath:function(n,r,o,s){if(e.info("deleteMetadataForPath()"),!n)throw e.error("absolutePath is missing"),"absolutePath is missing";if(!r)throw e.error("attribute is missing"),"attribute is missing";if(!o)throw e.error("value is missing"),"value is missing";var a=t({method:"DELETE",url:i.backendUrl("metadata"),params:{irodsAbsolutePath:n,attribute:r,value:o,unit:s}}).then(function(t){return e.info(t),t.data});return a},updateMetadataForPath:function(n,r,o,s,a,l,c){if(e.info("updateMetadataForPath()"),!n)throw e.error("absolutePath is missing"),"absolutePath is missing";var u=t({method:"POST",url:i.backendUrl("metadata"),params:{irodsAbsolutePath:n,attribute:r,value:o,unit:s,newAttribute:a,newValue:l,newUnit:c}}).then(function(t){return e.info(t),t.data});return u}}}]),angular.module("myApp.profile",["ngRoute"]).config(["$routeProvider",function(t){t.when("/profile",{templateUrl:"profile/profile.html",controller:"profileCtrl",resolve:{dataProfile:function(t,e){var n=e.retrieveDataProfile(t.current.params.path);return n}}})}]).directive("onLastRepeat",function(){return function(t,e,n){t.$last&&setTimeout(function(){t.$emit("onRepeatLast",e,n)},1)}}).controller("profileCtrl",["$scope","$log","Upload","$http","$location","MessageService","globals","breadcrumbsService","virtualCollectionsService","collectionsService","fileService","metadataService","dataProfile",function(t,e,n,i,r,o,s,a,l,c,u,h,d){t.dataProfile=d,t.pop_up_form="",i({method:"GET",url:s.backendUrl("collection/")+"root",params:{path:t.dataProfile.parentPath,offset:0}}).then(function(e){t.copy_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("virtualCollection/")+"root"})}).then(function(e){t.copyVC=e,t.getBreadcrumbPaths()}),t.getBreadcrumbPaths=function(){t.breadcrumb_full_array=t.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),t.breadcrumb_full_array.shift(),t.breadcrumb_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_full_array.length;n++)e=e+"/"+t.breadcrumb_full_array[n],t.breadcrumb_full_array_paths.push({b:t.breadcrumb_full_array[n],path:e});t.breadcrumb_full_array.length>5?t.breadcrumb_compressed_array=t.breadcrumb_full_array_paths.splice(0,t.breadcrumb_full_array_paths.length-5):t.breadcrumb_compressed_array=[]},t.goToBreadcrumb=function(t){return t?(r.path("/home/root"),void r.search("path",t)):void e.error("cannot go to breadcrumb, no path")},t.$on("onRepeatLast",function(e,n,i){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var e=$("#select-result").empty();$(".dropdown").removeClass("open");var n=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)e.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){t.selected_target=$(".general_list_item .ui-selected").attr("id");var o="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==o)var o="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();e.append(o),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),t.go_back=function(){window.history.go(-1)},t.listVirtualCollections=function(){return e.info("getting virtual colls"),i({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(e){t.virtualCollections=e}).error(function(){t.virtualCollections=[]})},t.listVirtualCollections(),t.$watch("files",function(){t.upload(t.files)}),t.multiple=!0,t.current_page="info_view",t.files_to_upload=[],t.files_name=[],t.stage_files=function(e){if(e&&e.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var n=0;n<e.length;n++){var i=e[n],r=$.inArray(i.name,t.files_name);0===r?o.danger('There is already a file named "'+i.name+'" on your list'):(t.files_to_upload.push(i),t.files_name.push(i.name),$(".upload_container_result ul").append('<li id="uploading_item_'+n+'" class="light_back_option_even"><div class="col-xs-10 list_content"><img src="images/data_object_icon.png">'+i.name+"</div></li>"))}}},t.upload=function(){if(t.files_to_upload&&t.files_to_upload.length)for(var i=0;i<t.files_to_upload.length;i++){var r=t.files_to_upload[i];n.upload({url:s.backendUrl("file"),fields:{collectionParentName:t.dataProfile.domainObject.absolutePath},file:r}).progress(function(t){var n=parseInt(100*t.loaded/t.total);e.info(n)}).then(function(e){return c.listCollectionContents(t.copyVC.data.uniqueName,t.dataProfile.domainObject.absolutePath,0)}).then(function(e){o.success("Upload completed!"),t.pagingAwareCollectionListing=e,t.pop_up_close_clear(),t.files_to_upload=[],t.files_name=[]})}},t.save_content_action=function(){return e.info("saving file content"),i({method:"POST",url:s.backendUrl("fileEdit"),params:{data:t.file_content,irodsPath:t.dataProfile.domainObject.absolutePath}}).success(function(t){location.reload()}).error(function(){})},t.delete_action=function(){var n=t.dataProfile.domainObject.absolutePath;return e.info("Deleting:"+n),i({method:"DELETE",url:s.backendUrl("file"),params:{path:n}}).then(function(t){o.info("Deletion completed!"),window.history.back()})},t.rename_action=function(){var n=t.dataProfile.domainObject.absolutePath,r=$("#new_renaming_name").val(),a=window.location,l=String(a).lastIndexOf("%2F"),c=String(a).substr(0,l),c=c+"%2F"+r;e.info("Renaming:"+n);for(var u="yes",h=0;h<t.copy_list.data.collectionAndDataObjectListingEntries.length;h++){var d=t.copy_list.data.collectionAndDataObjectListingEntries[h];r===d.nodeLabelDisplayValue&&(o.danger('There is already an item named "'+r+'", please choose a different name'),u="no",$("#new_renaming_name").addClass("has_error"),$("#new_renaming_name").focus())}"yes"===u&&(e.info("Renaming:"+n),i({method:"PUT",url:s.backendUrl("rename"),params:{path:n,newName:r}}).then(function(t){o.success("Renaming completed!"),location.assign(c)}))},t.copy_action=function(){t.copy_source=t.dataProfile.domainObject.absolutePath,e.info("||||||||||||| copying:"+t.copy_source+" to "+t.copy_target),i({method:"POST",url:s.backendUrl("copy"),params:{sourcePath:t.copy_source,targetPath:t.copy_target,resource:"",overwrite:"false"}}).then(function(){o.success("Copy completed!"),t.pop_up_close_clear()})},t.move_action=function(){t.copy_source=t.dataProfile.domainObject.absolutePath;var n=t.dataProfile.childName,r=window.location,a=String(r).lastIndexOf("="),l=String(r).substr(0,a),l=l+"="+t.copy_target+"%2F"+n;e.info("||||||||||||| moving:"+t.copy_source+" to "+t.copy_target),i({method:"POST",url:s.backendUrl("move"),params:{sourcePath:t.copy_source,targetPath:t.copy_target,resource:"",overwrite:"false"}}).then(function(){o.success("Move completed!"),location.assign(l)})},t.getCopyBreadcrumbPaths=function(){t.breadcrumb_popup_full_array=t.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),t.breadcrumb_popup_full_array.shift(),t.breadcrumb_popup_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_popup_full_array.length;n++)e=e+"/"+t.breadcrumb_popup_full_array[n],t.breadcrumb_popup_full_array_paths.push({b:t.breadcrumb_popup_full_array[n],path:e});t.breadcrumb_popup_full_array.length>5?t.breadcrumb_popup_compressed_array=t.breadcrumb_popup_full_array_paths.splice(0,t.breadcrumb_popup_full_array_paths.length-5):t.breadcrumb_popup_compressed_array=[]},t.set_path=function(e,n){var i=$(".copy_select_result").empty(),r=e;i.append(r),t.copy_target=n},t.hide_breadcrumbs=function(){$(".dark_back_option_double").removeClass("open")},t.copy_list_refresh=function(e,n){if(""==e)var r="root";else var r=e;i({method:"GET",url:s.backendUrl("collection/")+r,params:{path:n,offset:0}}).then(function(e){t.copy_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("virtualCollection/")+r})}).then(function(e){t.copyVC=e,"COLLECTION"==t.copyVC.data.type&&t.getCopyBreadcrumbPaths()})},t.editFile=function(n,i,s){e.info("going to File edit"),e.info("end: "+n),n||(e.error("missing irodsAbsolutePath"),o.danger("missing irodsAbsolutePath")),r.url("/edit/"),r.search("path",n),e.info("end: "+n),1==i&&t.$apply()},$(window).keyup(function(e){"13"==e.keyCode&&("delete"===t.pop_up_form&&(t.pop_up_form="",t.delete_action()),"upload"===t.pop_up_form&&t.upload(),"copy"===t.pop_up_form&&(t.pop_up_form="",t.copy_action()),"move"===t.pop_up_form&&(t.pop_up_form="",t.move_action()),"create"===t.pop_up_form&&(t.pop_up_form="",t.create_collection_action()),"rename"===t.pop_up_form&&(t.pop_up_form="",t.rename_action()))}),t.move_pop_up_open=function(){t.pop_up_form="move",t.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var e=$(".copy_select_result").empty(),n=t.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.copy_source=t.dataProfile.domainObject.absolutePath,t.copy_target=t.dataProfile.parentPath,e.append(r),1==t.dataProfile.file?$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+t.dataProfile.childName+"</div></li>"):$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+t.dataProfile.childName+"</div></li>"),$(".mover").fadeIn(100),$(".mover_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e,t.getCopyBreadcrumbPaths()})},t.copy_pop_up_open=function(){t.pop_up_form="copy",t.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var e=$(".copy_select_result").empty(),n=t.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.copy_source=t.dataProfile.domainObject.absolutePath,t.copy_target=t.dataProfile.parentPath,e.append(r),1==t.dataProfile.file?$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+t.dataProfile.childName+"</div></li>"):$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+t.dataProfile.childName+"</div></li>"),$(".copier").fadeIn(100),$(".copier_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e,t.getCopyBreadcrumbPaths()})},t.upload_pop_up_open=function(){t.upload_folder_name=t.dataProfile.childName,t.pop_up_form="upload",$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},t.rename_pop_up_open=function(){t.pop_up_form="rename",$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100),$("#new_renaming_name").focus();var e=t.dataProfile.childName;$(".selected_object").append(e)},t.delete_pop_up_open=function(){t.pop_up_form="delete",$(".pop_up_window").fadeIn(100),1==t.dataProfile.file?$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">&nbsp;'+t.dataProfile.domainObject.absolutePath+"</div></li>"):$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/collection_icon.png">&nbsp;'+t.dataProfile.domainObject.absolutePath+"</div></li>"),$(".deleter").fadeIn(100)},t.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),t.pop_up_form="",t.files_to_upload=[],t.files_name=[],$("#select-result").empty(),$(".download_button").animate({opacity:"0.1"}),$(".download_button").css("pointer-events","none"),$(".rename_button").animate({opacity:"0.1"}),$(".rename_button").css("pointer-events","none"),$(".rename_divider").animate({opacity:"0.1"}),$(".download_divider").animate({opacity:"0.1"}),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn()})},t.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),
$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),$("#new_metadata_attribute").removeClass("has_error"),$("#new_metadata_value").removeClass("has_error"),t.pop_up_form="",t.files_to_upload=[],t.files_name=[]})},$(window).mousedown(function(t){switch(t.which){case 1:$(t.target).is("div")&&($(t.target).parents().hasClass("ui-selectee")||$(t.target).parents().hasClass("selection_actions_container")||$(t.target).parents().hasClass("pop_up_window")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn(),$("#select-result").empty()));break;case 3:0!=$(".general_list_item .ui-selected").length&&1!=$(".general_list_item .ui-selected").length||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(t.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})),$(".general_list_item .ui-selected").length>1&&($(t.target).parents("li").hasClass("ui-selected")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(t.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})))}}),t.available_metadata=t.dataProfile.metadata,t.star_action=function(){var e=t.dataProfile.domainObject.absolutePath;u.starFileOrFolder(e).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.domainObject.absolutePath}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear(),t.dataProfile.starred=!0})},t.unstar_action=function(){var e=t.dataProfile.domainObject.absolutePath;u.unstarFileOrFolder(e).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.domainObject.absolutePath}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear(),t.dataProfile.starred=!1})},t.add_metadata_pop_up=function(){$("#new_metadata_attribute").val(""),$("#new_metadata_value").val(""),$("#new_metadata_unit").val(""),$(".pop_up_window").fadeIn(100),$(".metadata_adder").fadeIn(100)},t.edit_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),$(".metadata_editor").fadeIn(100),$("#edit_metadata_attribute").val($(".metadata_item.ui-selected").children(".metadata_attribute").text()),$("#edit_metadata_value").val($(".metadata_item.ui-selected").children(".metadata_value").text()),$("#edit_metadata_unit").val($(".metadata_item.ui-selected").children(".metadata_unit").text()),t.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),t.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),t.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text()},t.delete_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),t.delete_objects=$(".metadata_item.ui-selected"),t.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),t.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),t.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text(),e.info(t.delete_objects),$(".metadata_delete_container ul").empty(),$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column"><b>ATTRIBUTE</b></div><div class="q_column"><b>VALUE</b></div><div class="q_column"><b>UNIT</b></div></li>'),t.delete_objects.each(function(){$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column">'+$(this).children(".metadata_attribute").text()+'</div><div class="q_column">'+$(this).children(".metadata_value").text()+'</div><div class="q_column">'+$(this).children(".metadata_unit").text()+"</div></li>")}),$(".metadata_deleter").fadeIn(100)},t.metadata_add_action=function(){$("#new_metadata_attribute").removeClass("has_error"),$("#new_metadata_value").removeClass("has_error");for(var e=t.dataProfile.domainObject.absolutePath,n=$("#new_metadata_attribute").val(),r=$("#new_metadata_value").val(),a=$("#new_metadata_unit").val(),l="yes",c="yes",u=0;u<t.available_metadata.length;u++){var d=t.available_metadata[u];n===d.avuAttribute&&(l="no"),r===d.avuValue&&(c="no")}"no"==c&&"no"==l?(o.danger('There is already an AVU with Attribute: "'+n+'" and Value: "'+r+'". Please choose a different Attribute or Value'),$("#new_metadata_attribute").addClass("has_error"),$("#new_metadata_value").addClass("has_error"),$("#new_metadata_attribute").focus()):""==n?(o.danger("The Attribute field can't be blank, please provide an Attribute"),$("#new_metadata_attribute").addClass("has_error"),$("#new_metadata_attribute").focus()):""==r?(o.danger("The Value field can't be blank, please provide a Value"),$("#new_metadata_value").addClass("has_error"),$("#new_metadata_value").focus()):h.addMetadataForPath(e,n,r,a).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.domainObject.absolutePath}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear()})},t.metadata_edit_action=function(){var e=t.dataProfile.domainObject.absolutePath,n=$("#edit_metadata_attribute").val(),r=$("#edit_metadata_value").val(),o=$("#edit_metadata_unit").val();h.updateMetadataForPath(e,t.old_metadata_attribute,t.old_metadata_value,t.old_metadata_unit,n,r,o).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.domainObject.absolutePath}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear()})},t.metadata_delete_action=function(){var e=t.dataProfile.domainObject.absolutePath;$("#edit_metadata_attribute").val(),$("#edit_metadata_value").val(),$("#edit_metadata_unit").val();h.deleteMetadataForPath(e,t.old_metadata_attribute,t.old_metadata_value,t.old_metadata_unit).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.domainObject.absolutePath}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear()})},t.green_action_toggle=function(t){var e=t.currentTarget.nextElementSibling,n=t.currentTarget.parentElement;$(e).toggle("normal"),$(n).toggleClass("green_toggle_container_open")},t.getDownloadLink=function(){return s.backendUrl("download")+"?path="+t.dataProfile.domainObject.absolutePath}}]),angular.module("myApp.edit",["ngRoute"]).config(["$routeProvider",function(t){t.when("/edit",{templateUrl:"edit/edit.html",controller:"editCtrl",resolve:{dataProfile:function(t,e){var n=e.retrieveDataProfile(t.current.params.path);return n}}})}]).directive("onLastRepeat",function(){return function(t,e,n){t.$last&&setTimeout(function(){t.$emit("onRepeatLast",e,n)},1)}}).controller("editCtrl",["$scope","$log","Upload","$http","$location","MessageService","globals","breadcrumbsService","virtualCollectionsService","collectionsService","fileService","metadataService","dataProfile",function(t,e,n,i,r,o,s,a,l,c,u,h,d){t.dataProfile=d,t.pop_up_form="",t.initial_file_content="",t.initial_rule_string="",t.file_content="",t.rule_object="",t.rule_results_raw="",t.get_file_content=function(){return e.info("getting file content"),i({method:"GET",url:s.backendUrl("fileEdit"),params:{irodsPath:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.file_content=e,t.initial_file_content=e}).error(function(){t.file_content=""})},t.get_rule_string=function(){return e.info("getting rule object"),i({method:"GET",url:s.backendUrl("rawRule"),params:{irodsPath:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.rule_string=e,t.initial_rule_string_body=t.rule_string.ruleText,t.initial_rule_string=e}).error(function(){t.rule_string=""})},t.exec_rule=function(){return e.info("executing rule"),i({method:"POST",url:s.backendUrl("ruleExecution"),params:{rule:t.rule_string.ruleText}}).success(function(e){t.rule_results_raw=e})},t.save_rule=function(){return e.info("saving rule"),i({method:"POST",url:s.backendUrl("rawRule"),params:{irodsPath:t.dataProfile.parentPath+"/"+t.dataProfile.childName,rule:t.rule_string.ruleText}}).success(function(){o.success("Rule saved!"),t.get_rule_string()})},t.reload_file_content=function(){t.get_file_content()},t.reload_rule_string=function(){t.get_rule_string(),t.rule_results_raw=""},"text/plain"==t.dataProfile.mimeType?t.editorOptions={lineWrapping:!1,lineNumbers:!0}:"application/xml"==t.dataProfile.mimeType?t.editorOptions={lineWrapping:!1,lineNumbers:!0,mode:{name:"xml",typescript:!0}}:"application/irods-rule"==t.dataProfile.mimeType&&(t.editorOptions={lineWrapping:!1,lineNumbers:!0,mode:{name:"javascript",typescript:!0}}),t.resultsOptions={lineWrapping:!0,lineNumbers:!0,readOnly:!0,mode:{name:"javascript",typescript:!0}},i({method:"GET",url:s.backendUrl("collection/")+"root",params:{path:t.dataProfile.parentPath,offset:0}}).then(function(e){t.copy_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("virtualCollection/")+"root"})}).then(function(e){t.copyVC=e,t.getBreadcrumbPaths()}),t.getBreadcrumbPaths=function(){t.breadcrumb_full_array=t.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),t.breadcrumb_full_array.shift(),t.breadcrumb_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_full_array.length;n++)e=e+"/"+t.breadcrumb_full_array[n],t.breadcrumb_full_array_paths.push({b:t.breadcrumb_full_array[n],path:e});t.breadcrumb_full_array.length>5?t.breadcrumb_compressed_array=t.breadcrumb_full_array_paths.splice(0,t.breadcrumb_full_array_paths.length-5):t.breadcrumb_compressed_array=[]},t.goToBreadcrumb=function(t){return t?(r.path("/home/root"),void r.search("path",t)):void e.error("cannot go to breadcrumb, no path")},t.$on("onRepeatLast",function(e,n,i){$(".selectable").selectable({stop:function(){$(".list_content").removeClass("ui-selected"),$("span").removeClass("ui-selected"),$("img").removeClass("ui-selected");var e=$("#select-result").empty();$(".dropdown").removeClass("open");var n=$(".copy_select_result").empty();if(1==$(".copy_list_item.ui-selected").length){var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if($(".copy_list_item.ui-selected").length>1){$(".copy_list_item.ui-selected").not(":first").removeClass("ui-selected");var i=$(".copy_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(i),t.copy_target=$(".copy_list_item.ui-selected").attr("id")}if(1==$(".move_list_item.ui-selected").length){var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.copy_target=$(".move_list_item.ui-selected").attr("id")}if($(".move_list_item.ui-selected").length>1){$(".move_list_item.ui-selected").not(":first").removeClass("ui-selected");var r=$(".move_list_item.ui-selected").children(".list_content").children(".collection_object").text();n.append(r),t.move_target=$(".move_list_item.ui-selected").attr("id")}if($(".general_list_item .ui-selected").length>1)e.append("You've selected: "+$(".general_list_item .ui-selected").length+" items"),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeOut();else if(1==$(".general_list_item .ui-selected").length){t.selected_target=$(".general_list_item .ui-selected").attr("id");var o="You've selected: "+$(".ui-selected").children(".list_content").children(".data_object").text();if("You've selected: "==o)var o="You've selected: "+$(".ui-selected").children(".list_content").children(".collection_object").text();e.append(o),$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()}else 0==$(".general_list_item .ui-selected").length&&($(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn())}})}),t.go_back=function(){t.file_content!=t.initial_file_content||t.rule_string.ruleText!=t.initial_rule_string_body?confirm("Are you sure you want to leave this page without saving your changes?")&&window.history.go(-1):window.history.go(-1)},t.listVirtualCollections=function(){return e.info("getting virtual colls"),i({method:"GET",url:s.backendUrl("virtualCollection")}).success(function(e){t.virtualCollections=e}).error(function(){t.virtualCollections=[]})},t.listVirtualCollections();var p="yes";t.side_nav_toggle=function(){"no"==p?(p="yes",$(".side_nav_options").animate({opacity:"0"}),$("#side_nav").addClass("collapsed_nav"),$("#side_nav").removeClass("uncollapsed_nav"),$("#main_contents").addClass("uncollapsed_main_contents"),$("#main_contents").removeClass("collapsed_main_contents")):"yes"==p&&(p="no",$("#side_nav").addClass("uncollapsed_nav"),$("#side_nav").removeClass("collapsed_nav"),$("#main_contents").addClass("collapsed_main_contents"),$("#main_contents").removeClass("uncollapsed_main_contents"),$(".side_nav_options").animate({opacity:"1"}))};var f;t.side_nav_autotoggle=function(e){"off"==e?"no"==p&&(f=setTimeout(t.side_nav_toggle,1e3)):"on"==e&&clearTimeout(f)},t.$watch("files",function(){t.upload(t.files)}),t.multiple=!0,t.current_page="info_view",t.upload=function(i){if(i&&i.length){$(".upload_container").css("display","none"),$(".upload_container_result").css("display","block");for(var r=0;r<i.length;r++){var o=i[r];$(".upload_container_result ul").append('<li id="uploading_item_'+r+'" class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">'+o.name+"</div></li>"),n.upload({url:s.backendUrl("file"),fields:{collectionParentName:t.dataProfile.parentPath+"/"+t.dataProfile.childName},file:o}).progress(function(t){var n=parseInt(100*t.loaded/t.total);e.info(n)}).success(function(t,e,n,i){console.log("file "+i.file.name+"uploaded. Response: "+t)})}}},t.save_content_action=function(){return e.info("saving file content"),i({method:"POST",url:s.backendUrl("fileEdit"),params:{data:t.file_content,irodsPath:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){o.success("File saved!"),t.get_file_content()}).error(function(){})},t.get_file_content(),t.get_rule_string(),t.delete_action=function(){var n=t.dataProfile.parentPath+"/"+t.dataProfile.childName;return e.info("Deleting:"+n),i({method:"DELETE",url:s.backendUrl("file"),params:{path:n}}).then(function(t){o.info("Deletion completed!"),window.history.back()})},t.rename_action=function(){var n=t.dataProfile.parentPath+"/"+t.dataProfile.childName,r=$("#new_renaming_name").val(),a=window.location,l=String(a).lastIndexOf("%2F"),c=String(a).substr(0,l),c=c+"%2F"+r;e.info("Renaming:"+n);for(var u="yes",h=0;h<t.copy_list.data.collectionAndDataObjectListingEntries.length;h++){var d=t.copy_list.data.collectionAndDataObjectListingEntries[h];r===d.nodeLabelDisplayValue&&(o.danger('There is already an item named "'+r+'", please choose a different name'),u="no",$("#new_renaming_name").addClass("has_error"),$("#new_renaming_name").focus())}"yes"===u&&(e.info("Renaming:"+n),i({method:"PUT",url:s.backendUrl("rename"),params:{path:n,newName:r}}).then(function(t){o.success("Renaming completed!"),location.assign(c)}))},t.copy_action=function(){t.copy_source=t.dataProfile.parentPath+"/"+t.dataProfile.childName,e.info("||||||||||||| copying:"+t.copy_source+" to "+t.copy_target),i({method:"POST",url:s.backendUrl("copy"),params:{sourcePath:t.copy_source,targetPath:t.copy_target,resource:"",overwrite:"false"}}).then(function(){o.success("Copy completed!"),t.pop_up_close_clear()})},t.move_action=function(){t.copy_source=t.dataProfile.parentPath+"/"+t.dataProfile.childName;var n=t.dataProfile.childName,r=window.location,a=String(r).lastIndexOf("="),l=String(r).substr(0,a),l=l+"="+t.copy_target+"%2F"+n;e.info("||||||||||||| moving:"+t.copy_source+" to "+t.copy_target),i({method:"POST",url:s.backendUrl("move"),params:{sourcePath:t.copy_source,targetPath:t.copy_target,resource:"",overwrite:"false"}}).then(function(){o.success("Move completed!"),location.assign(l)})},t.logout_func=function(){var t=i({method:"POST",url:s.backendUrl("logout")}).then(function(){r.path("/login").search({}),s.setLastPath("/home")});return t},t.getCopyBreadcrumbPaths=function(){t.breadcrumb_popup_full_array=t.copy_list.data.pagingAwareCollectionListingDescriptor.parentAbsolutePath.split("/"),t.breadcrumb_popup_full_array.shift(),t.breadcrumb_popup_full_array_paths=[];for(var e="",n=0;n<t.breadcrumb_popup_full_array.length;n++)e=e+"/"+t.breadcrumb_popup_full_array[n],t.breadcrumb_popup_full_array_paths.push({b:t.breadcrumb_popup_full_array[n],path:e});t.breadcrumb_popup_full_array.length>5?t.breadcrumb_popup_compressed_array=t.breadcrumb_popup_full_array_paths.splice(0,t.breadcrumb_popup_full_array_paths.length-5):t.breadcrumb_popup_compressed_array=[]},t.set_path=function(e,n){var i=$(".copy_select_result").empty(),r=e;i.append(r),t.copy_target=n},t.hide_breadcrumbs=function(){$(".dark_back_option_double").removeClass("open")},t.copy_list_refresh=function(e,n){if(""==e)var r="root";else var r=e;i({method:"GET",url:s.backendUrl("collection/")+r,params:{path:n,offset:0}}).then(function(e){t.copy_list=e}).then(function(){return i({method:"GET",url:s.backendUrl("virtualCollection/")+r})}).then(function(e){t.copyVC=e,"COLLECTION"==t.copyVC.data.type&&t.getCopyBreadcrumbPaths()})},$(window).keyup(function(e){"13"==e.keyCode&&("delete"===t.pop_up_form&&(t.pop_up_form="",t.delete_action()),"upload"===t.pop_up_form&&t.upload(),"copy"===t.pop_up_form&&(t.pop_up_form="",t.copy_action()),"move"===t.pop_up_form&&(t.pop_up_form="",t.move_action()),"create"===t.pop_up_form&&(t.pop_up_form="",t.create_collection_action()),"rename"===t.pop_up_form&&(t.pop_up_form="",t.rename_action()))}),t.move_pop_up_open=function(){t.pop_up_form="move",t.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var e=$(".copy_select_result").empty(),n=t.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.copy_source=t.dataProfile.parentPath+"/"+t.dataProfile.childName,t.copy_target=t.dataProfile.parentPath,e.append(r),1==t.dataProfile.file?$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+t.dataProfile.childName+"</div></li>"):$(".move_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+t.dataProfile.childName+"</div></li>"),$(".mover").fadeIn(100),$(".mover_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e,t.getCopyBreadcrumbPaths()})},t.copy_pop_up_open=function(){t.pop_up_form="copy",t.copy_source=$(".general_list_item .ui-selected").attr("id"),$(".pop_up_window").fadeIn(100);var e=$(".copy_select_result").empty(),n=t.copy_list.data.pagingAwareCollectionListingDescriptor.pathComponents,r=n[n.length-1];t.copy_source=t.dataProfile.parentPath+"/"+t.dataProfile.childName,t.copy_target=t.dataProfile.parentPath,e.append(r),1==t.dataProfile.file?$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/data_object_icon.png">'+t.dataProfile.childName+"</div></li>"):$(".copy_container ul").append('<li class="light_back_option_even"><div class="col-xs-12 list_content"><img src="images/collection_icon.png">'+t.dataProfile.childName+"</div></li>"),$(".copier").fadeIn(100),$(".copier_button").fadeIn(100),i({method:"GET",url:s.backendUrl("virtualCollection")}).then(function(e){t.copy_vc_list=e,t.getCopyBreadcrumbPaths()})},t.upload_pop_up_open=function(){t.pop_up_form="upload",$(".pop_up_window").fadeIn(100),$(".uploader").fadeIn(100)},t.rename_pop_up_open=function(){t.pop_up_form="rename",$(".pop_up_window").fadeIn(100),$(".renamer").fadeIn(100),$("#new_renaming_name").focus();var e=t.dataProfile.childName;$(".selected_object").append(e)},t.delete_pop_up_open=function(){t.pop_up_form="delete",$(".pop_up_window").fadeIn(100),1==t.dataProfile.file?$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/data_object_icon.png">&nbsp;'+t.dataProfile.parentPath+"/"+t.dataProfile.childName+"</div></li>"):$(".delete_container ul").append('<li class="light_back_option_even"><div class="col-xs-7 list_content"><img src="images/collection_icon.png">&nbsp;'+t.dataProfile.parentPath+"/"+t.dataProfile.childName+"</div></li>"),$(".deleter").fadeIn(100)},t.pop_up_close_clear=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),t.pop_up_form="",t.files_to_upload=[],t.files_name=[],$("#select-result").empty(),$(".download_button").animate({opacity:"0.1"}),$(".download_button").css("pointer-events","none"),$(".rename_button").animate({opacity:"0.1"}),$(".rename_button").css("pointer-events","none"),$(".rename_divider").animate({opacity:"0.1"}),$(".download_divider").animate({opacity:"0.1"}),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn()})},t.pop_up_close=function(){$(".pop_up_window").fadeOut(200,function(){$(".move_container ul").empty(),$(".delete_container ul").empty(),$("#new_collection_name").val(""),$(".selected_object").empty(),$("#new_renaming_name").val(""),$("#new_renaming_name").removeClass("has_error"),$("#new_collection_name").removeClass("has_error"),$(".upload_container").css("display","block"),$(".upload_container_result ul").empty(),$(".upload_container_result").css("display","none"),$(".metadata_adder").fadeOut(100),$(".metadata_editor").fadeOut(100),$(".metadata_deleter").fadeOut(100),$(".uploader").fadeOut(100),$(".deleter").fadeOut(100),$(".creater").fadeOut(100),$(".renamer").fadeOut(100),$(".copier").fadeOut(100),$(".mover").fadeOut(100),$(".copier_button").fadeOut(100),$(".mover_button").fadeOut(100),$("#new_metadata_attribute").removeClass("has_error"),$("#new_metadata_value").removeClass("has_error"),t.pop_up_form="",t.files_to_upload=[],t.files_name=[]})},t.selectProfile=function(n,i){e.info("going to Data Profile"),n||(e.error("missing irodsAbsolutePath"),o.danger("missing irodsAbsolutePath")),r.url("/profile/"),r.search("path",n),e.info("end: "+n),1==i&&t.$apply()},$(window).mousedown(function(t){switch(t.which){case 1:$(t.target).is("div")&&($(t.target).parents().hasClass("ui-selectee")||$(t.target).parents().hasClass("selection_actions_container")||$(t.target).parents().hasClass("pop_up_window")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(".download_button").css("opacity","0.1"),$(".download_button").css("pointer-events","none"),$(".rename_button").css("opacity","0.1"),$(".rename_button").css("pointer-events","none"),$(".rename_divider").css("opacity","0.1"),$(".download_divider").css("opacity","0.1"),$(".tablet_download_button").fadeOut(),$(".tablet_rename_button").fadeOut(),$(".empty_selection").fadeIn(),$("#select-result").empty()));break;case 3:0!=$(".general_list_item .ui-selected").length&&1!=$(".general_list_item .ui-selected").length||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(t.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})),$(".general_list_item .ui-selected").length>1&&($(t.target).parents("li").hasClass("ui-selected")||($(".general_list_item .ui-selected").removeClass("ui-selected"),$(t.target).parents("li").addClass("ui-selected","fast",function(){$(".download_button").css("opacity","0.8"),$(".download_button").css("pointer-events","auto"),$(".rename_button").css("opacity","0.8"),$(".rename_button").css("pointer-events","auto"),$(".rename_divider").css("opacity","0.8"),$(".download_divider").css("opacity","0.8"),$(".tablet_download_button").fadeIn(),$(".tablet_rename_button").fadeIn(),$(".empty_selection").fadeOut()})))}}),t.available_metadata=t.dataProfile.metadata,t.star_action=function(){var e=t.dataProfile.parentPath+"/"+t.dataProfile.childName;u.starFileOrFolder(e).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear(),t.dataProfile.starred=!0})},t.unstar_action=function(){var e=t.dataProfile.parentPath+"/"+t.dataProfile.childName;u.unstarFileOrFolder(e).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear(),t.dataProfile.starred=!1})},t.add_metadata_pop_up=function(){$("#new_metadata_attribute").val(""),$("#new_metadata_value").val(""),$("#new_metadata_unit").val(""),$(".pop_up_window").fadeIn(100),$(".metadata_adder").fadeIn(100)},t.edit_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),$(".metadata_editor").fadeIn(100),$("#edit_metadata_attribute").val($(".metadata_item.ui-selected").children(".metadata_attribute").text()),$("#edit_metadata_value").val($(".metadata_item.ui-selected").children(".metadata_value").text()),$("#edit_metadata_unit").val($(".metadata_item.ui-selected").children(".metadata_unit").text()),t.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),t.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),t.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text()},t.delete_metadata_pop_up=function(){$(".pop_up_window").fadeIn(100),t.delete_objects=$(".metadata_item.ui-selected"),t.old_metadata_attribute=$(".metadata_item.ui-selected").children(".metadata_attribute").text(),t.old_metadata_value=$(".metadata_item.ui-selected").children(".metadata_value").text(),t.old_metadata_unit=$(".metadata_item.ui-selected").children(".metadata_unit").text(),e.info(t.delete_objects),$(".metadata_delete_container ul").empty(),$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column"><b>ATTRIBUTE</b></div><div class="q_column"><b>VALUE</b></div><div class="q_column"><b>UNIT</b></div></li>'),t.delete_objects.each(function(){$(".metadata_delete_container ul").append('<li class="light_back_option_even"><div class="q_column">'+$(this).children(".metadata_attribute").text()+'</div><div class="q_column">'+$(this).children(".metadata_value").text()+'</div><div class="q_column">'+$(this).children(".metadata_unit").text()+"</div></li>")}),$(".metadata_deleter").fadeIn(100)},t.metadata_add_action=function(){for(var e=t.dataProfile.parentPath+"/"+t.dataProfile.childName,n=$("#new_metadata_attribute").val(),r=$("#new_metadata_value").val(),a=$("#new_metadata_unit").val(),l="yes",c="yes",u=0;u<t.available_metadata.length;u++){var d=t.available_metadata[u];n===d.avuAttribute&&(l="no"),r===d.avuValue&&(c="no")}"no"==c&&"no"==l?(o.danger('There is already an AVU with Attribute: "'+n+'" and Value: "'+r+'". Please choose a different Attribute or Value'),$("#new_metadata_attribute").addClass("has_error"),$("#new_metadata_value").addClass("has_error"),$("#new_metadata_attribute").focus()):h.addMetadataForPath(e,n,r,a).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear()})},t.metadata_edit_action=function(){var e=t.dataProfile.parentPath+"/"+t.dataProfile.childName,n=$("#edit_metadata_attribute").val(),r=$("#edit_metadata_value").val(),o=$("#edit_metadata_unit").val();h.updateMetadataForPath(e,t.old_metadata_attribute,t.old_metadata_value,t.old_metadata_unit,n,r,o).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear()})},t.metadata_delete_action=function(){var e=t.dataProfile.parentPath+"/"+t.dataProfile.childName;$("#edit_metadata_attribute").val(),$("#edit_metadata_value").val(),$("#edit_metadata_unit").val();h.deleteMetadataForPath(e,t.old_metadata_attribute,t.old_metadata_value,t.old_metadata_unit).then(function(){i({method:"GET",url:s.backendUrl("file"),params:{path:t.dataProfile.parentPath+"/"+t.dataProfile.childName}}).success(function(e){t.new_meta=e,t.available_metadata=t.new_meta.metadata}),t.pop_up_close_clear()})},t.green_action_toggle=function(t){
var e=t.currentTarget.nextElementSibling,n=t.currentTarget.parentElement;$(e).toggle("normal"),$(n).toggleClass("green_toggle_container_open")},t.getDownloadLink=function(){return s.backendUrl("download")+"?path="+t.dataProfile.domainObject.absolutePath}}]),angular.module("globalsModule",[]).factory("globals",["$rootScope","$log","$location","$injector",function(t,e,n,i){var r={},o="http://"+location.hostname+":8080/irods-cloud-backend/";r.backendUrl=function(t){var n=o+t;return e.info("computed URL:"+n),n},t.selectDashboardView=function(){e.info("going to Dashboard View"),n.url("/dashboard/")},t.selectHierView=function(){e.info("going to Hierarchical View"),n.url("/home")},t.selectSearchView=function(t){if(t)e.info("going to Dashboard View"),n.url("/search/?query_id="+t);else{var i=uuid.v1();e.info("going to Dashboard View"),n.url("/search/?query_id="+i)}},t.get_query_params=function(t){return $http({method:"GET",url:$globals.backendUrl("metadataQuery"),params:{uniqueName:t}}).success(function(t){$scope.query_vc=t;var e=$scope.query_vc.queryString;$scope.query_params=JSON.parse(e),$scope.search_objs="BOTH"})};var s="yes";t.side_nav_toggle=function(){"no"==s?(s="yes",$(".side_nav_options").animate({opacity:"0"}),$("#side_nav").addClass("collapsed_nav"),$("#side_nav").removeClass("uncollapsed_nav"),$("#main_contents").addClass("uncollapsed_main_contents"),$("#main_contents").removeClass("collapsed_main_contents")):"yes"==s&&(s="no",$("#side_nav").addClass("uncollapsed_nav"),$("#side_nav").removeClass("collapsed_nav"),$("#main_contents").addClass("collapsed_main_contents"),$("#main_contents").removeClass("uncollapsed_main_contents"),$(".side_nav_options").animate({opacity:"1"}))};var a;t.side_nav_autotoggle=function(e){"off"==e?"no"==s&&(a=setTimeout(t.side_nav_toggle,1e3)):"on"==e&&clearTimeout(a)},t.logout_func=function(){var t;return t||(t=i.get("$http")),t({method:"POST",url:r.backendUrl("logout")}).then(function(){n.path("/login").search({})})};var l=navigator.userAgent.toLowerCase();return l.indexOf("safari")!=-1&&l.indexOf("chrome")>-1,r.lastPath=null,r.loggedInIdentity=null,r.setLastPath=function(t){this.lastPath=t},r.getLastPath=function(){return this.lastPath},r.getLoggedInIdentity=function(){return this.loggedInIdentity},r.setLoggedInIdentity=function(t){this.loggedInIdentity=t},r.sanitizeCollName=function(t){if(!t)throw"no collName provided";return encodeURIComponent(t)},r}]).factory("breadcrumbsService",function(t,e){var n={};return n.currentAbsolutePath=null,n.pathComponents=[],n.setCurrentAbsolutePath=function(t){return t?(this.currentAbsolutePath=t,e.info("path:"+t),this.pathComponents=this.pathToArray(t),void e.info("path components set:"+this.pathComponents)):void this.clear()},n.pathToArray=function(t){if(!t)return e.info("no pathin"),[];var n=t.split("/");return e.info("array orig is:"+n),0==n.length?[]:(n.shift(),n)},n.buildPathUpToIndex=function(t){var n=this.getWholePathComponents();if(!n)throw e.error("no path components, cannot go to breadcrumb"),"cannot build path";for(var i="",r=0;r<=t;r++)n[r]&&(i=i+"/"+n[r]);return e.info("got total path:"+i),i},n.getWholePathComponents=function(){return this.pathComponents?this.pathComponents:[]},n.clear=function(){this.currentAbsolutePath=null,this.pathComponents=[]},n}),angular.module("httpInterceptorModule",[]).factory("myHttpResponseInterceptor",["$q","$location","$log","MessageService","globals",function(t,e,n,i,r){return{request:function(e){return $(".spinning_wheel").fadeIn(),e||t.when(e)},requestError:function(e){return console.log(e),t.reject(e)},response:function(e){return $(".spinning_wheel").fadeOut(),n.info(e),e||t.when(e)},responseError:function(o){console.log(o),n.error(o);var s=o.status;if(n.info("status for rejection:"+s),$(".spinning_wheel").fadeOut(),0==s);else if(500==s){if(n.info("internal server error"),"/search"!=e.path()){o.data.error.localizedMessage.startsWith("no virtual collections")&&e.path("/home/My Home"),r.setLastPath(e.path());var a=o.data.error.localizedMessage;return a||(a="An error occurred"),i.error(a),t.reject(o)}}else if(401==s)"/login"!=e.path()&&(n.info("intercepted unauthorized, save the last path"),r.setLastPath(e.path()),n.info("saved last path:"+e.path()),i.warn("Please log in")),e.path("/login");else{if(400==s){var l=o.data.errors.errors.length;if(l>0)for(var c=0;c<l;c++)i.warn(o.data.errors.errors[c].message);return t.reject(o)}if(o&&o.data){if(o.data.error)var u=o.data.error.localizedMessage;u&&null!=u||(u="unknown exception occurred"),n.error("unknown exception, message is:"+u),i.error(u)}else{var u="unknown exception occurred";n.error("unknown exception, but with rejection, which was:"+o.data),i.error(u)}}return t.reject(o)}}}]).config(["$httpProvider",function(t){t.interceptors.push("myHttpResponseInterceptor")}]),!function(){function t(t,e){window.XMLHttpRequest.prototype[t]=e(window.XMLHttpRequest.prototype[t])}function e(t,e,n){try{Object.defineProperty(t,e,{get:n})}catch(i){}}function n(t){return"input"===t[0].tagName.toLowerCase()&&t.attr("type")&&"file"===t.attr("type").toLowerCase()}var i=function(){try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(t)return!0}catch(e){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1};if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var r=function(t){if(!t.__listeners){t.upload||(t.upload={}),t.__listeners=[];var e=t.upload.addEventListener;t.upload.addEventListener=function(n,i){t.__listeners[n]=i,e&&e.apply(this,arguments)}}};t("open",function(t){return function(e,n,i){r(this),this.__url=n;try{t.apply(this,[e,n,i])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,t.apply(this,[e,"_fix_for_ie_crossdomain__",i]))}}}),t("getResponseHeader",function(t){return function(e){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(e):null==t?null:t.apply(this,[e])}}),t("getAllResponseHeaders",function(t){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==t?null:t.apply(this)}}),t("abort",function(t){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==t?null:t.apply(this)}}),t("setRequestHeader",function(t){return function(e,n){if("__setXHR_"===e){r(this);var i=n(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[e]=n,t.apply(this,arguments)}}),t("send",function(t){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],o={url:n.__url,jsonp:!1,cache:!0,complete:function(t,i){n.__completed=!0,!t&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!t&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===t&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&e(n,"status",function(){return 0==i.status&&t&&"abort"!==t?500:i.status}),void 0!==i.statusText&&e(n,"statusText",function(){return i.statusText}),e(n,"readyState",function(){return 4}),void 0!==i.response&&e(n,"response",function(){return i.response});var r=i.responseText||(t&&0==i.status&&"abort"!==t?t:void 0);e(n,"responseText",function(){return r}),e(n,"response",function(){return r}),t&&e(n,"err",function(){return t}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},fileprogress:function(t){if(t.target=n,n.__listeners.progress&&n.__listeners.progress(t),n.__total=t.total,n.__loaded=t.loaded,t.total===t.loaded){var e=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},e.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};o.data={},o.files={};for(var s=0;s<r.data.length;s++){var a=r.data[s];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?o.files[a.key]=a.val:o.data[a.key]=a.val}setTimeout(function(){if(!i())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(o)},1)}else{if(this.__origError)throw this.__origError;t.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(t,e,n){e.__isFileAPIBlobShim&&(e=e.data[0]),this.data.push({key:t,val:e,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(t){return{data:t,__isFileAPIBlobShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var t,e,n,r,o,s=document.createElement("script"),a=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)t=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)e=window.FileAPI.jsPath;else for(n=0;n<a.length;n++)if(o=a[n].src,r=o.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),r>-1){e=o.substring(0,r+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=e),s.setAttribute("src",t||e+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s),FileAPI.hasFlash=i()}}(),FileAPI.ngfFixIE=function(t,e,r,o){if(!i())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var s=function(){function i(t){var e,n;if(e=n=0,t.offsetParent)do e+=t.offsetLeft,n+=t.offsetTop;while(t=t.offsetParent);return{left:e,top:n}}if(t.attr("disabled"))t.__ngf_elem__.removeClass("js-fileapi-wrapper");else{var l=t.__ngf_elem__;l?r(t.__ngf_elem__):(l=t.__ngf_elem__=e(),l.addClass("js-fileapi-wrapper"),!n(t),setTimeout(function(){l.bind("mouseenter",s)},10),l.bind("change",function(t){a.apply(this,[t]),o.apply(this,[t])})),n(t)||l.css("position","absolute").css("top",i(t[0]).top+"px").css("left",i(t[0]).left+"px").css("width",t[0].offsetWidth+"px").css("height",t[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",t.css("display")).css("overflow","hidden").css("z-index","900000")}};t.bind("mouseenter",s);var a=function(t){for(var e=FileAPI.getFiles(t),n=0;n<e.length;n++)void 0===e[n].size&&(e[n].size=0),void 0===e[n].name&&(e[n].name="file"),void 0===e[n].type&&(e[n].type="undefined");t.target||(t.target={}),t.target.files=e,t.target.files!=e&&(t.__files_=e),(t.__files_||t.target.files).item=function(e){return(t.__files_||t.target.files)[e]||null}}},FileAPI.disableFileInput=function(t,e){e?t.removeClass("js-fileapi-wrapper"):t.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var t=this,e=!1;this.listeners={},this.addEventListener=function(e,n){t.listeners[e]=t.listeners[e]||[],t.listeners[e].push(n)},this.removeEventListener=function(e,n){t.listeners[e]&&t.listeners[e].splice(t.listeners[e].indexOf(n),1)},this.dispatchEvent=function(e){var n=t.listeners[e.type];if(n)for(var i=0;i<n.length;i++)n[i].call(t,e)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(e,n){var i={type:e,target:t,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){if(e||(e=!0,t.onloadstart&&t.onloadstart(n("loadstart",i))),"load"===i.type){t.onloadend&&t.onloadend(n("loadend",i));var r=n("load",i);t.onload&&t.onload(r),t.dispatchEvent(r)}else if("progress"===i.type){var r=n("progress",i);t.onprogress&&t.onprogress(r),t.dispatchEvent(r)}else{var r=n("error",i);t.onerror&&t.onerror(r),t.dispatchEvent(r)}};this.readAsArrayBuffer=function(t){FileAPI.readAsBinaryString(t,i)},this.readAsBinaryString=function(t){FileAPI.readAsBinaryString(t,i)},this.readAsDataURL=function(t){FileAPI.readAsDataURL(t,i)},this.readAsText=function(t){FileAPI.readAsText(t,i)}})}(),!function(){function t(t,e){window.XMLHttpRequest.prototype[t]=e(window.XMLHttpRequest.prototype[t])}function e(t,e,n,i,s,a){function l(){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function c(e){if(!m){m=!0;try{for(var l=e.__files_||e.target&&e.target.files,c=[],u=[],h=0;h<l.length;h++){var d=l.item(h);o(t,s,n,d,e)?c.push(d):u.push(d)}r(s,a,t,i,n,f,c,u,e),0==c.length&&(e.target.value=c)}finally{m=!1}}}function u(i){n.ngfMultiple&&i.attr("multiple",s(n.ngfMultiple)(t)),s(n.ngfMultiple)(t)||i.attr("multiple",void 0),n.accept&&i.attr("accept",n.accept),n.ngfCapture&&i.attr("capture",s(n.ngfCapture)(t)),n.ngfDisabled&&i.attr("disabled",s(n.ngfDisabled)(t));for(var r=0;r<e[0].attributes.length;r++){var o=e[0].attributes[r];"type"!==o.name&&"class"!==o.name&&"id"!==o.name&&"style"!==o.name&&i.attr(o.name,o.value)}}function h(){if(!e.attr("disabled")){var t=angular.element('<input type="file">');return u(t),l()?(e.replaceWith(t),e=t):(t.css("display","none").attr("tabindex","-1").attr("__ngf_gen__",!0),e.__ngf_ref_elem__&&e.__ngf_ref_elem__.remove(),e.__ngf_ref_elem__=t,document.body.appendChild(t[0])),t}}function d(e){r(s,a,t,i,n,f,[],[],e,!0)}function p(t){function n(){i[0].click(),l()&&(e.bind("click touchend",p),t.preventDefault())}t.preventDefault();var i=h(t);i&&(i.bind("change",c),d(t),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){n()},0):n())}var f=n.ngfChange||n.ngfSelect&&n.ngfSelect.indexOf("(")>0,m=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(e,h,u,c,d):e.bind("click touchend",p)}function n(t,e,n,s,a,l,c){function u(t,e,n){var i=!0,r=n.dataTransfer.items;if(null!=r)for(var s=0;s<r.length&&i;s++)i=i&&("file"==r[s].kind||""==r[s].kind)&&o(t,a,e,r[s],n);var l=a(e.ngfDragOverClass)(t,{$event:n});return l&&(l.delay&&(g=l.delay),l.accept&&(l=i?l.accept:l.reject)),l||e.ngfDragOverClass||"dragover"}function h(e,i,r,s){function u(i){o(t,a,n,i,e)?d.push(i):p.push(i)}function h(t,e,n){if(null!=e)if(e.isDirectory){var i=(n||"")+e.name;u({name:e.name,type:"directory",path:i});var r=e.createReader(),o=[];m++;var s=function(){r.readEntries(function(i){try{if(i.length)o=o.concat(Array.prototype.slice.call(i||[],0)),s();else{for(var r=0;r<o.length;r++)h(t,o[r],(n?n:"")+e.name+"/");m--}}catch(a){m--,console.error(a)}},function(){m--})};s()}else m++,e.file(function(t){try{m--,t.path=(n?n:"")+t.name,u(t)}catch(e){m--,console.error(e)}},function(){m--})}var d=[],p=[],f=e.dataTransfer.items,m=0;if(f&&f.length>0&&"file"!=c.protocol())for(var g=0;g<f.length;g++){if(f[g].webkitGetAsEntry&&f[g].webkitGetAsEntry()&&f[g].webkitGetAsEntry().isDirectory){var v=f[g].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&h(d,v)}else{var y=f[g].getAsFile();null!=y&&u(y)}if(!s&&d.length>0)break}else{var _=e.dataTransfer.files;if(null!=_)for(var g=0;g<_.length&&(u(_.item(g)),s||!(d.length>0));g++);}var b=0;!function w(t){l(function(){if(m)10*b++<2e4&&w(10);else{if(!s&&d.length>1){for(g=0;"directory"==d[g].type;)g++;d=[d[g]]}i(d,p)}},t||0)}()}var d=i();if(n.dropAvailable&&l(function(){t[n.dropAvailable]?t[n.dropAvailable].value=d:t[n.dropAvailable]=d}),!d)return void(1==a(n.ngfHideOnDropNotAvailable)(t)&&e.css("display","none"));var p,f=null,m=a(n.ngfStopPropagation),g=1,v=(a(n.ngfAccept),a(n.ngfDisabled));e[0].addEventListener("dragover",function(i){if(!v(t)){if(i.preventDefault(),m(t)&&i.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=i.dataTransfer.effectAllowed;i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}l.cancel(f),t.actualDragOverClass||(p=u(t,n,i)),e.addClass(p)}},!1),e[0].addEventListener("dragenter",function(e){v(t)||(e.preventDefault(),m(t)&&e.stopPropagation())},!1),e[0].addEventListener("dragleave",function(){v(t)||(f=l(function(){e.removeClass(p),p=null},g||1))},!1),e[0].addEventListener("drop",function(i){v(t)||(i.preventDefault(),m(t)&&i.stopPropagation(),e.removeClass(p),p=null,h(i,function(e,o){r(a,l,t,s,n,n.ngfChange||n.ngfDrop&&n.ngfDrop.indexOf("(")>0,e,o,i)},0!=a(n.ngfAllowDir)(t),n.multiple||a(n.ngfMultiple)(t)))},!1)}function i(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t}function r(t,e,n,i,r,o,s,a,l,c){function u(){i&&(t(r.ngModel).assign(n,s),e(function(){i&&i.$setViewValue(null!=s&&0==s.length?null:s)})),r.ngModelRejected&&t(r.ngModelRejected).assign(n,a),o&&t(o)(n,{$files:s,$rejectedFiles:a,$event:l})}c?u():e(function(){u()})}function o(t,e,n,i,r){var o=e(n.ngfAccept),a=e(n.ngfMaxSize)(t)||9007199254740991,l=e(n.ngfMinSize)(t)||-1,c=o(t,{$file:i,$event:r}),u=!1;if(null!=c&&angular.isString(c)){var h=new RegExp(s(c),"gi");u=null!=i.type&&i.type.match(h)||null!=i.name&&i.name.match(h)}return(null==c||u)&&(null==i.size||i.size<a&&i.size>l)}function s(t){if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])return t.substring(1,t.length-1);var e=t.split(","),n="";if(e.length>1)for(var i=0;i<e.length;i++)n+="("+s(e[i])+")",i<e.length-1&&(n+="|");else 0==t.indexOf(".")&&(t="*"+t),n="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var a;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&t("setRequestHeader",function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}});var l=angular.module("ngFileUpload",[]);l.version="4.0.4",l.service("Upload",["$http","$q","$timeout",function(t,e,n){function i(i){i.method=i.method||"POST",i.headers=i.headers||{},i.transformRequest=i.transformRequest||function(e,n){return window.ArrayBuffer&&e instanceof window.ArrayBuffer?e:t.defaults.transformRequest[0](e,n)};var r=e.defer(),o=r.promise;return i.headers.__setXHR_=function(){return function(t){t&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r.notify?r.notify(t):o.progress_fn&&n(function(){o.progress_fn(t)})},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r.notify?r.notify(t):o.progress_fn&&n(function(){o.progress_fn(t)}))},!1))}},t(i).then(function(t){r.resolve(t)},function(t){r.reject(t)},function(t){r.notify(t)}),o.success=function(t){return o.then(function(e){t(e.data,e.status,e.headers,i)}),o},o.error=function(t){return o.then(null,function(e){t(e.data,e.status,e.headers,i)}),o},o.progress=function(t){return o.progress_fn=t,o.then(null,null,function(e){t(e)}),o},o.abort=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),o},o.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(o,arguments),t.apply(o,arguments)}}(i.xhrFn),o},o}this.upload=function(t){return t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n=new FormData,i={};for(a in t.fields)t.fields.hasOwnProperty(a)&&(i[a]=t.fields[a]);if(e&&(i.data=e),t.formDataAppender)for(a in i)i.hasOwnProperty(a)&&t.formDataAppender(n,a,i[a]);else for(a in i)if(i.hasOwnProperty(a)){var r=i[a];void 0!==r&&(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r)?n.append(a,r):t.sendObjectsAsJsonBlob&&angular.isObject(r)?n.append(a,new Blob([r],{type:"application/json"})):n.append(a,JSON.stringify(r)))}if(null!=t.file){var o=t.fileFormDataName||"file";if(angular.isArray(t.file))for(var s=angular.isString(o),l=0;l<t.file.length;l++)n.append(s?o:o[l],t.file[l],t.fileName&&t.fileName[l]||t.file[l].name);else n.append(o,t.file,t.fileName||t.file.name)}return n}),i(t)},this.http=function(t){return i(t)}}]),l.directive("ngfSelect",["$parse","$timeout","$compile",function(t,n,i){return{restrict:"AEC",require:"?ngModel",link:function(r,o,s,a){e(r,o,s,a,t,n,i)}}}]),l.directive("ngfDrop",["$parse","$timeout","$location",function(t,e,i){return{restrict:"AEC",require:"?ngModel",link:function(r,o,s,a){n(r,o,s,a,t,e,i)}}}]),l.directive("ngfNoFileDrop",function(){return function(t,e){i()&&e.css("display","none")}}),l.directive("ngfDropAvailable",["$parse","$timeout",function(t,e){return function(n,r,o){if(i()){var s=t(o.ngfDropAvailable);e(function(){s(n),s.assign&&s.assign(n,!0)})}}}]),l.directive("ngfThumbnail",["$parse","$timeout",function(t,e){return{restrict:"AE",link:function(t,n,i){window.FileReader&&t.$watch(i.ngfThumbnail,function(t){t&&t.type.indexOf("image")>-1?e(function(){var i=new FileReader;i.readAsDataURL(t),i.onload=function(t){e(function(){n.attr("src",t.target.result)})}}):n.attr("src","")})}}}])}();